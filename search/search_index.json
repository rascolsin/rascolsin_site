{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Code, \u00e9lectronique, innovation, \ud83d\ude80 ... Tutoriels vari\u00e9s et diffusion des enseignements en section STI2D SIN au lyc\u00e9e Louis Rascol \u00e0 Albi. Infos \ud83d\udcf0 Import des s\u00e9quences de 1ere sur rascolsin.fr : Arduino et Algorithmique avec quelques mises \u00e0 jour. \ud83d\udcf0 Les dates des portes ouvertes 2019 \u00e0 Rascol et pour les IUT de l'acad\u00e9mie : Lyc\u00e9e Rascol : Vendredi 15 f\u00e9vrier 17h-20h et Samedi 16 f\u00e9vrier 09h-13h Universit\u00e9 Champollion, Albi : Samedi 16 f\u00e9vrier 10h-17h IUT de l'Universit\u00e9 Paul Sabatier : IUT de l'Universit\u00e9 Jean Jaur\u00e8s (IUT de Blagnac) : Mercredi 13 f\u00e9vrier 14h-17h et Samedi 16 f\u00e9vrier 09h30-13h Liens vers les groupes Google Classroom Classe PSTI2D2 Classe TSTI2D3 Classe SCIT4 Groupe CIT du jeudi matin Classe SCIT5 Groupe CIT du vendredi matin N'oubliez pas de vous identifier \u00e0 l'aide de votre mail Rascol en prenom.nom@e.rascol.net \ud83d\udea7 Ce nouveau site est encore en travaux, l'ancien est toujours disponible : sti2d-docs \ud83d\udea7","title":"Home"},{"location":"#code-electronique-innovation","text":"Tutoriels vari\u00e9s et diffusion des enseignements en section STI2D SIN au lyc\u00e9e Louis Rascol \u00e0 Albi.","title":"Code, \u00e9lectronique, innovation, \ud83d\ude80 ..."},{"location":"#infos","text":"\ud83d\udcf0 Import des s\u00e9quences de 1ere sur rascolsin.fr : Arduino et Algorithmique avec quelques mises \u00e0 jour. \ud83d\udcf0 Les dates des portes ouvertes 2019 \u00e0 Rascol et pour les IUT de l'acad\u00e9mie : Lyc\u00e9e Rascol : Vendredi 15 f\u00e9vrier 17h-20h et Samedi 16 f\u00e9vrier 09h-13h Universit\u00e9 Champollion, Albi : Samedi 16 f\u00e9vrier 10h-17h IUT de l'Universit\u00e9 Paul Sabatier : IUT de l'Universit\u00e9 Jean Jaur\u00e8s (IUT de Blagnac) : Mercredi 13 f\u00e9vrier 14h-17h et Samedi 16 f\u00e9vrier 09h30-13h","title":"Infos"},{"location":"#liens-vers-les-groupes-google-classroom","text":"Classe PSTI2D2 Classe TSTI2D3 Classe SCIT4 Groupe CIT du jeudi matin Classe SCIT5 Groupe CIT du vendredi matin N'oubliez pas de vous identifier \u00e0 l'aide de votre mail Rascol en prenom.nom@e.rascol.net \ud83d\udea7 Ce nouveau site est encore en travaux, l'ancien est toujours disponible : sti2d-docs \ud83d\udea7","title":"Liens vers les groupes Google Classroom"},{"location":"cit/","text":"Option de 2 nd Cr\u00e9ation et Innovation Technologiques S\u00e9quences","title":"CIT"},{"location":"cit/#option-de-2nd-creation-et-innovation-technologiques","text":"","title":"Option de 2nd Cr\u00e9ation et Innovation Technologiques"},{"location":"cit/#sequences","text":"","title":"S\u00e9quences"},{"location":"icn/","text":"Option de 2 nd Informatique et Cr\u00e9ation Num\u00e9rique S\u00e9quences","title":"ICN"},{"location":"icn/#option-de-2nd-informatique-et-creation-numerique","text":"","title":"Option de 2nd Informatique et Cr\u00e9ation Num\u00e9rique"},{"location":"icn/#sequences","text":"","title":"S\u00e9quences"},{"location":"psti2d/","text":"Premi\u00e8re STI2D SIN S\u00e9quences \u2714 Imaginer son programme avec l'algorithmique Le langage algorithmique permet de mettre en forme l'id\u00e9e d'un programme avec nos propres mots, il se d\u00e9tache volontairement de tout langage informatique. Faire un algorithme est le gros du travail d'un d\u00e9veloppeur, r\u00e9fl\u00e9chir \u00e0 l'articulation de son futur programme avant de d\u00e9marrer l'ordinateur est essentiel et rendra la programmation graphique ou en ligne de code plus rapide. \u2714 Programmer en environnement Arduino Suite \u00e0 l'apprentissage du codage en mode graphique nous souhaitons \u00e0 pr\u00e9sent faire un \u00e9veil \u00e0 la programmation en ligne de code. L'environnement Arduino appr\u00e9ci\u00e9 pour sa rapidit\u00e9 de prise en main et son c\u00f4t\u00e9 open-source \u00e9tait tout d\u00e9sign\u00e9 pour cette t\u00e2che, en ayant pour base le langage C/C++ et les microcontr\u00f4leurs Atmega de chez Atmel la surcouche Arduino permet de coder les algorithmes des plus simples aux plus complexes.","title":"PSTI2D"},{"location":"psti2d/#premiere-sti2d-sin","text":"","title":"Premi\u00e8re STI2D SIN"},{"location":"psti2d/#sequences","text":"","title":"S\u00e9quences"},{"location":"psti2d/#imaginer-son-programme-avec-lalgorithmique","text":"Le langage algorithmique permet de mettre en forme l'id\u00e9e d'un programme avec nos propres mots, il se d\u00e9tache volontairement de tout langage informatique. Faire un algorithme est le gros du travail d'un d\u00e9veloppeur, r\u00e9fl\u00e9chir \u00e0 l'articulation de son futur programme avant de d\u00e9marrer l'ordinateur est essentiel et rendra la programmation graphique ou en ligne de code plus rapide.","title":"\u2714 Imaginer son programme avec l'algorithmique"},{"location":"psti2d/#programmer-en-environnement-arduino","text":"Suite \u00e0 l'apprentissage du codage en mode graphique nous souhaitons \u00e0 pr\u00e9sent faire un \u00e9veil \u00e0 la programmation en ligne de code. L'environnement Arduino appr\u00e9ci\u00e9 pour sa rapidit\u00e9 de prise en main et son c\u00f4t\u00e9 open-source \u00e9tait tout d\u00e9sign\u00e9 pour cette t\u00e2che, en ayant pour base le langage C/C++ et les microcontr\u00f4leurs Atmega de chez Atmel la surcouche Arduino permet de coder les algorithmes des plus simples aux plus complexes.","title":"\u2714 Programmer en environnement Arduino"},{"location":"psti2d/algo/","text":"Imaginer son programme avec l\u2019algorithmique Le langage algorithmique permet de mettre en forme l'id\u00e9e d'un programme avec nos propres mots, il se d\u00e9tache volontairement de tout langage informatique. Faire un algorithme est le gros du travail d'un d\u00e9veloppeur, r\u00e9fl\u00e9chir \u00e0 l'articulation de son futur programme avant de d\u00e9marrer l'ordinateur est essentiel et rendra la programmation graphique ou en ligne de code plus rapide. Sommaire Cours Algorithme et organigrammes Utilisation de variables Fabrication de macros Activit\u00e9s Sas de banque Calculatrice","title":"Imaginer son programme avec l\u2019algorithmique"},{"location":"psti2d/algo/#imaginer-son-programme-avec-lalgorithmique","text":"Le langage algorithmique permet de mettre en forme l'id\u00e9e d'un programme avec nos propres mots, il se d\u00e9tache volontairement de tout langage informatique. Faire un algorithme est le gros du travail d'un d\u00e9veloppeur, r\u00e9fl\u00e9chir \u00e0 l'articulation de son futur programme avant de d\u00e9marrer l'ordinateur est essentiel et rendra la programmation graphique ou en ligne de code plus rapide.","title":"Imaginer son programme avec l\u2019algorithmique"},{"location":"psti2d/algo/#sommaire","text":"","title":"Sommaire"},{"location":"psti2d/algo/#cours","text":"Algorithme et organigrammes Utilisation de variables Fabrication de macros","title":"Cours"},{"location":"psti2d/algo/#activites","text":"Sas de banque Calculatrice","title":"Activit\u00e9s"},{"location":"psti2d/algo/01-Algo-Orgas/","text":"Algorithmique et organigrammes 1. L'algorithme Ensemble de r\u00e8gles op\u00e9ratoires dont l'application permet de r\u00e9soudre un probl\u00e8me \u00e9nonc\u00e9 au moyen d'un nombre fini d'op\u00e9rations. Un algorithme peut \u00eatre traduit, gr\u00e2ce \u00e0 un langage de programmation, en un programme ex\u00e9cutable par un ordinateur. Larousse : Algorithme Un algorithme peut \u00eatre : Repr\u00e9sent\u00e9 graphiquement par un organigramme ou algorigramme . \u00c9crit sous forme litt\u00e9rale avec un langage algorithmique ou pseudo-code . 2. L'organigramme Un organigramme en informatique, est une repr\u00e9sentation graphique d'un probl\u00e8me, de son analyse et de sa r\u00e9solution \u00e0 l'aide de symboles traduisant des op\u00e9rations, des donn\u00e9es, des liaisons ou des appareils. Larousse : Organigramme 2.1 Symboles de base d'un algorigramme 3. Le langage algorithmique Le langage algorithmique est une alternative \u00e0 l'utilisation des algorigrammes, appr\u00e9ci\u00e9 il permet une traduction plus facile des algorithmes en langage machine. Aucune convention universelle n'est d\u00e9finie pour le langage algorithmique, nous utiliserons en cours de sp\u00e9cialit\u00e9 les mot cl\u00e9s en Fran\u00e7ais donn\u00e9s ci-dessous. 3.1 Mots cl\u00e9s du langage 3.2 Structures de base Structure lin\u00e9aire La structure lin\u00e9aire encha\u00eene les actions, les unes apr\u00e8s les autres sans rebouclage ni d\u00e9cision. Structures r\u00e9p\u00e9titives Ces structures r\u00e9p\u00e8tent l'ex\u00e9cution d'un traitement, on parle alors de boucles . Structures alternatives Ces structures introduisent une ou plusieurs d\u00e9cisions, rajoutant alors des bifurcations dans le traitement.","title":"Algorithmique et organigrammes"},{"location":"psti2d/algo/01-Algo-Orgas/#algorithmique-et-organigrammes","text":"","title":"Algorithmique et organigrammes"},{"location":"psti2d/algo/01-Algo-Orgas/#1-lalgorithme","text":"Ensemble de r\u00e8gles op\u00e9ratoires dont l'application permet de r\u00e9soudre un probl\u00e8me \u00e9nonc\u00e9 au moyen d'un nombre fini d'op\u00e9rations. Un algorithme peut \u00eatre traduit, gr\u00e2ce \u00e0 un langage de programmation, en un programme ex\u00e9cutable par un ordinateur. Larousse : Algorithme Un algorithme peut \u00eatre : Repr\u00e9sent\u00e9 graphiquement par un organigramme ou algorigramme . \u00c9crit sous forme litt\u00e9rale avec un langage algorithmique ou pseudo-code .","title":"1. L'algorithme"},{"location":"psti2d/algo/01-Algo-Orgas/#2-lorganigramme","text":"Un organigramme en informatique, est une repr\u00e9sentation graphique d'un probl\u00e8me, de son analyse et de sa r\u00e9solution \u00e0 l'aide de symboles traduisant des op\u00e9rations, des donn\u00e9es, des liaisons ou des appareils. Larousse : Organigramme","title":"2. L'organigramme"},{"location":"psti2d/algo/01-Algo-Orgas/#21-symboles-de-base-dun-algorigramme","text":"","title":"2.1 Symboles de base d'un algorigramme"},{"location":"psti2d/algo/01-Algo-Orgas/#3-le-langage-algorithmique","text":"Le langage algorithmique est une alternative \u00e0 l'utilisation des algorigrammes, appr\u00e9ci\u00e9 il permet une traduction plus facile des algorithmes en langage machine. Aucune convention universelle n'est d\u00e9finie pour le langage algorithmique, nous utiliserons en cours de sp\u00e9cialit\u00e9 les mot cl\u00e9s en Fran\u00e7ais donn\u00e9s ci-dessous.","title":"3. Le langage algorithmique"},{"location":"psti2d/algo/01-Algo-Orgas/#31-mots-cles-du-langage","text":"","title":"3.1 Mots cl\u00e9s du langage"},{"location":"psti2d/algo/01-Algo-Orgas/#32-structures-de-base","text":"","title":"3.2 Structures de base"},{"location":"psti2d/algo/01-Algo-Orgas/#structure-lineaire","text":"La structure lin\u00e9aire encha\u00eene les actions, les unes apr\u00e8s les autres sans rebouclage ni d\u00e9cision.","title":"Structure lin\u00e9aire"},{"location":"psti2d/algo/01-Algo-Orgas/#structures-repetitives","text":"Ces structures r\u00e9p\u00e8tent l'ex\u00e9cution d'un traitement, on parle alors de boucles .","title":"Structures r\u00e9p\u00e9titives"},{"location":"psti2d/algo/01-Algo-Orgas/#structures-alternatives","text":"Ces structures introduisent une ou plusieurs d\u00e9cisions, rajoutant alors des bifurcations dans le traitement.","title":"Structures alternatives"},{"location":"psti2d/algo/02-Algo-Variables/","text":"Utilisation de variables 1. Les types de variables 1.1 Le bool\u00e9en Le bool\u00e9en est le plus petit type de variable que vous serez emmen\u00e9 \u00e0 rencontrer, il est cod\u00e9 sur seulement 2 bits. Son contenu ne peut \u00eatre que 0 ou 1 , soit Vrai ou Faux . Ce type est souvent utilis\u00e9 pour stocker l'\u00e9tat d'un capteur num\u00e9rique, par exemple un bouton poussoir : Vrai si le bouton est appuy\u00e9, Faux si il est rel\u00e2ch\u00e9. 1.2 L'octet L'octet est un type de variable cod\u00e9 sur 8 bits. Son contenu est un nombre pouvant aller de 0 \u00e0 255 . 1.4 L'entier L'entier est cod\u00e9 sur 16 bits. Son contenu est un nombre pouvant aller de {-2}^{15} {-2}^{15} \u00e0 {2}^{15}-1 {2}^{15}-1 soit de -32768 \u00e0 32767. Le calcul des extrema se fait sur 15 bits et non pas sur 16 car le bit de poids fort est r\u00e9serv\u00e9 pour le bit de signe, si celui-ci est \u00e0 1 le compl\u00e9ment \u00e0 deux du nombre qui suit est interpr\u00e9t\u00e9 comme un n\u00e9gatif, inversement pour un positif. 1.5 Le flottant Le flottant est cod\u00e9 sur 4 octets soit 32 bits. Son contenu est un nombre pouvant aller de 3.4028235E+38 \u00e0 -3.4028235E+38. Codage d'un nombre en virgule flottante : La virgule flottante est une technique pour stocker dans une variable un nombre r\u00e9el. Pour cela il suffit de d\u00e9composer le nombre de la mani\u00e8re suivante : Le bit de poids fort est le bit de signe, il est \u00e0 1 si le nombre est n\u00e9gatif, \u00e0 0 si il est positif. La mantisse contient les chiffres significatifs du nombre elle est cod\u00e9e sur 23 bits. L'exposant repr\u00e9sente la place de la virgule dans le nombre, il est cod\u00e9 sur 8 bits. 1.6 Le caract\u00e8re Le caract\u00e8re est un type de variable cod\u00e9 sur 8 bits. Son contenu est un caract\u00e8re , cod\u00e9 avec son code d\u00e9cimal ASCII correspondant. Pour enregistrer un caract\u00e8re il suffit de le mettre entre c\u00f4tes : 'a' , si on souhaite enregistrer le code d\u00e9cimal ASCII correspondant au caract\u00e8re souhait\u00e9 il suffit de le noter tel quel. Pour 'a' le code ASCII correspondant est 97. Le codage ASCII L'ASCII pour American Standard Code for Information Interchange (Code am\u00e9ricain normalis\u00e9 pour l'\u00e9change d'information) est un syst\u00e8me de codage des caract\u00e8res invent\u00e9 dans les 60 par l'ISO ( International Organization for Standardization ). C'est un syst\u00e8me de codage devenu un standard pour transmettre l'information de mani\u00e8re num\u00e9rique. Pour de plus amples renseignements sur la cr\u00e9ation du code ASCII n'h\u00e9sitez pas \u00e0 consulter la page Wikip\u00e9dia d\u00e9di\u00e9e. 2. La d\u00e9claration et l'initialisation de variables Pour utiliser une variable dans son algorithme il faut au pr\u00e9alable la cr\u00e9er, en programmation on parlera de d\u00e9clarer une variable . Les d\u00e9clarations de variables se font au d\u00e9but du programme si elles sont globales, au d\u00e9but de la macro si elles sont locales. Quand on d\u00e9clare une variable on a pour obligation de lui donner un nom, et de pr\u00e9ciser son type, il est pr\u00e9f\u00e9rable \u00e9galement de l'initialiser, c'est \u00e0 dire lui donner une valeur de d\u00e9part. Note Une variable locale ne peut s'utiliser que dans la macro ou le programme principal o\u00f9 elle est d\u00e9clar\u00e9e. Une variable globale se d\u00e9clare en d\u00e9but de l'algorithme et peut s'utiliser n'importe o\u00f9. Pour d\u00e9clarer et initialiser une variable il suffit d'utiliser l'instruction suivante : Dans cet exemple nous venons de d\u00e9clarer une variable de type entier appel\u00e9e ma_variable et initialis\u00e9e \u00e0 124. Warning Les noms de variables ne doivent pas contenir d'espaces, d'accents, de caract\u00e8res sp\u00e9ciaux autre que _ . Les minuscules et les majuscules sont aussi diff\u00e9renci\u00e9es. 3. La d\u00e9claration de constantes Une constante \u00e0 l'inverse d'une variable, ne varie pas lors de l'ex\u00e9cution du programme elle reste \u00e0 la valeur \u00e0 laquelle elle a \u00e9t\u00e9 initialis\u00e9e. Cela est tr\u00e8s utile pour d\u00e9finir un num\u00e9ro de pin ou une constante comme le nombre pi. Ici nous d\u00e9clarons une constante appel\u00e9e ma_constante et initialis\u00e9e \u00e0 la valeur 234. 4. Utilisation de variables ou de constantes En algorithmique pour tester le contenu d'une variable nous utiliserons des op\u00e9rateurs de comparaison comme = , < , > pouvant \u00eatre coupl\u00e9s avec des op\u00e9rateurs logiques. Pour affecter une valeur \u00e0 une variable nous utiliserons la fl\u00e8che : mavariable \\Leftarrow 22 mavariable \\Leftarrow 22 Op\u00e9rateurs de comparaison == Egalit\u00e9 != Diff\u00e9rence < Inf\u00e9rieur > Sup\u00e9rieur <= Inf\u00e9rieur ou \u00e9gal >= Sup\u00e9rieur ou \u00e9gal Op\u00e9rateurs logiques && Et logique | | Ou logique ! Non Important Lors d'une affectation, la variable doit \u00eatre \u00e0 gauche et la valeur \u00e0 affecter \u00e0 droite","title":"Utilisation de variables"},{"location":"psti2d/algo/02-Algo-Variables/#utilisation-de-variables","text":"","title":"Utilisation de variables"},{"location":"psti2d/algo/02-Algo-Variables/#1-les-types-de-variables","text":"","title":"1. Les types de variables"},{"location":"psti2d/algo/02-Algo-Variables/#11-le-booleen","text":"Le bool\u00e9en est le plus petit type de variable que vous serez emmen\u00e9 \u00e0 rencontrer, il est cod\u00e9 sur seulement 2 bits. Son contenu ne peut \u00eatre que 0 ou 1 , soit Vrai ou Faux . Ce type est souvent utilis\u00e9 pour stocker l'\u00e9tat d'un capteur num\u00e9rique, par exemple un bouton poussoir : Vrai si le bouton est appuy\u00e9, Faux si il est rel\u00e2ch\u00e9.","title":"1.1 Le bool\u00e9en"},{"location":"psti2d/algo/02-Algo-Variables/#12-loctet","text":"L'octet est un type de variable cod\u00e9 sur 8 bits. Son contenu est un nombre pouvant aller de 0 \u00e0 255 .","title":"1.2 L'octet"},{"location":"psti2d/algo/02-Algo-Variables/#14-lentier","text":"L'entier est cod\u00e9 sur 16 bits. Son contenu est un nombre pouvant aller de {-2}^{15} {-2}^{15} \u00e0 {2}^{15}-1 {2}^{15}-1 soit de -32768 \u00e0 32767. Le calcul des extrema se fait sur 15 bits et non pas sur 16 car le bit de poids fort est r\u00e9serv\u00e9 pour le bit de signe, si celui-ci est \u00e0 1 le compl\u00e9ment \u00e0 deux du nombre qui suit est interpr\u00e9t\u00e9 comme un n\u00e9gatif, inversement pour un positif.","title":"1.4 L'entier"},{"location":"psti2d/algo/02-Algo-Variables/#15-le-flottant","text":"Le flottant est cod\u00e9 sur 4 octets soit 32 bits. Son contenu est un nombre pouvant aller de 3.4028235E+38 \u00e0 -3.4028235E+38. Codage d'un nombre en virgule flottante : La virgule flottante est une technique pour stocker dans une variable un nombre r\u00e9el. Pour cela il suffit de d\u00e9composer le nombre de la mani\u00e8re suivante : Le bit de poids fort est le bit de signe, il est \u00e0 1 si le nombre est n\u00e9gatif, \u00e0 0 si il est positif. La mantisse contient les chiffres significatifs du nombre elle est cod\u00e9e sur 23 bits. L'exposant repr\u00e9sente la place de la virgule dans le nombre, il est cod\u00e9 sur 8 bits.","title":"1.5 Le flottant"},{"location":"psti2d/algo/02-Algo-Variables/#16-le-caractere","text":"Le caract\u00e8re est un type de variable cod\u00e9 sur 8 bits. Son contenu est un caract\u00e8re , cod\u00e9 avec son code d\u00e9cimal ASCII correspondant. Pour enregistrer un caract\u00e8re il suffit de le mettre entre c\u00f4tes : 'a' , si on souhaite enregistrer le code d\u00e9cimal ASCII correspondant au caract\u00e8re souhait\u00e9 il suffit de le noter tel quel. Pour 'a' le code ASCII correspondant est 97. Le codage ASCII L'ASCII pour American Standard Code for Information Interchange (Code am\u00e9ricain normalis\u00e9 pour l'\u00e9change d'information) est un syst\u00e8me de codage des caract\u00e8res invent\u00e9 dans les 60 par l'ISO ( International Organization for Standardization ). C'est un syst\u00e8me de codage devenu un standard pour transmettre l'information de mani\u00e8re num\u00e9rique. Pour de plus amples renseignements sur la cr\u00e9ation du code ASCII n'h\u00e9sitez pas \u00e0 consulter la page Wikip\u00e9dia d\u00e9di\u00e9e.","title":"1.6 Le caract\u00e8re"},{"location":"psti2d/algo/02-Algo-Variables/#2-la-declaration-et-linitialisation-de-variables","text":"Pour utiliser une variable dans son algorithme il faut au pr\u00e9alable la cr\u00e9er, en programmation on parlera de d\u00e9clarer une variable . Les d\u00e9clarations de variables se font au d\u00e9but du programme si elles sont globales, au d\u00e9but de la macro si elles sont locales. Quand on d\u00e9clare une variable on a pour obligation de lui donner un nom, et de pr\u00e9ciser son type, il est pr\u00e9f\u00e9rable \u00e9galement de l'initialiser, c'est \u00e0 dire lui donner une valeur de d\u00e9part. Note Une variable locale ne peut s'utiliser que dans la macro ou le programme principal o\u00f9 elle est d\u00e9clar\u00e9e. Une variable globale se d\u00e9clare en d\u00e9but de l'algorithme et peut s'utiliser n'importe o\u00f9. Pour d\u00e9clarer et initialiser une variable il suffit d'utiliser l'instruction suivante : Dans cet exemple nous venons de d\u00e9clarer une variable de type entier appel\u00e9e ma_variable et initialis\u00e9e \u00e0 124. Warning Les noms de variables ne doivent pas contenir d'espaces, d'accents, de caract\u00e8res sp\u00e9ciaux autre que _ . Les minuscules et les majuscules sont aussi diff\u00e9renci\u00e9es.","title":"2. La d\u00e9claration et l'initialisation de variables"},{"location":"psti2d/algo/02-Algo-Variables/#3-la-declaration-de-constantes","text":"Une constante \u00e0 l'inverse d'une variable, ne varie pas lors de l'ex\u00e9cution du programme elle reste \u00e0 la valeur \u00e0 laquelle elle a \u00e9t\u00e9 initialis\u00e9e. Cela est tr\u00e8s utile pour d\u00e9finir un num\u00e9ro de pin ou une constante comme le nombre pi. Ici nous d\u00e9clarons une constante appel\u00e9e ma_constante et initialis\u00e9e \u00e0 la valeur 234.","title":"3. La d\u00e9claration de constantes"},{"location":"psti2d/algo/02-Algo-Variables/#4-utilisation-de-variables-ou-de-constantes","text":"En algorithmique pour tester le contenu d'une variable nous utiliserons des op\u00e9rateurs de comparaison comme = , < , > pouvant \u00eatre coupl\u00e9s avec des op\u00e9rateurs logiques. Pour affecter une valeur \u00e0 une variable nous utiliserons la fl\u00e8che : mavariable \\Leftarrow 22 mavariable \\Leftarrow 22 Op\u00e9rateurs de comparaison == Egalit\u00e9 != Diff\u00e9rence < Inf\u00e9rieur > Sup\u00e9rieur <= Inf\u00e9rieur ou \u00e9gal >= Sup\u00e9rieur ou \u00e9gal Op\u00e9rateurs logiques && Et logique | | Ou logique ! Non Important Lors d'une affectation, la variable doit \u00eatre \u00e0 gauche et la valeur \u00e0 affecter \u00e0 droite","title":"4. Utilisation de variables ou de constantes"},{"location":"psti2d/algo/03-Algo-macros/","text":"Cr\u00e9ation et utilisation de macros en algorithmique Une macro aussi appel\u00e9e sous-programme ou fonction est une suite d'instuctions d\u00e9finies \u00e0 l'avance, pouvant \u00eatre \u00e9xectu\u00e9e \u00e0 l'infini. Une macro est utilis\u00e9e pour, par exemple simplifier le code en limitant les r\u00e9p\u00e9titions. 1. Cr\u00e9ation d'une macro sans param\u00e8tres d'entr\u00e9e ni de sortie La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique : 2. Cr\u00e9ation d'une macro avec param\u00e8tre d'entr\u00e9e La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique : 3. Cr\u00e9ation d'une macro avec param\u00e8tres d'entr\u00e9e et de sortie La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique : 4. Appel de macros Pour appeler une macro dans un algorithme il suffit de citer son nom, suivi entre parentheses des param\u00e8tres d'entr\u00e9e : Pour une macro sans param\u00e8tres d'entr\u00e9e ni de sortie : ma_macro() Pour une macro avec param\u00e8tres d'entr\u00e9e seulement : ma_macro(param1,param2) Pour une macro avec param\u00e8tres d'entr\u00e9e et de sortie : ma_variable = ma_macro(param1,param2)","title":"Cr\u00e9ation et utilisation de macros en algorithmique"},{"location":"psti2d/algo/03-Algo-macros/#creation-et-utilisation-de-macros-en-algorithmique","text":"Une macro aussi appel\u00e9e sous-programme ou fonction est une suite d'instuctions d\u00e9finies \u00e0 l'avance, pouvant \u00eatre \u00e9xectu\u00e9e \u00e0 l'infini. Une macro est utilis\u00e9e pour, par exemple simplifier le code en limitant les r\u00e9p\u00e9titions.","title":"Cr\u00e9ation et utilisation de macros en algorithmique"},{"location":"psti2d/algo/03-Algo-macros/#1-creation-dune-macro-sans-parametres-dentree-ni-de-sortie","text":"La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique :","title":"1. Cr\u00e9ation d'une macro sans param\u00e8tres d'entr\u00e9e ni de sortie"},{"location":"psti2d/algo/03-Algo-macros/#2-creation-dune-macro-avec-parametre-dentree","text":"La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique :","title":"2. Cr\u00e9ation d'une macro avec param\u00e8tre d'entr\u00e9e"},{"location":"psti2d/algo/03-Algo-macros/#3-creation-dune-macro-avec-parametres-dentree-et-de-sortie","text":"La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique :","title":"3. Cr\u00e9ation d'une macro avec param\u00e8tres d'entr\u00e9e et de sortie"},{"location":"psti2d/algo/03-Algo-macros/#4-appel-de-macros","text":"Pour appeler une macro dans un algorithme il suffit de citer son nom, suivi entre parentheses des param\u00e8tres d'entr\u00e9e : Pour une macro sans param\u00e8tres d'entr\u00e9e ni de sortie : ma_macro() Pour une macro avec param\u00e8tres d'entr\u00e9e seulement : ma_macro(param1,param2) Pour une macro avec param\u00e8tres d'entr\u00e9e et de sortie : ma_variable = ma_macro(param1,param2)","title":"4. Appel de macros"},{"location":"psti2d/algo/ACT1-Sas_banque/","text":"Activit\u00e9 : Sas de banque 1. Pr\u00e9sentation du syst\u00e8me La plupart des \u00e9tablissements bancaires disposent d'entr\u00e9es s\u00e9curis\u00e9es appel\u00e9es sas. Ce type d'entr\u00e9e est compos\u00e9e de 2 portes en verre \u00e9pais et d'un espace tampon entre, l\u2019acc\u00e8s est contr\u00f4l\u00e9 par une console \u00e0 l\u2019accueil, les demandes d'entr\u00e9es se font par un bo\u00eetier au niveau de la premi\u00e8re porte et un autre bo\u00eetier au niveau de la seconde. 1.1 Fonctionnement Quand un client ou un visiteur souhaite acc\u00e9der \u00e0 l'\u00e9tablissement il demande l'ouverture de la premi\u00e8re porte en appuyant sur le bouton du bo\u00eetier d'entr\u00e9e, apr\u00e8s un contr\u00f4le visuel l'agent d'accueil a alors la possibilit\u00e9 d'ouvrir ou non l'entr\u00e9e du sas. Le client une fois rentr\u00e9 dans le sas doit attendre la fermeture puis le verrouillage de la premi\u00e8re porte, il doit ensuite appuyer sur un autre bouton pour demander l'ouverture de la seconde porte et ainsi acc\u00e9der \u00e0 l'accueil. Un client peut demander \u00e0 entrer dans le sas seulement lorsque les deux portes sont ferm\u00e9es et verrouill\u00e9es . Quand le client souhaite sortir de l'\u00e9tablissement, l'agent d'accueil doit d'abord lui ouvrir la seconde porte, attendre que le client rentre dans le sas, attendre la fermeture et le verrouillage de la seconde porte puis lui ouvrir la premi\u00e8re. Les portes se verrouillent automatiquement lorsque leur bouton d'ouverture sur la console d'accueil, est rel\u00e2ch\u00e9 . 1.2 Mat\u00e9riel Vous avez \u00e0 votre disposition pour r\u00e9aliser la commande de ce syst\u00e8me, les capteurs et actionneurs suivants : Capteurs Nom Code Description Capteur d'\u00e9tat porte 1 ep1 0 si porte 1 ouverte, 1 si porte 1 ferm\u00e9e Capteur d'\u00e9tat porte 2 ep2 0 si porte 2 ouverte, 1 si porte 2 ferm\u00e9e Bouton poussoir d'ouverture porte 1 bpop1 0 si bp rel\u00e2ch\u00e9, 1 si bp appuy\u00e9 Bouton poussoir d'ouverture porte 2 bpop2 0 si bp rel\u00e2ch\u00e9, 1 si bp appuy\u00e9 Bouton poussoir demande d'ouverture porte 1 bpd1 0 si bp rel\u00e2ch\u00e9, 1 si bp appuy\u00e9 Bouton poussoir demande d'ouverture porte 2 bpd2 0 si bp rel\u00e2ch\u00e9, 1 si bp appuy\u00e9 Actionneurs Nom Code Description Led demande ouverture porte 1 ldp1 0 pour \u00e9teindre, 1 pour allumer Led demande ouverture porte 2 ldp2 0 pour \u00e9teindre, 1 pour allumer Led verrouillage porte 1 lvp1 0 pour \u00e9teindre, 1 pour allumer Led verrouillage porte 2 lvp2 0 pour \u00e9teindre, 1 pour allumer Led d\u00e9verrouillage porte 1 ldvp1 0 pour \u00e9teindre, 1 pour allumer Led d\u00e9verrouillage porte 2 ldvp2 0 pour \u00e9teindre, 1 pour allumer Led refus bo\u00eetier porte 1 lrp1 0 pour \u00e9teindre, 1 pour allumer Led refus bo\u00eetier porte 2 lrp2 0 pour \u00e9teindre, 1 pour allumer Led accord bo\u00eetier porte 1 lap1 0 pour \u00e9teindre, 1 pour allumer Led accord bo\u00eetier porte 2 lap2 0 pour \u00e9teindre, 1 pour allumer Verrou porte 1 vp1 0 pour d\u00e9verrouiller, 1 pour verrouiller Verrou porte 2 vp2 0 pour d\u00e9verrouiller, 1 pour verrouiller 2. Travail \u00e0 faire Vous devez r\u00e9aliser l'algorithme du sas de banque en respectant les \u00e9tapes suivantes. A. Cr\u00e9ation du programme principal Nous souhaitons r\u00e9aliser l'algorithme permettant la gestion du sas, dans un premier temps vous ne vous occuperez pas de g\u00e9rer les LEDs sur les bo\u00eetiers de commandes . A faire \u00c9crivez votre algorithme sur une feuille libre au crayon \u00e0 papier en vous servant du squelette donn\u00e9 ci-dessous. Appelez l'enseignant pour valider, une fois le travail termin\u00e9. B. Ajout des leds de demandes d'ouverture A pr\u00e9sent nous souhaitons allumer les leds de demande d'ouverture : Quand le client appui sur bpd1 , ldp1 doit s'allumer jusqu'\u00e0 ce que l'agent d'accueil ouvre la porte 1. Quand le client appui sur bpd2 , ldp2 doit s'allumer jusqu'\u00e0 ce que l'agent d'accueil ouvre la porte 2. A faire Rajoutez \u00e0 l'algorithme pr\u00e9c\u00e9dent les lignes de gestion des deux leds de demande d'acc\u00e8s. Appelez l'enseignant pour valider, une fois le travail termin\u00e9. C. Ajout de la macro led A pr\u00e9sent nous souhaitons ajouter les leds restantes ( lvp1 , lvp2 , ldvp1 , ldvp2 , lrp1 , lap1 , lrp2 , lap2 ) \u00e0 l'algorithme de gestion du sas de banque, une macro appel\u00e9e leds_etats_portes sera d\u00e9di\u00e9e \u00e0 cette t\u00e2che, nous en donnons le prototype ci-dessous : vide leds_etats_portes (booleen etat_p1, booleen etat_p2) A faire \u00c9crivez votre algorithme sur une feuille libre au crayon \u00e0 papier en vous servant du squelette donn\u00e9 ci-dessous. Rajouter l'appel de la macro que vous venez de cr\u00e9er au programme principal. Appelez l'enseignant pour valider, une fois le travail termin\u00e9.","title":"Activit\u00e9 : Sas de banque"},{"location":"psti2d/algo/ACT1-Sas_banque/#activite-sas-de-banque","text":"","title":"Activit\u00e9 : Sas de banque"},{"location":"psti2d/algo/ACT1-Sas_banque/#1-presentation-du-systeme","text":"La plupart des \u00e9tablissements bancaires disposent d'entr\u00e9es s\u00e9curis\u00e9es appel\u00e9es sas. Ce type d'entr\u00e9e est compos\u00e9e de 2 portes en verre \u00e9pais et d'un espace tampon entre, l\u2019acc\u00e8s est contr\u00f4l\u00e9 par une console \u00e0 l\u2019accueil, les demandes d'entr\u00e9es se font par un bo\u00eetier au niveau de la premi\u00e8re porte et un autre bo\u00eetier au niveau de la seconde.","title":"1. Pr\u00e9sentation du syst\u00e8me"},{"location":"psti2d/algo/ACT1-Sas_banque/#11-fonctionnement","text":"Quand un client ou un visiteur souhaite acc\u00e9der \u00e0 l'\u00e9tablissement il demande l'ouverture de la premi\u00e8re porte en appuyant sur le bouton du bo\u00eetier d'entr\u00e9e, apr\u00e8s un contr\u00f4le visuel l'agent d'accueil a alors la possibilit\u00e9 d'ouvrir ou non l'entr\u00e9e du sas. Le client une fois rentr\u00e9 dans le sas doit attendre la fermeture puis le verrouillage de la premi\u00e8re porte, il doit ensuite appuyer sur un autre bouton pour demander l'ouverture de la seconde porte et ainsi acc\u00e9der \u00e0 l'accueil. Un client peut demander \u00e0 entrer dans le sas seulement lorsque les deux portes sont ferm\u00e9es et verrouill\u00e9es . Quand le client souhaite sortir de l'\u00e9tablissement, l'agent d'accueil doit d'abord lui ouvrir la seconde porte, attendre que le client rentre dans le sas, attendre la fermeture et le verrouillage de la seconde porte puis lui ouvrir la premi\u00e8re. Les portes se verrouillent automatiquement lorsque leur bouton d'ouverture sur la console d'accueil, est rel\u00e2ch\u00e9 .","title":"1.1 Fonctionnement"},{"location":"psti2d/algo/ACT1-Sas_banque/#12-materiel","text":"Vous avez \u00e0 votre disposition pour r\u00e9aliser la commande de ce syst\u00e8me, les capteurs et actionneurs suivants :","title":"1.2 Mat\u00e9riel"},{"location":"psti2d/algo/ACT1-Sas_banque/#capteurs","text":"Nom Code Description Capteur d'\u00e9tat porte 1 ep1 0 si porte 1 ouverte, 1 si porte 1 ferm\u00e9e Capteur d'\u00e9tat porte 2 ep2 0 si porte 2 ouverte, 1 si porte 2 ferm\u00e9e Bouton poussoir d'ouverture porte 1 bpop1 0 si bp rel\u00e2ch\u00e9, 1 si bp appuy\u00e9 Bouton poussoir d'ouverture porte 2 bpop2 0 si bp rel\u00e2ch\u00e9, 1 si bp appuy\u00e9 Bouton poussoir demande d'ouverture porte 1 bpd1 0 si bp rel\u00e2ch\u00e9, 1 si bp appuy\u00e9 Bouton poussoir demande d'ouverture porte 2 bpd2 0 si bp rel\u00e2ch\u00e9, 1 si bp appuy\u00e9","title":"Capteurs"},{"location":"psti2d/algo/ACT1-Sas_banque/#actionneurs","text":"Nom Code Description Led demande ouverture porte 1 ldp1 0 pour \u00e9teindre, 1 pour allumer Led demande ouverture porte 2 ldp2 0 pour \u00e9teindre, 1 pour allumer Led verrouillage porte 1 lvp1 0 pour \u00e9teindre, 1 pour allumer Led verrouillage porte 2 lvp2 0 pour \u00e9teindre, 1 pour allumer Led d\u00e9verrouillage porte 1 ldvp1 0 pour \u00e9teindre, 1 pour allumer Led d\u00e9verrouillage porte 2 ldvp2 0 pour \u00e9teindre, 1 pour allumer Led refus bo\u00eetier porte 1 lrp1 0 pour \u00e9teindre, 1 pour allumer Led refus bo\u00eetier porte 2 lrp2 0 pour \u00e9teindre, 1 pour allumer Led accord bo\u00eetier porte 1 lap1 0 pour \u00e9teindre, 1 pour allumer Led accord bo\u00eetier porte 2 lap2 0 pour \u00e9teindre, 1 pour allumer Verrou porte 1 vp1 0 pour d\u00e9verrouiller, 1 pour verrouiller Verrou porte 2 vp2 0 pour d\u00e9verrouiller, 1 pour verrouiller","title":"Actionneurs"},{"location":"psti2d/algo/ACT1-Sas_banque/#2-travail-a-faire","text":"Vous devez r\u00e9aliser l'algorithme du sas de banque en respectant les \u00e9tapes suivantes.","title":"2. Travail \u00e0 faire"},{"location":"psti2d/algo/ACT1-Sas_banque/#a-creation-du-programme-principal","text":"Nous souhaitons r\u00e9aliser l'algorithme permettant la gestion du sas, dans un premier temps vous ne vous occuperez pas de g\u00e9rer les LEDs sur les bo\u00eetiers de commandes . A faire \u00c9crivez votre algorithme sur une feuille libre au crayon \u00e0 papier en vous servant du squelette donn\u00e9 ci-dessous. Appelez l'enseignant pour valider, une fois le travail termin\u00e9.","title":"A. Cr\u00e9ation du programme principal"},{"location":"psti2d/algo/ACT1-Sas_banque/#b-ajout-des-leds-de-demandes-douverture","text":"A pr\u00e9sent nous souhaitons allumer les leds de demande d'ouverture : Quand le client appui sur bpd1 , ldp1 doit s'allumer jusqu'\u00e0 ce que l'agent d'accueil ouvre la porte 1. Quand le client appui sur bpd2 , ldp2 doit s'allumer jusqu'\u00e0 ce que l'agent d'accueil ouvre la porte 2. A faire Rajoutez \u00e0 l'algorithme pr\u00e9c\u00e9dent les lignes de gestion des deux leds de demande d'acc\u00e8s. Appelez l'enseignant pour valider, une fois le travail termin\u00e9.","title":"B. Ajout des leds de demandes d'ouverture"},{"location":"psti2d/algo/ACT1-Sas_banque/#c-ajout-de-la-macro-led","text":"A pr\u00e9sent nous souhaitons ajouter les leds restantes ( lvp1 , lvp2 , ldvp1 , ldvp2 , lrp1 , lap1 , lrp2 , lap2 ) \u00e0 l'algorithme de gestion du sas de banque, une macro appel\u00e9e leds_etats_portes sera d\u00e9di\u00e9e \u00e0 cette t\u00e2che, nous en donnons le prototype ci-dessous : vide leds_etats_portes (booleen etat_p1, booleen etat_p2) A faire \u00c9crivez votre algorithme sur une feuille libre au crayon \u00e0 papier en vous servant du squelette donn\u00e9 ci-dessous. Rajouter l'appel de la macro que vous venez de cr\u00e9er au programme principal. Appelez l'enseignant pour valider, une fois le travail termin\u00e9.","title":"C. Ajout de la macro led"},{"location":"psti2d/algo/ACT2-Calculatrice/","text":"Activit\u00e9 : Calculatrice 1. Pr\u00e9sentation du syst\u00e8me Nous souhaitons r\u00e9aliser une calculatrice effectuant les calculs de base suivants : L'addition La soustraction La multiplication La division Notre calculatrice effectuera des calculs seulement entre 2 nombres . Pour simplifier l'algorithme nous demanderons \u00e0 l'utilisateur de choisir son calcul avant de rentrer les nombres . 1.1 Fonctionnement Quand le bouton d'allumage est sur la position ON, l'\u00e9cran de la calculette affichera le menu suivant : Choisissez votre calcul, puis appuyez sur ENTER : 1 - addition 2 - soustraction 3 - multiplication 4 - division Une fois que l'utilisateur a saisi son choix sur le clavier et appuy\u00e9 sur ENTER , l'\u00e9cran s'effacera et devra afficher : Rentrez le premier nombre, appuyez sur ENTER : Une fois le nombre saisi et l'appui sur la touche ENTER effectu\u00e9s, l'\u00e9cran s'effacera et demandera la saisie du second nombre : Rentrez le second nombre, appuyez sur ENTER : L'\u00e9cran s'effacera et affichera le calcul \u00e0 effectuer, nous donnons ci-dessous l'exemple pour l'op\u00e9ration 6+1 : Calcul a effectuer, appuyez sur ENTER : 6+1 Pour finir l'\u00e9cran s'efface et le r\u00e9sultat du calcul est affich\u00e9 : R\u00e9sultat : 6 + 1 = 7 Une fois le calcul effectu\u00e9 l'\u00e9cran s'effacera et, le menu sera \u00e0 nouveau affich\u00e9 l'utilisateur pourra effectuer un nouveau calcul si il le souhaite. 1.2 Mat\u00e9riel Vous avez \u00e0 votre disposition pour r\u00e9aliser ce syst\u00e8me, les macros, capteurs et actionneurs suivants : Capteurs Nom Code Description Touche entr\u00e9e ENTER Permet de valider un choix ou un calcul Macros Fonction \u00e0 appeler Code R\u00f4le Ecrire sur le lcd LCD_ecrire(\"chaine de carcact\u00e8res\") ou LCD_ecrire(variable) Permet d'\u00e9crire une cha\u00eene de caract\u00e8res ou le contenu d'une variable sur l'\u00e9cran. Effacer le contenu de l'\u00e9cran lcd LCD_effacer() Permet d'effacer l'\u00e9cran Lire le clavier num\u00e9rique flottant nombre=Lire_clavier() Permet de lire le nombre ou le choix rentr\u00e9s par l'utilisateur, renvoi le r\u00e9sultat dans un flottant. 2. Travail \u00e0 faire Vous devez r\u00e9aliser l'algorithme du sas de banque en respectant les \u00e9tapes suivantes. A. Cr\u00e9ation des macros de calculs Dans un premier temps nous souhaitons cr\u00e9er les 4 macros correspondant aux 4 calculs de base effectu\u00e9s par la calculatrice. Nous en donnons les prototypes ci-dessous : A faire \u00c9crivez l'algorithme des 4 macros sur une feuille libre au crayon \u00e0 papier Appelez l'enseignant pour valider, une fois le travail termin\u00e9. B. Affichage du menu et saisie du choix utilisateur Nous souhaitons \u00e0 pr\u00e9sent cr\u00e9er le programme principal qui affiche le menu, lit le choix de l'utilisateur et le stocke dans une variable choix_menu . Il s'agit ensuite de demander \u00e0 l'utilisateur de saisir le premier nombre \u00e0 stocker dans nb1 , puis le second dans nb2 A faire \u00c9crivez l'algorithme du programme principal \u00e0 la suite de votre feuille au crayon \u00e0 papier Appelez l'enseignant pour valider, une fois le travail termin\u00e9. C. R\u00e9alisation du calcul et affichage du r\u00e9sultat Pour effectuer le calcul nous utiliserons une structure choix qui orientera l'execution vers le calcul choisi par l'utilisateur et affichera le r\u00e9sultat. A faire Terminez l'algorithme du programme principal \u00e0 la suite de votre feuille au crayon \u00e0 papier Appelez l'enseignant pour valider, une fois le travail termin\u00e9.","title":"Activit\u00e9 : Calculatrice"},{"location":"psti2d/algo/ACT2-Calculatrice/#activite-calculatrice","text":"","title":"Activit\u00e9 : Calculatrice"},{"location":"psti2d/algo/ACT2-Calculatrice/#1-presentation-du-systeme","text":"Nous souhaitons r\u00e9aliser une calculatrice effectuant les calculs de base suivants : L'addition La soustraction La multiplication La division Notre calculatrice effectuera des calculs seulement entre 2 nombres . Pour simplifier l'algorithme nous demanderons \u00e0 l'utilisateur de choisir son calcul avant de rentrer les nombres .","title":"1. Pr\u00e9sentation du syst\u00e8me"},{"location":"psti2d/algo/ACT2-Calculatrice/#11-fonctionnement","text":"Quand le bouton d'allumage est sur la position ON, l'\u00e9cran de la calculette affichera le menu suivant : Choisissez votre calcul, puis appuyez sur ENTER : 1 - addition 2 - soustraction 3 - multiplication 4 - division Une fois que l'utilisateur a saisi son choix sur le clavier et appuy\u00e9 sur ENTER , l'\u00e9cran s'effacera et devra afficher : Rentrez le premier nombre, appuyez sur ENTER : Une fois le nombre saisi et l'appui sur la touche ENTER effectu\u00e9s, l'\u00e9cran s'effacera et demandera la saisie du second nombre : Rentrez le second nombre, appuyez sur ENTER : L'\u00e9cran s'effacera et affichera le calcul \u00e0 effectuer, nous donnons ci-dessous l'exemple pour l'op\u00e9ration 6+1 : Calcul a effectuer, appuyez sur ENTER : 6+1 Pour finir l'\u00e9cran s'efface et le r\u00e9sultat du calcul est affich\u00e9 : R\u00e9sultat : 6 + 1 = 7 Une fois le calcul effectu\u00e9 l'\u00e9cran s'effacera et, le menu sera \u00e0 nouveau affich\u00e9 l'utilisateur pourra effectuer un nouveau calcul si il le souhaite.","title":"1.1 Fonctionnement"},{"location":"psti2d/algo/ACT2-Calculatrice/#12-materiel","text":"Vous avez \u00e0 votre disposition pour r\u00e9aliser ce syst\u00e8me, les macros, capteurs et actionneurs suivants :","title":"1.2 Mat\u00e9riel"},{"location":"psti2d/algo/ACT2-Calculatrice/#capteurs","text":"Nom Code Description Touche entr\u00e9e ENTER Permet de valider un choix ou un calcul","title":"Capteurs"},{"location":"psti2d/algo/ACT2-Calculatrice/#macros","text":"Fonction \u00e0 appeler Code R\u00f4le Ecrire sur le lcd LCD_ecrire(\"chaine de carcact\u00e8res\") ou LCD_ecrire(variable) Permet d'\u00e9crire une cha\u00eene de caract\u00e8res ou le contenu d'une variable sur l'\u00e9cran. Effacer le contenu de l'\u00e9cran lcd LCD_effacer() Permet d'effacer l'\u00e9cran Lire le clavier num\u00e9rique flottant nombre=Lire_clavier() Permet de lire le nombre ou le choix rentr\u00e9s par l'utilisateur, renvoi le r\u00e9sultat dans un flottant.","title":"Macros"},{"location":"psti2d/algo/ACT2-Calculatrice/#2-travail-a-faire","text":"Vous devez r\u00e9aliser l'algorithme du sas de banque en respectant les \u00e9tapes suivantes.","title":"2. Travail \u00e0 faire"},{"location":"psti2d/algo/ACT2-Calculatrice/#a-creation-des-macros-de-calculs","text":"Dans un premier temps nous souhaitons cr\u00e9er les 4 macros correspondant aux 4 calculs de base effectu\u00e9s par la calculatrice. Nous en donnons les prototypes ci-dessous : A faire \u00c9crivez l'algorithme des 4 macros sur une feuille libre au crayon \u00e0 papier Appelez l'enseignant pour valider, une fois le travail termin\u00e9.","title":"A. Cr\u00e9ation des macros de calculs"},{"location":"psti2d/algo/ACT2-Calculatrice/#b-affichage-du-menu-et-saisie-du-choix-utilisateur","text":"Nous souhaitons \u00e0 pr\u00e9sent cr\u00e9er le programme principal qui affiche le menu, lit le choix de l'utilisateur et le stocke dans une variable choix_menu . Il s'agit ensuite de demander \u00e0 l'utilisateur de saisir le premier nombre \u00e0 stocker dans nb1 , puis le second dans nb2 A faire \u00c9crivez l'algorithme du programme principal \u00e0 la suite de votre feuille au crayon \u00e0 papier Appelez l'enseignant pour valider, une fois le travail termin\u00e9.","title":"B. Affichage du menu et saisie du choix utilisateur"},{"location":"psti2d/algo/ACT2-Calculatrice/#c-realisation-du-calcul-et-affichage-du-resultat","text":"Pour effectuer le calcul nous utiliserons une structure choix qui orientera l'execution vers le calcul choisi par l'utilisateur et affichera le r\u00e9sultat. A faire Terminez l'algorithme du programme principal \u00e0 la suite de votre feuille au crayon \u00e0 papier Appelez l'enseignant pour valider, une fois le travail termin\u00e9.","title":"C. R\u00e9alisation du calcul et affichage du r\u00e9sultat"},{"location":"psti2d/arduino/","text":"Programmation en environnement Arduino Cette s\u00e9quence qui est la suite de celle sur la programmation algorithmique, a pour but un \u00e9veil \u00e0 la programmation en ligne de code. L'environnement Arduino appr\u00e9ci\u00e9 pour sa rapidit\u00e9 de prise en main et son c\u00f4t\u00e9 open-source \u00e9tait tout d\u00e9sign\u00e9 pour cette t\u00e2che, en ayant pour base le langage C/C++ et les microcontr\u00f4leurs Atmega de chez Atmel la surcouche Arduino permet de coder les algorithmiques des plus simples aux plus complexes. Sommaire Cours Structure d'un programme Arduino Les variables et constantes dans un code Arduino Les fonctions de base du langage C/C++ Les fonctions Arduino Utilisation des modules Grove de Seeed Studio Cr\u00e9ation d'une macro ou sous-programme en environnement C/C++ Les interruptions Le timer Activit\u00e9s D\u00e9couverte des entr\u00e9es sorties num\u00e9riques Exploitation du port s\u00e9rie D\u00e9couverte du Convertisseur Num\u00e9rique Analogique (CAN) La fonction Modulation de Largeur d'Impulsions ou PWM Les macros Les interruptions Le timer","title":"Programmation en environnement Arduino"},{"location":"psti2d/arduino/#programmation-en-environnement-arduino","text":"Cette s\u00e9quence qui est la suite de celle sur la programmation algorithmique, a pour but un \u00e9veil \u00e0 la programmation en ligne de code. L'environnement Arduino appr\u00e9ci\u00e9 pour sa rapidit\u00e9 de prise en main et son c\u00f4t\u00e9 open-source \u00e9tait tout d\u00e9sign\u00e9 pour cette t\u00e2che, en ayant pour base le langage C/C++ et les microcontr\u00f4leurs Atmega de chez Atmel la surcouche Arduino permet de coder les algorithmiques des plus simples aux plus complexes.","title":"Programmation en environnement Arduino"},{"location":"psti2d/arduino/#sommaire","text":"","title":"Sommaire"},{"location":"psti2d/arduino/#cours","text":"Structure d'un programme Arduino Les variables et constantes dans un code Arduino Les fonctions de base du langage C/C++ Les fonctions Arduino Utilisation des modules Grove de Seeed Studio Cr\u00e9ation d'une macro ou sous-programme en environnement C/C++ Les interruptions Le timer","title":"Cours"},{"location":"psti2d/arduino/#activites","text":"D\u00e9couverte des entr\u00e9es sorties num\u00e9riques Exploitation du port s\u00e9rie D\u00e9couverte du Convertisseur Num\u00e9rique Analogique (CAN) La fonction Modulation de Largeur d'Impulsions ou PWM Les macros Les interruptions Le timer","title":"Activit\u00e9s"},{"location":"psti2d/arduino/01-Structure_d_un_programme_Arduino/","text":"Structure d'un programme Arduino Un programme Arduino est toujours structur\u00e9 de la m\u00eame mani\u00e8re : Une partie initialisations et d\u00e9clarations de variables, une partie setup() et une partie loop() 1. Le cartouche Tout programme doit contenir un cartouche, il permet d'informer le lecteur sur : Le nom du programme Le r\u00f4le du programme, d\u00e9crit en quelques mots. Son auteur et \u00e9ventuellement comment communiquer avec lui (mail) La version du code en commen\u00e7ant par V0.0 et sa date \u00c9ventuellement une licence si le code est publi\u00e9 sur internet Le logiciel permettant sa compilation (dans notre cas l'IDE Arduino) Voici un exemple de cartouche pour un programme Arduino avec licence GNU V3.0, que vous pouvez utiliser pour vos propres codes : /************************************************************************************************** Nom ......... : Projet_Alarme_Emission_433.ino Role ........ : Transmet en 433MHz gr\u00e2ce \u00e0 la biblioth\u00e8que VirtualWire une cha\u00eene de caract\u00e8re sur la pin 12 de l'Arduino Mega 2560 * Dans le cas normal envoi :\"Repos_capteur_ILS\" * Dans le cas d'un front montant sur CapteurPin envoi : \"Alerte_capteur_ILS\" Auteur ...... : J.Serrand Mail ........ : joris.serrand@rascol.net Version ..... : V0.0 du 17/02/16 Licence ..... : Copyright (C) 2016 Joris SERRAND This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ 2. Initialisations et d\u00e9clarations de variables ou constantes C'est dans cette partie que nous faisons les ajouts de biblioth\u00e8ques n\u00e9cessaires \u00e0 l'ex\u00e9cution de notre code, ainsi que les d\u00e9clarations et initialisations de variables et constantes. M\u00eame si le c++ autorise les d\u00e9clarations n'importe o\u00f9 dans le programme, il est vivement conseill\u00e9 de toutes les regrouper dans cette partie. Voici un exemple de d'ajout de biblioth\u00e8ques et de d\u00e9clarations : //Ajout de biblioth\u00e8ques #include <Wire.h> //Insertion de la biblioth\u00e8que pour les fonctions I2C //D\u00e9clarations de constantes #define bp 10 //D\u00e9claration d'une constante appel\u00e9e bp de valeur 10 const float pi = 3.14 ; //D\u00e9claration d'une constante de type float et de nom \"pi\" initialis\u00e9e \u00e0 3.14 //D\u00e9claration de variables int cpt = 0 ; //D\u00e9claration d'un entier de nom \"cpt\" initialis\u00e9 \u00e0 0 float vitesse = 10.5 ; //D\u00e9claration d'un flottant de nom \"vitesse\" initialis\u00e9 \u00e0 10.5 3. Le param\u00e9trage du programme setup() La partie void setup() renferme le param\u00e9trage n\u00e9cessaire au fonctionnement du programme, on peut par exemple y trouver : Le pinMode() , permettant de dire si une pin num\u00e9rique est utilis\u00e9e en entr\u00e9e ou en sortie. Le Serial.begin() , permettant de param\u00e9trer la vitesse de transfert de l'UART. ... Warning Ne pas commencer \u00e0 \u00e9crire votre code dans cette partie, setup() ne doit contenir que le param\u00e9trage et ne s'ex\u00e9cute qu'une seule fois lors du lancement du programme. Voici un exemple de setup() : void setup () { Wire . begin (); //Initialisation de la liaison I2C lcd . init (); //Initialisation du LCD pinMode ( 4 , INPUT ); //Param\u00e9trage de la pin num\u00e9rique 4 en entr\u00e9e Serial . begin ( 9600 ); //Param\u00e9trage de la vitesse du port s\u00e9rie } 4. Le programme principal loop() La partie void loop() est le programme principal de votre code Arduino. Comme son nom l'indique \u00e9crire dans cette partie revient \u00e0 \u00e9crire dans une boucle while(1) , le programme est reboucl\u00e9 sans fin. Exemple de programme principal faisant clignoter la led 13 (led pr\u00e9sente sur le circuit imprim\u00e9 d'une carte Arduino UNO) : void loop () { digitalWrite ( 13 , HIGH ); // Met la pin 13 au niveau haut, ce qui a pour effet d'allumer la led delay ( 1000 ); // Attend une seconde digitalWrite ( 13 , LOW ); // Met la pin 13 au niveau bas, ce qui a pour effet d'\u00e9teindre la led delay ( 1000 ); // Attend une seconde }","title":"Structure d'un programme Arduino"},{"location":"psti2d/arduino/01-Structure_d_un_programme_Arduino/#structure-dun-programme-arduino","text":"Un programme Arduino est toujours structur\u00e9 de la m\u00eame mani\u00e8re : Une partie initialisations et d\u00e9clarations de variables, une partie setup() et une partie loop()","title":"Structure d'un programme Arduino"},{"location":"psti2d/arduino/01-Structure_d_un_programme_Arduino/#1-le-cartouche","text":"Tout programme doit contenir un cartouche, il permet d'informer le lecteur sur : Le nom du programme Le r\u00f4le du programme, d\u00e9crit en quelques mots. Son auteur et \u00e9ventuellement comment communiquer avec lui (mail) La version du code en commen\u00e7ant par V0.0 et sa date \u00c9ventuellement une licence si le code est publi\u00e9 sur internet Le logiciel permettant sa compilation (dans notre cas l'IDE Arduino) Voici un exemple de cartouche pour un programme Arduino avec licence GNU V3.0, que vous pouvez utiliser pour vos propres codes : /************************************************************************************************** Nom ......... : Projet_Alarme_Emission_433.ino Role ........ : Transmet en 433MHz gr\u00e2ce \u00e0 la biblioth\u00e8que VirtualWire une cha\u00eene de caract\u00e8re sur la pin 12 de l'Arduino Mega 2560 * Dans le cas normal envoi :\"Repos_capteur_ILS\" * Dans le cas d'un front montant sur CapteurPin envoi : \"Alerte_capteur_ILS\" Auteur ...... : J.Serrand Mail ........ : joris.serrand@rascol.net Version ..... : V0.0 du 17/02/16 Licence ..... : Copyright (C) 2016 Joris SERRAND This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/","title":"1. Le cartouche"},{"location":"psti2d/arduino/01-Structure_d_un_programme_Arduino/#2-initialisations-et-declarations-de-variables-ou-constantes","text":"C'est dans cette partie que nous faisons les ajouts de biblioth\u00e8ques n\u00e9cessaires \u00e0 l'ex\u00e9cution de notre code, ainsi que les d\u00e9clarations et initialisations de variables et constantes. M\u00eame si le c++ autorise les d\u00e9clarations n'importe o\u00f9 dans le programme, il est vivement conseill\u00e9 de toutes les regrouper dans cette partie. Voici un exemple de d'ajout de biblioth\u00e8ques et de d\u00e9clarations : //Ajout de biblioth\u00e8ques #include <Wire.h> //Insertion de la biblioth\u00e8que pour les fonctions I2C //D\u00e9clarations de constantes #define bp 10 //D\u00e9claration d'une constante appel\u00e9e bp de valeur 10 const float pi = 3.14 ; //D\u00e9claration d'une constante de type float et de nom \"pi\" initialis\u00e9e \u00e0 3.14 //D\u00e9claration de variables int cpt = 0 ; //D\u00e9claration d'un entier de nom \"cpt\" initialis\u00e9 \u00e0 0 float vitesse = 10.5 ; //D\u00e9claration d'un flottant de nom \"vitesse\" initialis\u00e9 \u00e0 10.5","title":"2. Initialisations et d\u00e9clarations de variables ou constantes"},{"location":"psti2d/arduino/01-Structure_d_un_programme_Arduino/#3-le-parametrage-du-programme-setup","text":"La partie void setup() renferme le param\u00e9trage n\u00e9cessaire au fonctionnement du programme, on peut par exemple y trouver : Le pinMode() , permettant de dire si une pin num\u00e9rique est utilis\u00e9e en entr\u00e9e ou en sortie. Le Serial.begin() , permettant de param\u00e9trer la vitesse de transfert de l'UART. ... Warning Ne pas commencer \u00e0 \u00e9crire votre code dans cette partie, setup() ne doit contenir que le param\u00e9trage et ne s'ex\u00e9cute qu'une seule fois lors du lancement du programme. Voici un exemple de setup() : void setup () { Wire . begin (); //Initialisation de la liaison I2C lcd . init (); //Initialisation du LCD pinMode ( 4 , INPUT ); //Param\u00e9trage de la pin num\u00e9rique 4 en entr\u00e9e Serial . begin ( 9600 ); //Param\u00e9trage de la vitesse du port s\u00e9rie }","title":"3. Le param\u00e9trage du programme setup()"},{"location":"psti2d/arduino/01-Structure_d_un_programme_Arduino/#4-le-programme-principal-loop","text":"La partie void loop() est le programme principal de votre code Arduino. Comme son nom l'indique \u00e9crire dans cette partie revient \u00e0 \u00e9crire dans une boucle while(1) , le programme est reboucl\u00e9 sans fin. Exemple de programme principal faisant clignoter la led 13 (led pr\u00e9sente sur le circuit imprim\u00e9 d'une carte Arduino UNO) : void loop () { digitalWrite ( 13 , HIGH ); // Met la pin 13 au niveau haut, ce qui a pour effet d'allumer la led delay ( 1000 ); // Attend une seconde digitalWrite ( 13 , LOW ); // Met la pin 13 au niveau bas, ce qui a pour effet d'\u00e9teindre la led delay ( 1000 ); // Attend une seconde }","title":"4. Le programme principal loop()"},{"location":"psti2d/arduino/02-Variables_constantes/","text":"Les variables et constantes dans un code Arduino La variable est en programmation un syst\u00e8me de stockage de donn\u00e9es. Par analogie une variable peut \u00eatre compar\u00e9e \u00e0 une bo\u00eete, le type de variable correspondant \u00e0 la taille de la bo\u00eete, plus le type est cod\u00e9 sur un nombre de bits important, plus la bo\u00eete sera grande. L'int\u00e9rieur d'une variable contient un nombre (ou un caract\u00e8re si le type le permet) modifiable \u00e0 souhait tout au long du programme. 1. Les types de variables 1.1 Sign\u00e9 ou non Sign\u00e9 ?? Vous avez peut-\u00eatre pu remarquer au cours de vos lectures la r\u00e9f\u00e9rence \u00e0 un type de variable sign\u00e9 ou non sign\u00e9, qu'est ce que \u00e7a peut bien vouloir dire ? La \"signature\" est un moyen en programmation pour coder les nombres relatifs, un type de variable non sign\u00e9 comme par exemple un unsigned int ne pourra pas contenir un nombre relatif inf\u00e9rieur \u00e0 0 comme -9. \u00c0 contrario, un type sign\u00e9 comme int pourra contenir un nombre relatif sup\u00e9rieur ou inf\u00e9rieur \u00e0 0. 1.2 Le bool\u00e9en : boolean Le bool\u00e9en not\u00e9 boolean sur Arduino, est le plus petit type de variable que vous serez emmen\u00e9 \u00e0 rencontrer, il est cod\u00e9 sur seulement 2 bits. Son contenu ne peut \u00eatre que 0 ou 1 , soit True ou False sur Arduino. Ce type est souvent utilis\u00e9 pour stocker l'\u00e9tat d'un capteur num\u00e9rique, par exemple un bouton poussoir : True si le bouton est appuy\u00e9, False si il est rel\u00e2ch\u00e9. C'est un type non sign\u00e9. 1.3 L'octet : byte L'octet not\u00e9 byte sous Arduino, est un type de variable cod\u00e9 sur 8 bits. Son contenu est un nombre pouvant aller de 0 \u00e0 255 . C'est un type non sign\u00e9. 1.4 L'entier : int L'entier not\u00e9 int sous Arduino, est un type de variable sign\u00e9 cod\u00e9 sur 16 bits. Son contenu est un nombre pouvant aller de {-2}^{15} {-2}^{15} \u00e0 {2}^{15}-1 {2}^{15}-1 soit de -32768 \u00e0 32767. Le calcul des extrema se fait sur 15 bits et non pas sur 16 car le bit de poids fort est r\u00e9serv\u00e9 pour le bit de signe, si celui-ci est \u00e0 1 le compl\u00e9ment \u00e0 deux du nombre qui suit est interpr\u00e9t\u00e9 comme un n\u00e9gatif, inversement pour un positif. Info Il existe le type unsigned int pour un entier non sign\u00e9. Les valeurs limites sont donc de 0 \u00e0 2^{16}-1 2^{16}-1 , soit de 0 \u00e0 65 535. 1.5 Le flottant : float Le flottant not\u00e9 float sous Arduino, est un type de variable sign\u00e9 cod\u00e9 sur 4 octets soit 32 bits. Son contenu est un nombre pouvant aller de 3.4028235E+38 \u00e0 -3.4028235E+38. Codage d'un nombre en virgule flottante : La virgule flottante est une technique pour stocker dans une variable un nombre r\u00e9el. Pour cela il suffit de d\u00e9composer le nombre de la mani\u00e8re suivante : Le bit de poids fort est le bit de signe, il est \u00e0 1 si le nombre est n\u00e9gatif, \u00e0 0 si il est positif. La mantisse contient les chiffres significatifs du nombre elle est cod\u00e9e sur 23 bits. L'exposant repr\u00e9sente la place de la virgule dans le nombre, il est cod\u00e9 sur 8 bits. 1.6 Le caract\u00e8re : char Le caract\u00e8re not\u00e9 char sous Arduino, est un type de variable cod\u00e9 sur 8 bits. Son contenu est un caract\u00e8re , cod\u00e9 avec son code d\u00e9cimal ASCII correspondant. Pour enregistrer un caract\u00e8re il suffit de le mettre entre c\u00f4tes : 'a' , si on souhaite enregistrer le code d\u00e9cimal ASCII correspondant au caract\u00e8re souhait\u00e9 il suffit de le noter tel quel. Pour 'a' le code ASCII correspondant est 97. Le codage ASCII L'ASCII pour American Standard Code for Information Interchange (Code am\u00e9ricain normalis\u00e9 pour l'\u00e9change d'information) est un syst\u00e8me de codage des caract\u00e8res invent\u00e9 dans les 60 par l'ISO ( International Organization for Standardization ). C'est un syst\u00e8me de codage devenu un standard pour transmettre l'information de mani\u00e8re num\u00e9rique. Pour de plus amples renseignements sur la cr\u00e9ation du code ASCII n'h\u00e9sitez pas \u00e0 consulter la page Wikip\u00e9dia d\u00e9di\u00e9e. 2. La d\u00e9claration et l'initialisation de variables Pour utiliser une variable dans son programme Arduino il faut au pr\u00e9alable la cr\u00e9er, en programmation on parlera de d\u00e9clarer une variable . Le langage C/C++ autorise la d\u00e9claration de variables n'importe o\u00f9 dans le code, cependant il est pr\u00e9f\u00e9rable pour les novices de faire toutes les d\u00e9clarations et initialisations au d\u00e9but , juste apr\u00e8s les ajouts de biblioth\u00e8ques ( #define ... ). Quand on d\u00e9clare une variable on a pour obligation de lui donner un nom, et de pr\u00e9ciser son type, il est pr\u00e9f\u00e9rable \u00e9galement de l'initialiser, c'est \u00e0 dire lui donner une valeur de d\u00e9part sans quoi un nombre ind\u00e9pendant de notre volont\u00e9 sera enregistr\u00e9. Pour d\u00e9clarer et initialiser une variable il suffit d'utiliser l'instruction suivante : Dans cet exemple nous venons de d\u00e9clarer une variable de type entier appel\u00e9e ma_variable et initialis\u00e9e \u00e0 124. Warning Les noms de variables ne doivent pas contenir d'espaces, d'accents, de caract\u00e8res sp\u00e9ciaux autre que _ . De plus le langage C/C++ est sensible \u00e0 la casse c'est \u00e0 dire qu'il diff\u00e9rencie les minuscules des majuscules. Autres exemples : Pour un bool\u00e9en : boolean etat_bp=true; Initialisation d'un bool\u00e9en appel\u00e9 etat_bp \u00e0 l'\u00e9tat haut. Pour un flottant : float capteur=56.4; Initialisation d'un flottant appel\u00e9 capteur \u00e0 la valeur 56.4. Pour un octet : byte toto=23; Initialisation d'un octet appel\u00e9 toto \u00e0 la valeur 23. Pour un caract\u00e8re : char mon_caractere='b'; ou char mon_caractere=98; Initialisation d'un caract\u00e8re appel\u00e9 mon_caractere \u00e0 la valeur 98 code ASCII correspondant \u00e0 'b'. 3. La d\u00e9claration de constantes Une constante \u00e0 l'inverse d'une variable, ne varie pas lors de l'ex\u00e9cution du programme elle reste \u00e0 la valeur \u00e0 laquelle elle a \u00e9t\u00e9 initialis\u00e9e. Cela est tr\u00e8s utile pour d\u00e9finir un num\u00e9ro de pin ou une constante comme le nombre pi. Nous d\u00e9veloppons ci-dessous 2 m\u00e9thodes pour d\u00e9clarer une constante : 3.1 Utilisation de const La d\u00e9finition d'une constante gr\u00e2ce au mot cl\u00e9 const est la m\u00e9thode \u00e0 privil\u00e9gier, il suffit pour cela de choisir le bon type de variable pouvant contenir notre constante et utiliser l'instruction suivante : Ici nous d\u00e9clarons une constante appel\u00e9e ma_constante et initialis\u00e9e \u00e0 la valeur 234. 3.2 Utilisation de #define La d\u00e9finition d'une constante \u00e0 l'aide du mot cl\u00e9 #define est \u00e0 \u00e9viter , toutefois nous tenons \u00e0 vous montrer son utilisation ci-dessous : Warning Le #define attribue dans l'exemple ci-dessus le mot ma_constante \u00e0 234 avant la compilation. C'est \u00e0 dire que dans tout le code \u00e0 chaque fois que le mot ma_constante sera utilis\u00e9 il sera remplac\u00e9 par 234 , je vous laisse voir les probl\u00e8mes que cela peut poser dans le code...","title":"Les variables et constantes dans un code Arduino"},{"location":"psti2d/arduino/02-Variables_constantes/#les-variables-et-constantes-dans-un-code-arduino","text":"La variable est en programmation un syst\u00e8me de stockage de donn\u00e9es. Par analogie une variable peut \u00eatre compar\u00e9e \u00e0 une bo\u00eete, le type de variable correspondant \u00e0 la taille de la bo\u00eete, plus le type est cod\u00e9 sur un nombre de bits important, plus la bo\u00eete sera grande. L'int\u00e9rieur d'une variable contient un nombre (ou un caract\u00e8re si le type le permet) modifiable \u00e0 souhait tout au long du programme.","title":"Les variables et constantes dans un code Arduino"},{"location":"psti2d/arduino/02-Variables_constantes/#1-les-types-de-variables","text":"","title":"1. Les types de variables"},{"location":"psti2d/arduino/02-Variables_constantes/#11-signe-ou-non-signe","text":"Vous avez peut-\u00eatre pu remarquer au cours de vos lectures la r\u00e9f\u00e9rence \u00e0 un type de variable sign\u00e9 ou non sign\u00e9, qu'est ce que \u00e7a peut bien vouloir dire ? La \"signature\" est un moyen en programmation pour coder les nombres relatifs, un type de variable non sign\u00e9 comme par exemple un unsigned int ne pourra pas contenir un nombre relatif inf\u00e9rieur \u00e0 0 comme -9. \u00c0 contrario, un type sign\u00e9 comme int pourra contenir un nombre relatif sup\u00e9rieur ou inf\u00e9rieur \u00e0 0.","title":"1.1 Sign\u00e9 ou non Sign\u00e9 ??"},{"location":"psti2d/arduino/02-Variables_constantes/#12-le-booleen-boolean","text":"Le bool\u00e9en not\u00e9 boolean sur Arduino, est le plus petit type de variable que vous serez emmen\u00e9 \u00e0 rencontrer, il est cod\u00e9 sur seulement 2 bits. Son contenu ne peut \u00eatre que 0 ou 1 , soit True ou False sur Arduino. Ce type est souvent utilis\u00e9 pour stocker l'\u00e9tat d'un capteur num\u00e9rique, par exemple un bouton poussoir : True si le bouton est appuy\u00e9, False si il est rel\u00e2ch\u00e9. C'est un type non sign\u00e9.","title":"1.2 Le bool\u00e9en : boolean"},{"location":"psti2d/arduino/02-Variables_constantes/#13-loctet-byte","text":"L'octet not\u00e9 byte sous Arduino, est un type de variable cod\u00e9 sur 8 bits. Son contenu est un nombre pouvant aller de 0 \u00e0 255 . C'est un type non sign\u00e9.","title":"1.3 L'octet : byte"},{"location":"psti2d/arduino/02-Variables_constantes/#14-lentier-int","text":"L'entier not\u00e9 int sous Arduino, est un type de variable sign\u00e9 cod\u00e9 sur 16 bits. Son contenu est un nombre pouvant aller de {-2}^{15} {-2}^{15} \u00e0 {2}^{15}-1 {2}^{15}-1 soit de -32768 \u00e0 32767. Le calcul des extrema se fait sur 15 bits et non pas sur 16 car le bit de poids fort est r\u00e9serv\u00e9 pour le bit de signe, si celui-ci est \u00e0 1 le compl\u00e9ment \u00e0 deux du nombre qui suit est interpr\u00e9t\u00e9 comme un n\u00e9gatif, inversement pour un positif. Info Il existe le type unsigned int pour un entier non sign\u00e9. Les valeurs limites sont donc de 0 \u00e0 2^{16}-1 2^{16}-1 , soit de 0 \u00e0 65 535.","title":"1.4 L'entier : int"},{"location":"psti2d/arduino/02-Variables_constantes/#15-le-flottant-float","text":"Le flottant not\u00e9 float sous Arduino, est un type de variable sign\u00e9 cod\u00e9 sur 4 octets soit 32 bits. Son contenu est un nombre pouvant aller de 3.4028235E+38 \u00e0 -3.4028235E+38. Codage d'un nombre en virgule flottante : La virgule flottante est une technique pour stocker dans une variable un nombre r\u00e9el. Pour cela il suffit de d\u00e9composer le nombre de la mani\u00e8re suivante : Le bit de poids fort est le bit de signe, il est \u00e0 1 si le nombre est n\u00e9gatif, \u00e0 0 si il est positif. La mantisse contient les chiffres significatifs du nombre elle est cod\u00e9e sur 23 bits. L'exposant repr\u00e9sente la place de la virgule dans le nombre, il est cod\u00e9 sur 8 bits.","title":"1.5 Le flottant : float"},{"location":"psti2d/arduino/02-Variables_constantes/#16-le-caractere-char","text":"Le caract\u00e8re not\u00e9 char sous Arduino, est un type de variable cod\u00e9 sur 8 bits. Son contenu est un caract\u00e8re , cod\u00e9 avec son code d\u00e9cimal ASCII correspondant. Pour enregistrer un caract\u00e8re il suffit de le mettre entre c\u00f4tes : 'a' , si on souhaite enregistrer le code d\u00e9cimal ASCII correspondant au caract\u00e8re souhait\u00e9 il suffit de le noter tel quel. Pour 'a' le code ASCII correspondant est 97. Le codage ASCII L'ASCII pour American Standard Code for Information Interchange (Code am\u00e9ricain normalis\u00e9 pour l'\u00e9change d'information) est un syst\u00e8me de codage des caract\u00e8res invent\u00e9 dans les 60 par l'ISO ( International Organization for Standardization ). C'est un syst\u00e8me de codage devenu un standard pour transmettre l'information de mani\u00e8re num\u00e9rique. Pour de plus amples renseignements sur la cr\u00e9ation du code ASCII n'h\u00e9sitez pas \u00e0 consulter la page Wikip\u00e9dia d\u00e9di\u00e9e.","title":"1.6 Le caract\u00e8re : char"},{"location":"psti2d/arduino/02-Variables_constantes/#2-la-declaration-et-linitialisation-de-variables","text":"Pour utiliser une variable dans son programme Arduino il faut au pr\u00e9alable la cr\u00e9er, en programmation on parlera de d\u00e9clarer une variable . Le langage C/C++ autorise la d\u00e9claration de variables n'importe o\u00f9 dans le code, cependant il est pr\u00e9f\u00e9rable pour les novices de faire toutes les d\u00e9clarations et initialisations au d\u00e9but , juste apr\u00e8s les ajouts de biblioth\u00e8ques ( #define ... ). Quand on d\u00e9clare une variable on a pour obligation de lui donner un nom, et de pr\u00e9ciser son type, il est pr\u00e9f\u00e9rable \u00e9galement de l'initialiser, c'est \u00e0 dire lui donner une valeur de d\u00e9part sans quoi un nombre ind\u00e9pendant de notre volont\u00e9 sera enregistr\u00e9. Pour d\u00e9clarer et initialiser une variable il suffit d'utiliser l'instruction suivante : Dans cet exemple nous venons de d\u00e9clarer une variable de type entier appel\u00e9e ma_variable et initialis\u00e9e \u00e0 124. Warning Les noms de variables ne doivent pas contenir d'espaces, d'accents, de caract\u00e8res sp\u00e9ciaux autre que _ . De plus le langage C/C++ est sensible \u00e0 la casse c'est \u00e0 dire qu'il diff\u00e9rencie les minuscules des majuscules. Autres exemples : Pour un bool\u00e9en : boolean etat_bp=true; Initialisation d'un bool\u00e9en appel\u00e9 etat_bp \u00e0 l'\u00e9tat haut. Pour un flottant : float capteur=56.4; Initialisation d'un flottant appel\u00e9 capteur \u00e0 la valeur 56.4. Pour un octet : byte toto=23; Initialisation d'un octet appel\u00e9 toto \u00e0 la valeur 23. Pour un caract\u00e8re : char mon_caractere='b'; ou char mon_caractere=98; Initialisation d'un caract\u00e8re appel\u00e9 mon_caractere \u00e0 la valeur 98 code ASCII correspondant \u00e0 'b'.","title":"2. La d\u00e9claration et l'initialisation de variables"},{"location":"psti2d/arduino/02-Variables_constantes/#3-la-declaration-de-constantes","text":"Une constante \u00e0 l'inverse d'une variable, ne varie pas lors de l'ex\u00e9cution du programme elle reste \u00e0 la valeur \u00e0 laquelle elle a \u00e9t\u00e9 initialis\u00e9e. Cela est tr\u00e8s utile pour d\u00e9finir un num\u00e9ro de pin ou une constante comme le nombre pi. Nous d\u00e9veloppons ci-dessous 2 m\u00e9thodes pour d\u00e9clarer une constante :","title":"3. La d\u00e9claration de constantes"},{"location":"psti2d/arduino/02-Variables_constantes/#31-utilisation-de-const","text":"La d\u00e9finition d'une constante gr\u00e2ce au mot cl\u00e9 const est la m\u00e9thode \u00e0 privil\u00e9gier, il suffit pour cela de choisir le bon type de variable pouvant contenir notre constante et utiliser l'instruction suivante : Ici nous d\u00e9clarons une constante appel\u00e9e ma_constante et initialis\u00e9e \u00e0 la valeur 234.","title":"3.1 Utilisation de const"},{"location":"psti2d/arduino/02-Variables_constantes/#32-utilisation-de-define","text":"La d\u00e9finition d'une constante \u00e0 l'aide du mot cl\u00e9 #define est \u00e0 \u00e9viter , toutefois nous tenons \u00e0 vous montrer son utilisation ci-dessous : Warning Le #define attribue dans l'exemple ci-dessus le mot ma_constante \u00e0 234 avant la compilation. C'est \u00e0 dire que dans tout le code \u00e0 chaque fois que le mot ma_constante sera utilis\u00e9 il sera remplac\u00e9 par 234 , je vous laisse voir les probl\u00e8mes que cela peut poser dans le code...","title":"3.2 Utilisation de #define"},{"location":"psti2d/arduino/03-Fonctions_C++/","text":"Les fonctions de base du langage C/C++ Le langage C/C++ utilis\u00e9 pour la programmation des microcontr\u00f4leurs Atmel est le langage choisi par Arduino pour la programmation de ses cartes \u00e9lectroniques. Dans ce cours nous donnons les principaux mots-cl\u00e9s du langage permettant de reproduire les structures de bases vues en algorithmique : structures lin\u00e9aires, alternatives et r\u00e9p\u00e9titives. 1. Les op\u00e9rateurs de comparaison Le tableau suivant liste les op\u00e9rateurs utilis\u00e9s en C/C++ pour d\u00e9finir des conditions : Op\u00e9rateurs == Egalit\u00e9 != Diff\u00e9rence < Inf\u00e9rieur > Sup\u00e9rieur <= Inf\u00e9rieur ou \u00e9gal >= Sup\u00e9rieur ou \u00e9gal Warning L'erreur classique est de confondre le = et le == , notez que le premier est pour l'affectation d'une valeur \u00e0 une variable et le second pour la comparaison. De plus le langage C/C++ n'autorise pas l'encadrement de variables entre deux valeurs dans une condition tel que : 5<toto<10 , pour \u00e9crire une telle condition il suffit d'utiliser l'op\u00e9rateur logique && . 2. Les op\u00e9rateurs logiques Le tableau suivant liste les op\u00e9rateurs logiques utilis\u00e9s en C/C++ pour d\u00e9finir des conditions : Op\u00e9rateurs && Et logique | | Ou logique ! Non Warning Faire attention \u00e0 ne pas confondre le && et le & ou le || et le | . Dans le cas du double symbole l'utilisation est pour une condition, dans le cas du symbole seul l'utilisation est un pour une op\u00e9ration logique bit \u00e0 bit. 3. Les conditions 3.1 Si Alors : if() La condition Si Alors permet de r\u00e9aliser une ou plusieurs actions si seulement la condition \u00e9nonc\u00e9e est vrai, si ce n'est pas le cas le programme saute la condition et poursuit son ex\u00e9cution. La structure de cette condition est donn\u00e9e ci-dessous : Warning Le langage C/C++ utilise l'accolade ouverte { pour indiquer l'entr\u00e9e dans une fonction et l'accolade ferm\u00e9e } pour en sortir, afin de na pas oublier cette particularit\u00e9 propre \u00e0 ce langage il est vivement conseill\u00e9 de bien indenter son code pour en am\u00e9liorer la lisibilit\u00e9. Nous donnons ci-dessous un code exemple utilisant cette fonction. int a = 0 ; //D\u00e9claration d'un entier \"a\", initialis\u00e9 \u00e0 0 if ( a < 10 ) //Condition pour entrer dans le si : \"a\" doit \u00eatre strictement inf\u00e9rieur \u00e0 10 { a = a + 1 ; // Si \"a\" est inf\u00e9rieur \u00e0 10 alors on rajoute 1 \u00e0 \"a\". } 3.2 Si Alors Sinon : if() else La condition Si Alors Sinon permet de r\u00e9aliser une ou plusieurs actions si seulement la condition \u00e9nonc\u00e9e est vrai, si ce n'est pas le cas le programme aiguille l'ex\u00e9cution vers le Sinon. La structure de cette condition est donn\u00e9e ci-dessous : Nous donnons ci-dessous un code exemple utilisant cette fonction. int a = 0 ; //D\u00e9claration d'un entier \"a\", initialis\u00e9 \u00e0 0 if ( a < 10 ) //Condition pour entrer dans le si : \"a\" doit \u00eatre strictement inf\u00e9rieur \u00e0 10 { a = a + 1 ; // Si \"a\" est inf\u00e9rieur \u00e0 10 alors on rajoute 1 \u00e0 \"a\" } else { a = a - 1 ; // Sinon on enl\u00e8ve 1 \u00e0 \"a\" } 3.3 Le choix multiple : switch() case Le choix multiple permet pour une variable de notre choix, d'aiguiller le programme suivant la valeur que cette variable va prendre. La structure de cette condition est donn\u00e9e ci-dessous : Nous donnons ci-dessous un code exemple utilisant cette fonction. int var_choix = 0 ; //D\u00e9claration d'un entier \"var_choix\", initialis\u00e9 \u00e0 0 switch ( var_choix ) //Mise en place d'un choix multiple pour la variable var_choix { case 1 : //Actions \u00e0 ex\u00e9cuter dans le cas o\u00f9 var_choix = 1 break ; //Indication de fin d'instructions pour ce case case 2 : //Actions \u00e0 ex\u00e9cuter dans le cas o\u00f9 var_choix = 2 break ; //Indication de fin d'instructions pour ce case default : //Actions \u00e0 ex\u00e9cuter dans le cas o\u00f9 var_choix est diff\u00e9rent de tous les cases pr\u00e9c\u00e9dents break ; //Indication de fin d'instructions pour ce case } 4. Les boucles 4.1 Tant que : while() La boucle Tant que permet de r\u00e9p\u00e9ter une suite d'instructions tant que le condition \u00e9nonc\u00e9e au d\u00e9but est vraie. La structure de cette boucle est donn\u00e9e ci-dessous. Nous donnons ci-dessous un code exemple utilisant cette fonction. while ( 1 ) //Permet de r\u00e9aliser une boucle infinie \u00e9quivaut \u00e0 \u00e9crire while(1=1) { //Suite d'instructions \u00e0 r\u00e9aliser dans la boucle } 4.2 Faire Tant que : do while() La boucle Faire Tant que permet de r\u00e9p\u00e9ter une suite d'instructions tant que le condition \u00e9nonc\u00e9e \u00e0 la fin est vraie, la suite d'instructions sera r\u00e9alis\u00e9e au moins une fois car le test de la condition ne se fait qu'\u00e0 la fin . La structure de cette boucle est donn\u00e9e ci-dessous. Nous donnons ci-dessous un code exemple utilisant cette fonction. do { //Suite d'instructions \u00e0 r\u00e9aliser dans la boucle } while ( 1 ); //Permet de r\u00e9aliser une boucle infinie \u00e9quivaut \u00e0 \u00e9crire while(1=1) 4.3 Pour : for() La boucle Pour permet de r\u00e9p\u00e9ter une suite d'instructions selon une \u00e9volution d\u00e9finie au d\u00e9but. La structure de cette boucle est donn\u00e9e ci-dessous. Param\u00e9trage de la boucle for : Initialisation de la variable de comptage : Exceptionnellement et que dans ce cas bien pr\u00e9cis nous autorisons la d\u00e9claration de variable au cours du programme. La variable de comptage ici cpt est la variable qui s'incr\u00e9mentera ou se d\u00e9cr\u00e9mentera \u00e0 chaque passage dans la boucle suivant le pas de comptage choisi, celle-ci est ici initialis\u00e9e \u00e0 0. Condition de comptage : Nous d\u00e9finissons ici la condition d'ex\u00e9cution de la boucle, dans notre cas nous tournerons dans le boucle tant que la variable de comptage cpt est inf\u00e9rieure \u00e0 10. Pas de comptage : Ici nous d\u00e9finissons l'\u00e9volution de la variable de comptage cpt lors de chaque passage dans la boucle. Dans notre cas nous incr\u00e9mentons de 1 \u00e0 chaque passage dans la boucle, cpt++ revient \u00e0 coder cpt=cpt+1 . Nous aurions pu \u00e9galement d\u00e9cr\u00e9menter de 1 : cpt-- , ou bien choisir un pas diff\u00e9rent de 1 : cpt=cpt+3 . Nous donnons ci-dessous un code exemple utilisant cette fonction. for ( int cpt = 0 ; cpt < 10 ; cpt ++ ) //Boucle en initialisant cpt \u00e0 0 tant que cpt<10 et incr\u00e9mente de 1 \u00e0 chaque passage { //Suite d'instructions \u00e0 r\u00e9aliser dans la boucle }","title":"Les fonctions de base du langage C/C++"},{"location":"psti2d/arduino/03-Fonctions_C++/#les-fonctions-de-base-du-langage-cc","text":"Le langage C/C++ utilis\u00e9 pour la programmation des microcontr\u00f4leurs Atmel est le langage choisi par Arduino pour la programmation de ses cartes \u00e9lectroniques. Dans ce cours nous donnons les principaux mots-cl\u00e9s du langage permettant de reproduire les structures de bases vues en algorithmique : structures lin\u00e9aires, alternatives et r\u00e9p\u00e9titives.","title":"Les fonctions de base du langage C/C++"},{"location":"psti2d/arduino/03-Fonctions_C++/#1-les-operateurs-de-comparaison","text":"Le tableau suivant liste les op\u00e9rateurs utilis\u00e9s en C/C++ pour d\u00e9finir des conditions : Op\u00e9rateurs == Egalit\u00e9 != Diff\u00e9rence < Inf\u00e9rieur > Sup\u00e9rieur <= Inf\u00e9rieur ou \u00e9gal >= Sup\u00e9rieur ou \u00e9gal Warning L'erreur classique est de confondre le = et le == , notez que le premier est pour l'affectation d'une valeur \u00e0 une variable et le second pour la comparaison. De plus le langage C/C++ n'autorise pas l'encadrement de variables entre deux valeurs dans une condition tel que : 5<toto<10 , pour \u00e9crire une telle condition il suffit d'utiliser l'op\u00e9rateur logique && .","title":"1. Les op\u00e9rateurs de comparaison"},{"location":"psti2d/arduino/03-Fonctions_C++/#2-les-operateurs-logiques","text":"Le tableau suivant liste les op\u00e9rateurs logiques utilis\u00e9s en C/C++ pour d\u00e9finir des conditions : Op\u00e9rateurs && Et logique | | Ou logique ! Non Warning Faire attention \u00e0 ne pas confondre le && et le & ou le || et le | . Dans le cas du double symbole l'utilisation est pour une condition, dans le cas du symbole seul l'utilisation est un pour une op\u00e9ration logique bit \u00e0 bit.","title":"2. Les op\u00e9rateurs logiques"},{"location":"psti2d/arduino/03-Fonctions_C++/#3-les-conditions","text":"","title":"3. Les conditions"},{"location":"psti2d/arduino/03-Fonctions_C++/#31-si-alors-if","text":"La condition Si Alors permet de r\u00e9aliser une ou plusieurs actions si seulement la condition \u00e9nonc\u00e9e est vrai, si ce n'est pas le cas le programme saute la condition et poursuit son ex\u00e9cution. La structure de cette condition est donn\u00e9e ci-dessous : Warning Le langage C/C++ utilise l'accolade ouverte { pour indiquer l'entr\u00e9e dans une fonction et l'accolade ferm\u00e9e } pour en sortir, afin de na pas oublier cette particularit\u00e9 propre \u00e0 ce langage il est vivement conseill\u00e9 de bien indenter son code pour en am\u00e9liorer la lisibilit\u00e9. Nous donnons ci-dessous un code exemple utilisant cette fonction. int a = 0 ; //D\u00e9claration d'un entier \"a\", initialis\u00e9 \u00e0 0 if ( a < 10 ) //Condition pour entrer dans le si : \"a\" doit \u00eatre strictement inf\u00e9rieur \u00e0 10 { a = a + 1 ; // Si \"a\" est inf\u00e9rieur \u00e0 10 alors on rajoute 1 \u00e0 \"a\". }","title":"3.1 Si Alors : if()"},{"location":"psti2d/arduino/03-Fonctions_C++/#32-si-alors-sinon-if-else","text":"La condition Si Alors Sinon permet de r\u00e9aliser une ou plusieurs actions si seulement la condition \u00e9nonc\u00e9e est vrai, si ce n'est pas le cas le programme aiguille l'ex\u00e9cution vers le Sinon. La structure de cette condition est donn\u00e9e ci-dessous : Nous donnons ci-dessous un code exemple utilisant cette fonction. int a = 0 ; //D\u00e9claration d'un entier \"a\", initialis\u00e9 \u00e0 0 if ( a < 10 ) //Condition pour entrer dans le si : \"a\" doit \u00eatre strictement inf\u00e9rieur \u00e0 10 { a = a + 1 ; // Si \"a\" est inf\u00e9rieur \u00e0 10 alors on rajoute 1 \u00e0 \"a\" } else { a = a - 1 ; // Sinon on enl\u00e8ve 1 \u00e0 \"a\" }","title":"3.2 Si Alors Sinon : if() else"},{"location":"psti2d/arduino/03-Fonctions_C++/#33-le-choix-multiple-switch-case","text":"Le choix multiple permet pour une variable de notre choix, d'aiguiller le programme suivant la valeur que cette variable va prendre. La structure de cette condition est donn\u00e9e ci-dessous : Nous donnons ci-dessous un code exemple utilisant cette fonction. int var_choix = 0 ; //D\u00e9claration d'un entier \"var_choix\", initialis\u00e9 \u00e0 0 switch ( var_choix ) //Mise en place d'un choix multiple pour la variable var_choix { case 1 : //Actions \u00e0 ex\u00e9cuter dans le cas o\u00f9 var_choix = 1 break ; //Indication de fin d'instructions pour ce case case 2 : //Actions \u00e0 ex\u00e9cuter dans le cas o\u00f9 var_choix = 2 break ; //Indication de fin d'instructions pour ce case default : //Actions \u00e0 ex\u00e9cuter dans le cas o\u00f9 var_choix est diff\u00e9rent de tous les cases pr\u00e9c\u00e9dents break ; //Indication de fin d'instructions pour ce case }","title":"3.3 Le choix multiple : switch() case"},{"location":"psti2d/arduino/03-Fonctions_C++/#4-les-boucles","text":"","title":"4. Les boucles"},{"location":"psti2d/arduino/03-Fonctions_C++/#41-tant-que-while","text":"La boucle Tant que permet de r\u00e9p\u00e9ter une suite d'instructions tant que le condition \u00e9nonc\u00e9e au d\u00e9but est vraie. La structure de cette boucle est donn\u00e9e ci-dessous. Nous donnons ci-dessous un code exemple utilisant cette fonction. while ( 1 ) //Permet de r\u00e9aliser une boucle infinie \u00e9quivaut \u00e0 \u00e9crire while(1=1) { //Suite d'instructions \u00e0 r\u00e9aliser dans la boucle }","title":"4.1 Tant que : while()"},{"location":"psti2d/arduino/03-Fonctions_C++/#42-faire-tant-que-do-while","text":"La boucle Faire Tant que permet de r\u00e9p\u00e9ter une suite d'instructions tant que le condition \u00e9nonc\u00e9e \u00e0 la fin est vraie, la suite d'instructions sera r\u00e9alis\u00e9e au moins une fois car le test de la condition ne se fait qu'\u00e0 la fin . La structure de cette boucle est donn\u00e9e ci-dessous. Nous donnons ci-dessous un code exemple utilisant cette fonction. do { //Suite d'instructions \u00e0 r\u00e9aliser dans la boucle } while ( 1 ); //Permet de r\u00e9aliser une boucle infinie \u00e9quivaut \u00e0 \u00e9crire while(1=1)","title":"4.2 Faire Tant que : do while()"},{"location":"psti2d/arduino/03-Fonctions_C++/#43-pour-for","text":"La boucle Pour permet de r\u00e9p\u00e9ter une suite d'instructions selon une \u00e9volution d\u00e9finie au d\u00e9but. La structure de cette boucle est donn\u00e9e ci-dessous. Param\u00e9trage de la boucle for : Initialisation de la variable de comptage : Exceptionnellement et que dans ce cas bien pr\u00e9cis nous autorisons la d\u00e9claration de variable au cours du programme. La variable de comptage ici cpt est la variable qui s'incr\u00e9mentera ou se d\u00e9cr\u00e9mentera \u00e0 chaque passage dans la boucle suivant le pas de comptage choisi, celle-ci est ici initialis\u00e9e \u00e0 0. Condition de comptage : Nous d\u00e9finissons ici la condition d'ex\u00e9cution de la boucle, dans notre cas nous tournerons dans le boucle tant que la variable de comptage cpt est inf\u00e9rieure \u00e0 10. Pas de comptage : Ici nous d\u00e9finissons l'\u00e9volution de la variable de comptage cpt lors de chaque passage dans la boucle. Dans notre cas nous incr\u00e9mentons de 1 \u00e0 chaque passage dans la boucle, cpt++ revient \u00e0 coder cpt=cpt+1 . Nous aurions pu \u00e9galement d\u00e9cr\u00e9menter de 1 : cpt-- , ou bien choisir un pas diff\u00e9rent de 1 : cpt=cpt+3 . Nous donnons ci-dessous un code exemple utilisant cette fonction. for ( int cpt = 0 ; cpt < 10 ; cpt ++ ) //Boucle en initialisant cpt \u00e0 0 tant que cpt<10 et incr\u00e9mente de 1 \u00e0 chaque passage { //Suite d'instructions \u00e0 r\u00e9aliser dans la boucle }","title":"4.3 Pour : for()"},{"location":"psti2d/arduino/04-Fonctions_Arduino/","text":"Les fonctions Arduino Lire et \u00e9crire sur les pins num\u00e9riques Les cartes Arduino disposent toutes de pins num\u00e9riques utilisables aussi bien en entr\u00e9es qu'en sorties, nous montrons dans ce cours comment les param\u00e9trer et s'en servir. Nous rappelons ci-dessous l'emplacement des pins num\u00e9riques sur une carte Arduino UNO et MEGA : 1. Param\u00e9trage du sens d'utilisation avec pinMode() Une carte Arduino peu importe le mod\u00e8le, dispose de pins num\u00e9riques et de pins analogiques, la premi\u00e8re cat\u00e9gorie de pins contrairement \u00e0 la seconde peut \u00eatre configur\u00e9e, aussi bien en entr\u00e9e qu'en sortie : Une pin num\u00e9rique est utilis\u00e9e en entr\u00e9e INPUT pour recueillir une information ext\u00e9rieure (un \"1\" ou un \"0\") venant d'un capteur \u00e0 sortie num\u00e9rique, par exemple un bouton poussoir ou un capteur ILS (Reed). Une pin num\u00e9rique est utilis\u00e9e en sortie OUTPUT pour \u00e9crire un niveau logique (un \"1\" ou un \"0\") sur l'entr\u00e9e d'un actionneur, par exemple une led, un relais ou un moteur. La figure ci-dessous illustre ces deux possibilit\u00e9s, la pin 13 est configur\u00e9e en sortie et la pin 2 en entr\u00e9e : La fonction pinMode() \u00e0 coder dans la partie void setup() va nous permettre d'indiquer au micro-contr\u00f4leur le sens d'utilisation de chaque pin. Ci-dessous nous donnons la structure de cette fonction : Puis un code exemple de l'utilisation de cette fonction : const int led = 13 ; //D\u00e9claration d'une constante de type entier appel\u00e9e \"led\" et initialis\u00e9e \u00e0 13 const int bp = 2 ; //D\u00e9claration d'une constante de type entier appel\u00e9e \"bp\" et initialis\u00e9e \u00e0 2 void setup () //Initialisations { pinMode ( led , OUTPUT ); //Mise en sortie de la pin 13 pinMode ( bp , INPUT ); //Mise en entr\u00e9e de la pin 2 } Warning Comme pr\u00e9cis\u00e9 ci-dessus pinMode() ne s'utilise qu'avec des pins num\u00e9riques (digital) . De plus quand une pin a \u00e9t\u00e9 d\u00e9finie en sortie, il est interdit de l'utiliser en entr\u00e9e plus tard dans le programme et vice-versa. 2. Utilisation de digitalWrite() La fonction Arduino digitalWrite() permet d'\u00e9crire une information num\u00e9rique (un 0 ou un 1), sur une pin num\u00e9rique . Les niveaux de tension correspondants sont les niveaux TTL : Un 1 logique vaut 5V Un 0 logique vaut GND (la masse) Ci-dessous nous donnons la structure de cette fonction : Le code ci-dessous allume la led 13 reli\u00e9e \u00e0 la pin 13 (led pr\u00e9sente sur le circuit imprim\u00e9 d'une carte Arduino UNO ou Mega) en se servant de digitalWrite() : const int led = 13 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 13 la pin o\u00f9 la led est reli\u00e9e void setup () //Initialisations { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 13 } void loop () //Programme principal { digitalWrite ( led , HIGH ); //Mise \u00e0 1 de la pin num\u00e9rique 13 d\u00e9sign\u00e9e par la constante led } M\u00eame exemple mais en se servant d'une variable etat de type boolean contenant le niveau logique servant \u00e0 l'allumage de la led : const int led = 13 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 13 la pin o\u00f9 la led est reli\u00e9e boolean etat = true ; //D\u00e9claration d'une variable \"etat\" de type bool\u00e9en initialis\u00e9e \u00e0 true (soit niveau logique 1) void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 13 } void loop () //Programme principal { digitalWrite ( led , etat ); //Mise \u00e0 1 de la pin num\u00e9rique 13 d\u00e9sign\u00e9e par la constante led, l'\u00e9tat de la pin est contenu dans la variable \"etat\" } Emplacement de la led 13 sur les cartes Arduino UNO et MEGA : 3. Utilisation de digitalRead() La fonction Arduino digitalRead() permet de lire une information num\u00e9rique (un 0 ou un 1), sur une pin num\u00e9rique . Les niveaux de tension correspondants sont \u00e9galement des niveaux TTL. Ci-dessous nous donnons la structure de cette fonction : {% include important.html content=\"Ne pas oublier de d\u00e9clarer une variable (ici nomm\u00e9e Etat ) de type bool\u00e9en boolean qui contiendra le niveau logique de la pin dont vous faites la lecture.\"%} Le code ci-dessous allume la led reli\u00e9e \u00e0 la pin 13 quand le bouton poussoir reli\u00e9e \u00e0 la pin 2 est appuy\u00e9 : const int led = 13 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 13 la pin o\u00f9 la led est reli\u00e9e const int bp = 2 ; //D\u00e9claration d'une constante de type int et de nom \"bp\", contenant 2 la pin o\u00f9 le bouton poussoir est reli\u00e9 boolean etat = false ; //D\u00e9claration d'une variable \"etat\" de type bool\u00e9en initialis\u00e9e \u00e0 false (soit niveau logique 0) void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 13 pour la led pinMode ( bp , INPUT ); //Mise en entr\u00e9e de la pin num\u00e9rique 2 pour le bouton poussoir } void loop () //Programme principal { etat = digitalRead ( bp ); //Lecture de la valeur de la pin 2 : bouton appuy\u00e9 -> etat=1 bouton relach\u00e9 -> etat=0 digitalWrite ( led , etat ); //La led s'allume ou s'\u00e9teint suivant la valeur de \"etat\" } Montage Arduino pour le code pr\u00e9c\u00e9dent : Utiliser le CAN et le PWM L'environnement Arduino nous permet d'utiliser de mani\u00e8re simple deux fonctions essentielles d'un microcontr\u00f4leur le CAN et le PWM, nous donnons dans ce cours les explications quant \u00e0 leurs param\u00e9trages et leurs utilisations. 1. Fonctionnement du CAN et utilisation de analogRead() Nous rappelons ci-dessous l'emplacement des pins analogiques sur une carte Arduino UNO et MEGA : 1.1 Apport th\u00e9orique sur la conversion analogique num\u00e9rique Les cartes Arduino UNO et MEGA disposent toutes deux d'un Convertisseur Analogique Num\u00e9rique de 10 bits int\u00e9gr\u00e9 au micro-contr\u00f4leur, la figure ci-dessous vise \u00e0 expliquer son fonctionnement : Une carte Arduino dispose de 6 entr\u00e9es analogiques A0 \u00e0 A5 pour le UNO, 16 de A0 \u00e0 A15 pour le MEGA. L'entr\u00e9e du convertisseur V_{a0} V_{a0} <span><span class=\"MathJax_Preview\">V_{a0}</span><script type=\"math/tex\">V_{a0} accepte une tension analogiques comprise entre 0 et 5V maximum, qui sera convertie en un nombre binaire N compris entre 0 et 1023 . Nous d\u00e9duisons alors la caract\u00e9ristique entr\u00e9e/sortie du CAN : Le quantum q est la plage de tension analogique qui permet \u00e0 la sortie N de cro\u00eetre d'une marche quand celle-ci est d\u00e9pass\u00e9e : q=\\frac{V_{pe}}{2^{n}-1}=\\frac{5}{2^{10}-1}=4.89mV q=\\frac{V_{pe}}{2^{n}-1}=\\frac{5}{2^{10}-1}=4.89mV \u00c0 partir de la droite rouge nous obtenons l'\u00e9quation du CAN : (N)_{10}=\\frac{1023}{5}\\times V_{a0} (N)_{10}=\\frac{1023}{5}\\times V_{a0} On peut alors en d\u00e9duire les valeurs N_{min} N_{min} et N_{max} N_{max} : N_{min}=(0000000000)_{2}=(0)_{10} N_{min}=(0000000000)_{2}=(0)_{10} N_{max}=2^{10}-1=(1111111111)_{2}=(1023)_{10} N_{max}=2^{10}-1=(1111111111)_{2}=(1023)_{10} 1.2 Utiliser le CAN avec Arduino L'utilisation du CAN avec Arduino est tr\u00e8s simple, il suffit d'utiliser la fonction analogRead() , nous donnons ci-dessous sa structure : Le code suivant lit la valeur analogique sur la pin A0 et la convertit en N en utilisant la fonction analogRead . La variable N est ensuite convertie en Volts gr\u00e2ce \u00e0 l'\u00e9quation de la droite du CAN, pour obtenir finalement la variable Va0 . const int PinAna = 0 ; //D\u00e9claration d'une constante de type int et de nom \"PinAna\", contenant 0 la pin analogique \u00e0 lire float VaO = 0 ; //D\u00e9claration d'une variable de type float et de nom \"Vao\", initialis\u00e9e \u00e0 0 int N = 0 ; //D\u00e9claration d'une variable de type int et de nom \"N\", initialis\u00e9e \u00e0 0 void setup () //Initialisation { //Pas de pinMode pour analogRead() } void loop () //Programme principal { N = analogRead ( PinAna ); //Lecture de la valeur Va0 de la pin analogique 0 et conversion en N -> 0<N<1023 Vao = ( 5.0 / 1023.0 ) * N ; //Conversion de N en Va0 gr\u00e2ce \u00e0 l'\u00e9quation de la droite du CAN } Warning Ne pas d\u00e9clarer la pin analogique utilis\u00e9e en entr\u00e9e \u00e0 l'aide de pinMode() Arduino le fait de mani\u00e8re automatique sachant que analogRead() ne s'utilise qu'avec des pins analogiques qui ne fonctionnent qu'en entr\u00e9e . 2. Fonctionnement du PWM et utilisation de analogWrite() 2.1 Apport th\u00e9orique sur la modulation de largeur d'impulsion (MLI) La MLI aussi appel\u00e9e PWM (Pulse Width Modulation) en Anglais, est une technique permettant de faire varier la valeur moyenne de la tension d'un signal carr\u00e9 en changeant son rapport cyclique. Avant de rentrer dans les d\u00e9tails, revoyons un peu de vocabulaire technique. La figure ci-dessus montre un signal carr\u00e9 configur\u00e9 de cette mani\u00e8re : P\u00e9riode : T = 2ms Fr\u00e9quence : f = \\frac{1}{T} \\frac{1}{T} = 500Hz Dur\u00e9e de l'\u00e9tat bas : T_b T_b = 1ms Dur\u00e9e de l'\u00e9tat haut : T_h T_h = 1ms Tension max : V_{max} V_{max} = \\hat{V} \\hat{V} = 5V Tension min : V_{min} V_{min} = 0V Nous montrons ici comment calculer sa valeur moyenne : Formule de la valeur moyenne <V> <V> pour un signal carr\u00e9 et seulement pour un signal carr\u00e9 : <V>=\\frac{\\Delta T}{T} <V>=\\frac{\\Delta T}{T} O\u00f9 \\Delta T \\Delta T est l'aire du carr\u00e9 bleu : \\Delta T =V_{max}\\times T_h \\Delta T =V_{max}\\times T_h Nous obtenons alors : <V>=\\frac{V_{max}\\times T_h}{T} <V>=\\frac{V_{max}\\times T_h}{T} En faisant l'application num\u00e9rique \u00e0 la figure ci-dessus : <V>=\\frac{5\\times 1\\times 10^{-3}}{2\\times 10^{-3}}=2,5V <V>=\\frac{5\\times 1\\times 10^{-3}}{2\\times 10^{-3}}=2,5V On trace \u00e0 pr\u00e9sent la valeur moyenne <V> <V> en vert sur la figure : Introduisons \u00e0 pr\u00e9sent la notion de rapport cyclique \\alpha \\alpha qui est essentielle \u00e0 la compr\u00e9hension du fonctionnement d'un PWM : \\alpha=\\frac{T_h}{T} \\alpha=\\frac{T_h}{T} Le rapport cyclique est un pourcentage : 0\\%<\\alpha<100\\% 0\\%<\\alpha<100\\% La technique du PWM consiste \u00e0 faire varier le rapport cyclique qui revient \u00e0 faire varier la valeur moyenne du signal . Nous donnons ci-dessous des variations du rapport cyclique du signal carr\u00e9 pr\u00e9c\u00e9dent, tout en gardant la m\u00eame fr\u00e9quence f=500Hz : Pour \\alpha=0\\% \\alpha=0\\% Pour \\alpha=10\\% \\alpha=10\\% Pour \\alpha=50\\% \\alpha=50\\% Pour \\alpha=90\\% \\alpha=90\\% Pour \\alpha=100\\% \\alpha=100\\% Avec une fr\u00e9quence \u00e9lev\u00e9e le composant branch\u00e9 en sortie du PWM ne verra que la valeur moyenne (la droite verte) du signal carr\u00e9 qui est continue . La technique du PWM peut \u00eatre utilis\u00e9e dans les cas suivants : Faire varier la vitesse d'un moteur \u00e0 courant continu. Faire varier la luminosit\u00e9 d'une led. 2.2 Utiliser le PWM avec Arduino En environnement Arduino, le PWM s'utilise avec la fonction analogWrite() , nous donnons ci-dessous sa structure : Le choix du rapport cyclique avec la fonction analogWrite() se fait sur 8 bits soit une valeur comprise entre 0 -> 0% et 255 -> 100% Le PWM ne s'utilise pas avec n'importe quelle pin ! Il faut que la pin soit num\u00e9rique et que ce soit une pin PWM , nous donnons le num\u00e9ro des pins utilisables avec les cartes Arduino UNO et MEGA ainsi que la fr\u00e9quence dans le tableau suivant : Carte Pins PWM Fr\u00e9quence du PWM UNO 3,5,6,9,10,11 490Hz et 980Hz sur pins 3 et 11 MEGA 2 \u00e0 13, 44 \u00e0 46 490Hz et 980Hz sur pins 3 et 11 Note Les pins num\u00e9riques utilisables en PWM sont not\u00e9es avec un ~ sur les cartes Arduino. Nous donnons ci-dessous un code exemple de l'utilisation de cette fonction : const int PinPWM = 3 ; //D\u00e9claration d'une constante de type int et de nom \"PinPWM\", contenant 3 la pin num\u00e9rique \u00e0 utiliser pour le pwm void setup () //Initialisation { pinMode ( PinPWM , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 3 pour utiliser le pwm } void loop () //Programme principal { analogWrite ( PinPWM , 127 ); //Cr\u00e9ation d'un signal PWM sur la pin num\u00e9rique 3 avec un rapport cyclique de 50% } Le port s\u00e9rie Le port s\u00e9rie Serial ou encore UART est un protocole de communication filaire, o\u00f9 les donn\u00e9es \u00e0 transmettre sont envoy\u00e9es par paquets de 8 bits. Le port s\u00e9rie est un des moyens qu'a une carte Arduino pour communiquer avec des \u00e9l\u00e9ments externes comme une autre carte ou un ordinateur. 1. Fonctionnement de l'UART L'UART (Universal Asynchronous Receiver Transmitter) est un des p\u00e9riph\u00e9riques du micro-contr\u00f4leur qui vient g\u00e9rer la liaison s\u00e9rie, ce protocole de communication n\u00e9cessite 3 fils. La figure ci-dessous montre le c\u00e2blage n\u00e9cessaire pour une transmission s\u00e9rie par l'UART entre 2 cartes Arduino UNO. Les donn\u00e9es transitent par la liaison s\u00e9rie sous forme de paquets de 8bits plus 1 bit de start et 1 bit de stop , nous donnons ci-dessous une trame, exemple d'\u00e9mission par l'UART : D\u00e9crivons les \u00e9tapes de cet envoi qui d\u00e9bute \u00e0 gauche du graphe et se termine \u00e0 droite : La liaison est au repos au niveau \"1\" \u00e0 5V dans un \u00e9tat que l'on apelle \"Idle\" en Anglais. La liaison d\u00e9tecte le d\u00e9but d'\u00e9mission par le passage de l'\u00e9tat Idle \u00e0 \"0\" => C'est le bit de start . Les 8 bits du message sont envoy\u00e9s en commen\u00e7ant par le bit de poids faible le LSB (Least Significant Bit) et se termine par le bit de poids fort le MSB (Most Significant Bit). Si le message que l'on souhaite envoyer est cod\u00e9 sur plus de 8 bits il sera d\u00e9coup\u00e9 en paquet de 8 obligatoirement. La liaison termine son \u00e9mission par un bit de stop \u00e0 \"1\" avant de retourner \u00e0 l'\u00e9tat Idle. 2. Param\u00e9trer l'UART avec Serial.begin() La fr\u00e9quence d'\u00e9mission soit le nombre de Bauds (bits par seconde) est d\u00e9finie avec la fonction Arduino Serial.begin() , notons que cette dur\u00e9e ne varie pas dans la suite du code une fois qu'on en a fait le param\u00e9trage dans le void setup() . Nous donnons ci-dessous la structure de cette fonction : Warning Le protocole de transmission s\u00e9rie \u00e9tant asynchrone l'horloge qui permet de synchroniser les signaux entre l'\u00e9metteur et le r\u00e9cepteur n'est pas transmise. Il faut donc que la fr\u00e9quence d'\u00e9mission soit la m\u00eame sur l'\u00e9metteur et sur le r\u00e9cepteur. Nous donnons ci-dessous un code exemple Arduino pour le param\u00e9trage d'une liaison s\u00e9rie \u00e0 9600 Bauds : void setup () //Initialisations { Serial . begin ( 9600 ); //Initialisation du port s\u00e9rie avec une fr\u00e9quence d'\u00e9mission de 9600 Bauds } 3. Ecrire sur le port s\u00e9rie avec Serial.print() et Serial.println() Deux fonctions permettent d'\u00e9crire simplement des messages sur le port s\u00e9rie d'une carte Arduino : Serial.print() : Permet d'\u00e9crire de multiples choses sur le serial sans se soucier si le contenu de notre message est d'une taille sup\u00e9rieure \u00e0 8 bits. La fonction fait elle m\u00eame le partage en paquets de 8 bits . Nous donnons ci-dessous la structure de cette fonction : Serial.println() : Fait la m\u00eame chose que la fonction pr\u00e9c\u00e9dente mais provoque un renvoi \u00e0 la ligne en fin d'\u00e9mission . Nous donnons ci-dessous la structure de cette fonction : Nous donnons ci-dessous un code exemple complet comprenant l'initialisation du serial et l'utilisation des deux fonctions pr\u00e9c\u00e9dentes : int Tutu = 2345 ; //D\u00e9claration d'un entier initialis\u00e9 \u00e0 2345 float Tomaas = 3.14 ; //D\u00e9claration d'un flottant initialis\u00e9 \u00e0 3.14 void setup () //Initialisations { Serial . begin ( 9600 ); //Initialisation du port s\u00e9rie avec une fr\u00e9quence d'\u00e9mission de 9600 Bauds } void loop () //Programme principal { Serial . print ( \"Ma variable Tutu contient : \" ); //Ecriture d'une chaine de caract\u00e8res sur le serial Serial . println ( Tutu ); //Ecriture du contenu de Tutu et retour \u00e0 la ligne Serial . print ( \"Ma variable Tomaas contient : \" ); //Ecriture d'une chaine de caract\u00e8res sur le serial Serial . println ( Tomaas ); //Ecriture du contenu de Tomaas et retour \u00e0 la ligne } Une fonction sur l'Arduino IDE appel\u00e9e Moniteur s\u00e9rie permet d'afficher ce que notre carte Arduino \u00e9crit sur le serial gr\u00e2ce \u00e0 la liaison usb. (Les pins Rx et Tx du port s\u00e9rie sont retransmises sur le port USB). Observons ce que notre code produit sur le moniteur s\u00e9rie : Le code pr\u00e9c\u00e9dent affiche de mani\u00e8re infinie (Nous rappelons que le void loop() est \u00e9quivalent \u00e0 un while(1) ) la premi\u00e8re cha\u00eene de caract\u00e8re, le contenu de la variable Tutu, retourne \u00e0 la ligne puis affiche la seconde cha\u00eene de caract\u00e8res et affiche la variable Tomaas pour \u00e0 nouveau retourner \u00e0 la ligne et recommencer... Autres fonctions utiles Cette partie r\u00e9pertorie toutes les autres fonctions que vous pourriez \u00eatre amen\u00e9 \u00e0 utiliser dans vos codes Arduino. 1. Faire une pause delay() La fonction delay permet de mettre en pause l'ex\u00e9cution du programme durant le temps donn\u00e9 en milli-secondes. Nous donnons ci-dessous la structure de ce programme : Nous donnons ci-dessous un code exemple de l'utilisation de cette fonction : void loop ( void ) { //Bloc d'instructions delay ( 5000 ); //Pause de 5 secondes //Bloc d'instructions }","title":"Les fonctions Arduino"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#les-fonctions-arduino","text":"","title":"Les fonctions Arduino"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#lire-et-ecrire-sur-les-pins-numeriques","text":"Les cartes Arduino disposent toutes de pins num\u00e9riques utilisables aussi bien en entr\u00e9es qu'en sorties, nous montrons dans ce cours comment les param\u00e9trer et s'en servir. Nous rappelons ci-dessous l'emplacement des pins num\u00e9riques sur une carte Arduino UNO et MEGA :","title":"Lire et \u00e9crire sur les pins num\u00e9riques"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#1-parametrage-du-sens-dutilisation-avec-pinmode","text":"Une carte Arduino peu importe le mod\u00e8le, dispose de pins num\u00e9riques et de pins analogiques, la premi\u00e8re cat\u00e9gorie de pins contrairement \u00e0 la seconde peut \u00eatre configur\u00e9e, aussi bien en entr\u00e9e qu'en sortie : Une pin num\u00e9rique est utilis\u00e9e en entr\u00e9e INPUT pour recueillir une information ext\u00e9rieure (un \"1\" ou un \"0\") venant d'un capteur \u00e0 sortie num\u00e9rique, par exemple un bouton poussoir ou un capteur ILS (Reed). Une pin num\u00e9rique est utilis\u00e9e en sortie OUTPUT pour \u00e9crire un niveau logique (un \"1\" ou un \"0\") sur l'entr\u00e9e d'un actionneur, par exemple une led, un relais ou un moteur. La figure ci-dessous illustre ces deux possibilit\u00e9s, la pin 13 est configur\u00e9e en sortie et la pin 2 en entr\u00e9e : La fonction pinMode() \u00e0 coder dans la partie void setup() va nous permettre d'indiquer au micro-contr\u00f4leur le sens d'utilisation de chaque pin. Ci-dessous nous donnons la structure de cette fonction : Puis un code exemple de l'utilisation de cette fonction : const int led = 13 ; //D\u00e9claration d'une constante de type entier appel\u00e9e \"led\" et initialis\u00e9e \u00e0 13 const int bp = 2 ; //D\u00e9claration d'une constante de type entier appel\u00e9e \"bp\" et initialis\u00e9e \u00e0 2 void setup () //Initialisations { pinMode ( led , OUTPUT ); //Mise en sortie de la pin 13 pinMode ( bp , INPUT ); //Mise en entr\u00e9e de la pin 2 } Warning Comme pr\u00e9cis\u00e9 ci-dessus pinMode() ne s'utilise qu'avec des pins num\u00e9riques (digital) . De plus quand une pin a \u00e9t\u00e9 d\u00e9finie en sortie, il est interdit de l'utiliser en entr\u00e9e plus tard dans le programme et vice-versa.","title":"1. Param\u00e9trage du sens d'utilisation avec pinMode()"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#2-utilisation-de-digitalwrite","text":"La fonction Arduino digitalWrite() permet d'\u00e9crire une information num\u00e9rique (un 0 ou un 1), sur une pin num\u00e9rique . Les niveaux de tension correspondants sont les niveaux TTL : Un 1 logique vaut 5V Un 0 logique vaut GND (la masse) Ci-dessous nous donnons la structure de cette fonction : Le code ci-dessous allume la led 13 reli\u00e9e \u00e0 la pin 13 (led pr\u00e9sente sur le circuit imprim\u00e9 d'une carte Arduino UNO ou Mega) en se servant de digitalWrite() : const int led = 13 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 13 la pin o\u00f9 la led est reli\u00e9e void setup () //Initialisations { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 13 } void loop () //Programme principal { digitalWrite ( led , HIGH ); //Mise \u00e0 1 de la pin num\u00e9rique 13 d\u00e9sign\u00e9e par la constante led } M\u00eame exemple mais en se servant d'une variable etat de type boolean contenant le niveau logique servant \u00e0 l'allumage de la led : const int led = 13 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 13 la pin o\u00f9 la led est reli\u00e9e boolean etat = true ; //D\u00e9claration d'une variable \"etat\" de type bool\u00e9en initialis\u00e9e \u00e0 true (soit niveau logique 1) void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 13 } void loop () //Programme principal { digitalWrite ( led , etat ); //Mise \u00e0 1 de la pin num\u00e9rique 13 d\u00e9sign\u00e9e par la constante led, l'\u00e9tat de la pin est contenu dans la variable \"etat\" } Emplacement de la led 13 sur les cartes Arduino UNO et MEGA :","title":"2. Utilisation de digitalWrite()"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#3-utilisation-de-digitalread","text":"La fonction Arduino digitalRead() permet de lire une information num\u00e9rique (un 0 ou un 1), sur une pin num\u00e9rique . Les niveaux de tension correspondants sont \u00e9galement des niveaux TTL. Ci-dessous nous donnons la structure de cette fonction : {% include important.html content=\"Ne pas oublier de d\u00e9clarer une variable (ici nomm\u00e9e Etat ) de type bool\u00e9en boolean qui contiendra le niveau logique de la pin dont vous faites la lecture.\"%} Le code ci-dessous allume la led reli\u00e9e \u00e0 la pin 13 quand le bouton poussoir reli\u00e9e \u00e0 la pin 2 est appuy\u00e9 : const int led = 13 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 13 la pin o\u00f9 la led est reli\u00e9e const int bp = 2 ; //D\u00e9claration d'une constante de type int et de nom \"bp\", contenant 2 la pin o\u00f9 le bouton poussoir est reli\u00e9 boolean etat = false ; //D\u00e9claration d'une variable \"etat\" de type bool\u00e9en initialis\u00e9e \u00e0 false (soit niveau logique 0) void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 13 pour la led pinMode ( bp , INPUT ); //Mise en entr\u00e9e de la pin num\u00e9rique 2 pour le bouton poussoir } void loop () //Programme principal { etat = digitalRead ( bp ); //Lecture de la valeur de la pin 2 : bouton appuy\u00e9 -> etat=1 bouton relach\u00e9 -> etat=0 digitalWrite ( led , etat ); //La led s'allume ou s'\u00e9teint suivant la valeur de \"etat\" } Montage Arduino pour le code pr\u00e9c\u00e9dent :","title":"3. Utilisation de digitalRead()"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#utiliser-le-can-et-le-pwm","text":"L'environnement Arduino nous permet d'utiliser de mani\u00e8re simple deux fonctions essentielles d'un microcontr\u00f4leur le CAN et le PWM, nous donnons dans ce cours les explications quant \u00e0 leurs param\u00e9trages et leurs utilisations.","title":"Utiliser le CAN et le PWM"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#1-fonctionnement-du-can-et-utilisation-de-analogread","text":"Nous rappelons ci-dessous l'emplacement des pins analogiques sur une carte Arduino UNO et MEGA :","title":"1. Fonctionnement du CAN et utilisation de analogRead()"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#11-apport-theorique-sur-la-conversion-analogique-numerique","text":"Les cartes Arduino UNO et MEGA disposent toutes deux d'un Convertisseur Analogique Num\u00e9rique de 10 bits int\u00e9gr\u00e9 au micro-contr\u00f4leur, la figure ci-dessous vise \u00e0 expliquer son fonctionnement : Une carte Arduino dispose de 6 entr\u00e9es analogiques A0 \u00e0 A5 pour le UNO, 16 de A0 \u00e0 A15 pour le MEGA. L'entr\u00e9e du convertisseur V_{a0} V_{a0} <span><span class=\"MathJax_Preview\">V_{a0}</span><script type=\"math/tex\">V_{a0} accepte une tension analogiques comprise entre 0 et 5V maximum, qui sera convertie en un nombre binaire N compris entre 0 et 1023 . Nous d\u00e9duisons alors la caract\u00e9ristique entr\u00e9e/sortie du CAN : Le quantum q est la plage de tension analogique qui permet \u00e0 la sortie N de cro\u00eetre d'une marche quand celle-ci est d\u00e9pass\u00e9e : q=\\frac{V_{pe}}{2^{n}-1}=\\frac{5}{2^{10}-1}=4.89mV q=\\frac{V_{pe}}{2^{n}-1}=\\frac{5}{2^{10}-1}=4.89mV \u00c0 partir de la droite rouge nous obtenons l'\u00e9quation du CAN : (N)_{10}=\\frac{1023}{5}\\times V_{a0} (N)_{10}=\\frac{1023}{5}\\times V_{a0} On peut alors en d\u00e9duire les valeurs N_{min} N_{min} et N_{max} N_{max} : N_{min}=(0000000000)_{2}=(0)_{10} N_{min}=(0000000000)_{2}=(0)_{10} N_{max}=2^{10}-1=(1111111111)_{2}=(1023)_{10} N_{max}=2^{10}-1=(1111111111)_{2}=(1023)_{10}","title":"1.1 Apport th\u00e9orique sur la conversion analogique num\u00e9rique"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#12-utiliser-le-can-avec-arduino","text":"L'utilisation du CAN avec Arduino est tr\u00e8s simple, il suffit d'utiliser la fonction analogRead() , nous donnons ci-dessous sa structure : Le code suivant lit la valeur analogique sur la pin A0 et la convertit en N en utilisant la fonction analogRead . La variable N est ensuite convertie en Volts gr\u00e2ce \u00e0 l'\u00e9quation de la droite du CAN, pour obtenir finalement la variable Va0 . const int PinAna = 0 ; //D\u00e9claration d'une constante de type int et de nom \"PinAna\", contenant 0 la pin analogique \u00e0 lire float VaO = 0 ; //D\u00e9claration d'une variable de type float et de nom \"Vao\", initialis\u00e9e \u00e0 0 int N = 0 ; //D\u00e9claration d'une variable de type int et de nom \"N\", initialis\u00e9e \u00e0 0 void setup () //Initialisation { //Pas de pinMode pour analogRead() } void loop () //Programme principal { N = analogRead ( PinAna ); //Lecture de la valeur Va0 de la pin analogique 0 et conversion en N -> 0<N<1023 Vao = ( 5.0 / 1023.0 ) * N ; //Conversion de N en Va0 gr\u00e2ce \u00e0 l'\u00e9quation de la droite du CAN } Warning Ne pas d\u00e9clarer la pin analogique utilis\u00e9e en entr\u00e9e \u00e0 l'aide de pinMode() Arduino le fait de mani\u00e8re automatique sachant que analogRead() ne s'utilise qu'avec des pins analogiques qui ne fonctionnent qu'en entr\u00e9e .","title":"1.2 Utiliser le CAN avec Arduino"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#2-fonctionnement-du-pwm-et-utilisation-de-analogwrite","text":"","title":"2. Fonctionnement du PWM et utilisation de analogWrite()"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#21-apport-theorique-sur-la-modulation-de-largeur-dimpulsion-mli","text":"La MLI aussi appel\u00e9e PWM (Pulse Width Modulation) en Anglais, est une technique permettant de faire varier la valeur moyenne de la tension d'un signal carr\u00e9 en changeant son rapport cyclique. Avant de rentrer dans les d\u00e9tails, revoyons un peu de vocabulaire technique. La figure ci-dessus montre un signal carr\u00e9 configur\u00e9 de cette mani\u00e8re : P\u00e9riode : T = 2ms Fr\u00e9quence : f = \\frac{1}{T} \\frac{1}{T} = 500Hz Dur\u00e9e de l'\u00e9tat bas : T_b T_b = 1ms Dur\u00e9e de l'\u00e9tat haut : T_h T_h = 1ms Tension max : V_{max} V_{max} = \\hat{V} \\hat{V} = 5V Tension min : V_{min} V_{min} = 0V Nous montrons ici comment calculer sa valeur moyenne : Formule de la valeur moyenne <V> <V> pour un signal carr\u00e9 et seulement pour un signal carr\u00e9 : <V>=\\frac{\\Delta T}{T} <V>=\\frac{\\Delta T}{T} O\u00f9 \\Delta T \\Delta T est l'aire du carr\u00e9 bleu : \\Delta T =V_{max}\\times T_h \\Delta T =V_{max}\\times T_h Nous obtenons alors : <V>=\\frac{V_{max}\\times T_h}{T} <V>=\\frac{V_{max}\\times T_h}{T} En faisant l'application num\u00e9rique \u00e0 la figure ci-dessus : <V>=\\frac{5\\times 1\\times 10^{-3}}{2\\times 10^{-3}}=2,5V <V>=\\frac{5\\times 1\\times 10^{-3}}{2\\times 10^{-3}}=2,5V On trace \u00e0 pr\u00e9sent la valeur moyenne <V> <V> en vert sur la figure : Introduisons \u00e0 pr\u00e9sent la notion de rapport cyclique \\alpha \\alpha qui est essentielle \u00e0 la compr\u00e9hension du fonctionnement d'un PWM : \\alpha=\\frac{T_h}{T} \\alpha=\\frac{T_h}{T} Le rapport cyclique est un pourcentage : 0\\%<\\alpha<100\\% 0\\%<\\alpha<100\\% La technique du PWM consiste \u00e0 faire varier le rapport cyclique qui revient \u00e0 faire varier la valeur moyenne du signal . Nous donnons ci-dessous des variations du rapport cyclique du signal carr\u00e9 pr\u00e9c\u00e9dent, tout en gardant la m\u00eame fr\u00e9quence f=500Hz : Pour \\alpha=0\\% \\alpha=0\\% Pour \\alpha=10\\% \\alpha=10\\% Pour \\alpha=50\\% \\alpha=50\\% Pour \\alpha=90\\% \\alpha=90\\% Pour \\alpha=100\\% \\alpha=100\\% Avec une fr\u00e9quence \u00e9lev\u00e9e le composant branch\u00e9 en sortie du PWM ne verra que la valeur moyenne (la droite verte) du signal carr\u00e9 qui est continue . La technique du PWM peut \u00eatre utilis\u00e9e dans les cas suivants : Faire varier la vitesse d'un moteur \u00e0 courant continu. Faire varier la luminosit\u00e9 d'une led.","title":"2.1 Apport th\u00e9orique sur la modulation de largeur d'impulsion (MLI)"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#22-utiliser-le-pwm-avec-arduino","text":"En environnement Arduino, le PWM s'utilise avec la fonction analogWrite() , nous donnons ci-dessous sa structure : Le choix du rapport cyclique avec la fonction analogWrite() se fait sur 8 bits soit une valeur comprise entre 0 -> 0% et 255 -> 100% Le PWM ne s'utilise pas avec n'importe quelle pin ! Il faut que la pin soit num\u00e9rique et que ce soit une pin PWM , nous donnons le num\u00e9ro des pins utilisables avec les cartes Arduino UNO et MEGA ainsi que la fr\u00e9quence dans le tableau suivant : Carte Pins PWM Fr\u00e9quence du PWM UNO 3,5,6,9,10,11 490Hz et 980Hz sur pins 3 et 11 MEGA 2 \u00e0 13, 44 \u00e0 46 490Hz et 980Hz sur pins 3 et 11 Note Les pins num\u00e9riques utilisables en PWM sont not\u00e9es avec un ~ sur les cartes Arduino. Nous donnons ci-dessous un code exemple de l'utilisation de cette fonction : const int PinPWM = 3 ; //D\u00e9claration d'une constante de type int et de nom \"PinPWM\", contenant 3 la pin num\u00e9rique \u00e0 utiliser pour le pwm void setup () //Initialisation { pinMode ( PinPWM , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 3 pour utiliser le pwm } void loop () //Programme principal { analogWrite ( PinPWM , 127 ); //Cr\u00e9ation d'un signal PWM sur la pin num\u00e9rique 3 avec un rapport cyclique de 50% }","title":"2.2 Utiliser le PWM avec Arduino"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#le-port-serie","text":"Le port s\u00e9rie Serial ou encore UART est un protocole de communication filaire, o\u00f9 les donn\u00e9es \u00e0 transmettre sont envoy\u00e9es par paquets de 8 bits. Le port s\u00e9rie est un des moyens qu'a une carte Arduino pour communiquer avec des \u00e9l\u00e9ments externes comme une autre carte ou un ordinateur.","title":"Le port s\u00e9rie"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#1-fonctionnement-de-luart","text":"L'UART (Universal Asynchronous Receiver Transmitter) est un des p\u00e9riph\u00e9riques du micro-contr\u00f4leur qui vient g\u00e9rer la liaison s\u00e9rie, ce protocole de communication n\u00e9cessite 3 fils. La figure ci-dessous montre le c\u00e2blage n\u00e9cessaire pour une transmission s\u00e9rie par l'UART entre 2 cartes Arduino UNO. Les donn\u00e9es transitent par la liaison s\u00e9rie sous forme de paquets de 8bits plus 1 bit de start et 1 bit de stop , nous donnons ci-dessous une trame, exemple d'\u00e9mission par l'UART : D\u00e9crivons les \u00e9tapes de cet envoi qui d\u00e9bute \u00e0 gauche du graphe et se termine \u00e0 droite : La liaison est au repos au niveau \"1\" \u00e0 5V dans un \u00e9tat que l'on apelle \"Idle\" en Anglais. La liaison d\u00e9tecte le d\u00e9but d'\u00e9mission par le passage de l'\u00e9tat Idle \u00e0 \"0\" => C'est le bit de start . Les 8 bits du message sont envoy\u00e9s en commen\u00e7ant par le bit de poids faible le LSB (Least Significant Bit) et se termine par le bit de poids fort le MSB (Most Significant Bit). Si le message que l'on souhaite envoyer est cod\u00e9 sur plus de 8 bits il sera d\u00e9coup\u00e9 en paquet de 8 obligatoirement. La liaison termine son \u00e9mission par un bit de stop \u00e0 \"1\" avant de retourner \u00e0 l'\u00e9tat Idle.","title":"1. Fonctionnement de l'UART"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#2-parametrer-luart-avec-serialbegin","text":"La fr\u00e9quence d'\u00e9mission soit le nombre de Bauds (bits par seconde) est d\u00e9finie avec la fonction Arduino Serial.begin() , notons que cette dur\u00e9e ne varie pas dans la suite du code une fois qu'on en a fait le param\u00e9trage dans le void setup() . Nous donnons ci-dessous la structure de cette fonction : Warning Le protocole de transmission s\u00e9rie \u00e9tant asynchrone l'horloge qui permet de synchroniser les signaux entre l'\u00e9metteur et le r\u00e9cepteur n'est pas transmise. Il faut donc que la fr\u00e9quence d'\u00e9mission soit la m\u00eame sur l'\u00e9metteur et sur le r\u00e9cepteur. Nous donnons ci-dessous un code exemple Arduino pour le param\u00e9trage d'une liaison s\u00e9rie \u00e0 9600 Bauds : void setup () //Initialisations { Serial . begin ( 9600 ); //Initialisation du port s\u00e9rie avec une fr\u00e9quence d'\u00e9mission de 9600 Bauds }","title":"2. Param\u00e9trer l'UART avec Serial.begin()"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#3-ecrire-sur-le-port-serie-avec-serialprint-et-serialprintln","text":"Deux fonctions permettent d'\u00e9crire simplement des messages sur le port s\u00e9rie d'une carte Arduino : Serial.print() : Permet d'\u00e9crire de multiples choses sur le serial sans se soucier si le contenu de notre message est d'une taille sup\u00e9rieure \u00e0 8 bits. La fonction fait elle m\u00eame le partage en paquets de 8 bits . Nous donnons ci-dessous la structure de cette fonction : Serial.println() : Fait la m\u00eame chose que la fonction pr\u00e9c\u00e9dente mais provoque un renvoi \u00e0 la ligne en fin d'\u00e9mission . Nous donnons ci-dessous la structure de cette fonction : Nous donnons ci-dessous un code exemple complet comprenant l'initialisation du serial et l'utilisation des deux fonctions pr\u00e9c\u00e9dentes : int Tutu = 2345 ; //D\u00e9claration d'un entier initialis\u00e9 \u00e0 2345 float Tomaas = 3.14 ; //D\u00e9claration d'un flottant initialis\u00e9 \u00e0 3.14 void setup () //Initialisations { Serial . begin ( 9600 ); //Initialisation du port s\u00e9rie avec une fr\u00e9quence d'\u00e9mission de 9600 Bauds } void loop () //Programme principal { Serial . print ( \"Ma variable Tutu contient : \" ); //Ecriture d'une chaine de caract\u00e8res sur le serial Serial . println ( Tutu ); //Ecriture du contenu de Tutu et retour \u00e0 la ligne Serial . print ( \"Ma variable Tomaas contient : \" ); //Ecriture d'une chaine de caract\u00e8res sur le serial Serial . println ( Tomaas ); //Ecriture du contenu de Tomaas et retour \u00e0 la ligne } Une fonction sur l'Arduino IDE appel\u00e9e Moniteur s\u00e9rie permet d'afficher ce que notre carte Arduino \u00e9crit sur le serial gr\u00e2ce \u00e0 la liaison usb. (Les pins Rx et Tx du port s\u00e9rie sont retransmises sur le port USB). Observons ce que notre code produit sur le moniteur s\u00e9rie : Le code pr\u00e9c\u00e9dent affiche de mani\u00e8re infinie (Nous rappelons que le void loop() est \u00e9quivalent \u00e0 un while(1) ) la premi\u00e8re cha\u00eene de caract\u00e8re, le contenu de la variable Tutu, retourne \u00e0 la ligne puis affiche la seconde cha\u00eene de caract\u00e8res et affiche la variable Tomaas pour \u00e0 nouveau retourner \u00e0 la ligne et recommencer...","title":"3. Ecrire sur le port s\u00e9rie avec Serial.print() et Serial.println()"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#autres-fonctions-utiles","text":"Cette partie r\u00e9pertorie toutes les autres fonctions que vous pourriez \u00eatre amen\u00e9 \u00e0 utiliser dans vos codes Arduino.","title":"Autres fonctions utiles"},{"location":"psti2d/arduino/04-Fonctions_Arduino/#1-faire-une-pause-delay","text":"La fonction delay permet de mettre en pause l'ex\u00e9cution du programme durant le temps donn\u00e9 en milli-secondes. Nous donnons ci-dessous la structure de ce programme : Nous donnons ci-dessous un code exemple de l'utilisation de cette fonction : void loop ( void ) { //Bloc d'instructions delay ( 5000 ); //Pause de 5 secondes //Bloc d'instructions }","title":"1. Faire une pause delay()"},{"location":"psti2d/arduino/05-Modules_Grove/","text":"Utilisation des modules Grove de Seeed Studio Les modules Grove de Seeed Studio permettant de prototyper rapidement une solution, seront utilis\u00e9s lors des activit\u00e9s sin. 1. Introduction Seeed Studio est une entreprise Chinoise bas\u00e9e \u00e0 Shenzhen qui commercialise des produits \u00e9lectroniques pour les Makers . Grove est un syst\u00e8me de modules se branchant sur une carte m\u00e8re appel\u00e9e Grove shield : Pour Arduino UNO : Grove Base Shield Pour Arduino Mega : Grove Mega Shield Beaucoup de documentation est disponible sur le Wiki de Seeed Studio allez y jeter un coup d'oeil ! 2. Comment connecter un module au shield Grove ? Ci-dessous le shield Grove Mega qui s'enfiche par dessus une carte Arduino Mega: Ce shield dispose de 4 familles de connecteurs : Les connecteurs sur pins num\u00e9riques commen\u00e7ant par un D qui re\u00e7oivent des modules num\u00e9riques comme le module LED, le bouton poussoir ( Button ), le capteur d'inclinaison ( Tilt Switch ) et le bargraphe ( LED Bar ) Les connecteurs sur pins analogiques commen\u00e7ant pas un A qui re\u00e7oivent des modules analogiques comme le module potentiom\u00e8tre ( Rotary Sensor ), le capteur de luminosit\u00e9 ( Light Sensor ) et le capteur de temp\u00e9rature ( Temperature Sensor ). Les connecteurs i2C IIC sur la carte , au nombre de 3 (tous les m\u00eames, sp\u00e9cificit\u00e9 du bus) permettant de connecter par la liaison s\u00e9rie i2C des composants fonctionnant sur ce bus comme l'\u00e9cran LCD ( LCD RGB Backlight ) Les connecteurs UART, au nombre de 4 un pour chaque Serial disponible sur l'Arduino MEGA, permettent de connecter des modules utilisant ce type de liaison. La connexion des modules Grove sur le shield se fait gr\u00e2ce \u00e0 des cordons de 4 fils : Un fil noir pour la masse not\u00e9 G ou GND sur les modules Un fil rouge pour l'alimentation not\u00e9 Vcc ou V sur les modules Un fil blanc pour un des deux signaux bien souvent ce fil n'est pas utilis\u00e9 et est not\u00e9 NC (Non Connect\u00e9) Un fil jaune pour un des deux signaux not\u00e9 SIG, c'est ce fil qui est utilis\u00e9 principalement pour connecter le module \u00e0 la pin d\u00e9sir\u00e9e . Sur ce sch\u00e9ma nous avons connect\u00e9 le module Light Sensor \u00e0 la pin analogique A0 . 3. Les actionneurs Les modules actionneurs re\u00e7oivent de l'\u00e9nergie \u00e9lectrique venant de l'Arduino et la transforme, par exemple le module LED re\u00e7oit de l'\u00e9nergie \u00e9lectrique et la transforme en \u00e9nergie lumineuse. 3.1 Le module LED Nous donnons ci-dessous un exemple d'utilisation du module LED, ce code fait clignoter la LED du module Grove LED toutes les secondes qui est connect\u00e9 sur la pin num\u00e9rique 2 : const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin o\u00f9 la led est reli\u00e9e void setup () //Initialisations { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 } void loop () //Programme principal { digitalWrite ( led , HIGH ); //Mise \u00e0 1 de la pin num\u00e9rique 2 d\u00e9sign\u00e9e par la constante led delay ( 1000 ); //Pause de 1s digitalWrite ( led , LOW ); //Mise \u00e0 0 de la pin num\u00e9rique 2 d\u00e9sign\u00e9e par la constante led delay ( 1000 ); //Pause de 1s } 4. Les capteurs Les modules capteurs \u00e9mettent un signal \u00e9lectrique (une tension) image de la donn\u00e9e physique (temp\u00e9rature, luminosit\u00e9 ...) qu'ils mesurent. 4.1 Le module bouton poussoir : Button Nous donnons ci-dessous un code exemple de l'utilisation du module Button , le comportement est le suivant : L'appui sur le bouton poussoir reli\u00e9 sur la pin num\u00e9rique 3, provoque l'allumage de la led reli\u00e9e sur la pin num\u00e9rique 2. Le rel\u00e2chement provoque son extinction. const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin o\u00f9 la led est reli\u00e9e const int bp = 3 ; //D\u00e9claration d'une constante de type int et de nom \"bp\", contenant 3 la pin o\u00f9 le bouton poussoir est reli\u00e9 boolean etat = false ; //D\u00e9claration d'une variable \"etat\" de type bool\u00e9en initialis\u00e9e \u00e0 false (soit niveau logique 0) void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 pour la led pinMode ( bp , INPUT ); //Mise en entr\u00e9e de la pin num\u00e9rique 3 pour le bouton poussoir } void loop () //Programme principal { etat = digitalRead ( bp ); //Lecture de la valeur de la pin 3 : bouton appuy\u00e9 -> etat=1 bouton relach\u00e9 -> etat=0 digitalWrite ( led , etat ); //La led s'allume ou s'\u00e9teint suivant la valeur de \"etat\" } 4.2 Le module capteur d'inclinaison : Tilt Switch Nous donnons ci-dessous un code exemple de l'utilisation du module Tilt Switch , le comportement est le suivant : L'inclinaison du capteur reli\u00e9 sur la pin num\u00e9rique 3, provoque l'allumage de la led reli\u00e9e sur la pin num\u00e9rique 2. Le fait de mettre le capteur \u00e0 l'horizontale provoque son extinction. const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin o\u00f9 la led est reli\u00e9e const int tilt = 3 ; //D\u00e9claration d'une constante de type int et de nom \"bp\", contenant 3 la pin o\u00f9 le bouton poussoir est reli\u00e9 boolean etat = false ; //D\u00e9claration d'une variable \"etat\" de type bool\u00e9en initialis\u00e9e \u00e0 false (soit niveau logique 0) void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 pour la led pinMode ( tilt , INPUT ); //Mise en entr\u00e9e de la pin num\u00e9rique 3 pour le tilt switch } void loop () //Programme principal { etat = digitalRead ( tilt ); //Lecture de la valeur de la pin 3 : tilt inclin\u00e9 -> etat=1 tilt horizontal -> etat=0 digitalWrite ( led , etat ); //La led s'allume ou s'\u00e9teint suivant la valeur de \"etat\" } 4.3 Le module potentiom\u00e8tre : Rotary Sensor Nous donnons ci-dessous un code exemple de l'utilisation du module Rotary Sensor , le comportement est le suivant : Le module potentiom\u00e8tre est reli\u00e9 \u00e0 la pin analogique 0, le fait de faire tourner celui-ci fait varier la tension V_{a0} V_{a0} entre 0 et 5V sur cette pin. Nous utilisons le CAN pour lire cette tension et la transformer en une information num\u00e9rique N comprise entre 0 et 1023 (sur 10 bits), nous \"re-bornons\" cette information \u00e0 l'aide de la fonction Arduino map() entre 0 et 255 (sur 8 bits) et l'utilisons avec le PWM sur la pin num\u00e9rique 2 pour faire varier la luminosit\u00e9 du module led. const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin num\u00e9rique o\u00f9 la led est reli\u00e9e const int rotary_sensor = 0 ; //D\u00e9claration d'une constante de type int et de nom \"rotary_sensor\", contenant 0 la pin analogique o\u00f9 le potentiom\u00e8tre est reli\u00e9 int N = 0 ; //D\u00e9claration d'une variable enti\u00e8re appel\u00e9e N est initialis\u00e9e \u00e0 0 pour stocker la sortie du CAN void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 pour la led } void loop () //Programme principal { N = analogRead ( rotary_sensor ); //Conversion Analogique -> Num\u00e9rique de la tension Va0 -> N N = map ( N , 0 , 1023 , 0 , 255 ); //Rebornage de 0<N<1023 en 0<N<255 analogWrite ( led , N ); //La luminosit\u00e9 de la led varie en fonction de N et donc de Va0 } 4.4 Le module LDR : Light Sensor Nous donnons ci-dessous un code exemple de l'utilisation du module Light Sensor , le comportement est le suivant : Le module LDR est reli\u00e9 \u00e0 la pin analogique 0, le fait de faire varier la luminosit\u00e9 (cacher ou d\u00e9voiler le capteur) fait varier la tension V_{a0} V_{a0} entre 0 et 5V sur cette pin. Nous utilisons le CAN pour lire cette tension et la transformer en une information num\u00e9rique N comprise entre 0 et 1023 (sur 10 bits), nous \"re-bornons\" cette information \u00e0 l'aide de la fonction Arduino map() entre 0 et 255 (sur 8 bits) et l'utilisons avec le PWM sur la pin num\u00e9rique 2 pour faire varier la luminosit\u00e9 du module led. Cette fois-ci une forte luminosit\u00e9 entra\u00eenera une extinction de la led et une faible luminosit\u00e9 un \u00e9clairement maximal. Info Il est possible que la tension de la LDR m\u00eame avec une forte luminosit\u00e9 ne fasse pas monter la valeur N \u00e0 1023, il s'agit donc de regarder la valeur max r\u00e9elle de N (\u00e0 l'aide du Serial par exemple) pour ajuster le rebornage dans map() . 4.5 Le module temp\u00e9rature : Temperature Sensor Nous donnons ci-dessous un code exemple de l'utilisation du module Temperature Sensor , le comportement est le suivant : Le module temp\u00e9rature est reli\u00e9 \u00e0 la pin analogique 0, le fait de faire monter la temp\u00e9rature au dessus de 30\u00b0C allume le module led reli\u00e9 sur la pin num\u00e9rique 2. Faire descendre la temp\u00e9rature en dessous provoque l'extinction de la led. #include <math.h> //Ajout de la biblioth\u00e8que C/C++ math.h pour utiliser la fonction logarithme d\u00e9cimal : log() //Constantes prises sur la documentation du Wiki de Seeed Studio const int B = 4275 ; //B valeur de la LDR en Ohms const int R0 = 100000 ; //R0 = 100k const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin num\u00e9rique o\u00f9 la led est reli\u00e9e const int temperature_sensor = 0 ; //D\u00e9claration d'une constante de type int et de nom \"temperature_sensor\", contenant 0 la pin analogique o\u00f9 le capteur de temp\u00e9rature est reli\u00e9 int N = 0 ; //D\u00e9claration d'une variable enti\u00e8re appel\u00e9e N est initialis\u00e9e \u00e0 0 pour stocker la sortie du CAN float R = 0 ; //D\u00e9claration d'une variable flottante appel\u00e9e R est initialis\u00e9e \u00e0 0 pour calculer la temp\u00e9rature float temperature = 0 ; //D\u00e9claration d'une variable flottante appel\u00e9e R est initialis\u00e9e \u00e0 0 pour stocker la valeur de la temp\u00e9rature void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 pour la led } void loop () //Programme principal { N = analogRead ( temperature_sensor ); //Conversion Analogique -> Num\u00e9rique de la tension Va0 -> N //Calcul de la temperature suivant la doc du Wiki de Seeed Studio R = 1023.0 / (( float ) N ) - 1.0 ; R = 100000.0 * R ; temperature = 1.0 / ( log ( R / 100000.0 ) / B + 1 / 298.15 ) - 273.15 ; //calcul de la temperature suivant la doc if ( temperature > 30 ) { digitalWrite ( led , HIGH ); //Allumage de la led si temperature > 30 } else { digitalWrite ( led , LOW ); //Extinction de la led si temperature < 30 } } Note La biblioth\u00e8que math.h est d\u00e9j\u00e0 pr\u00e9-ajout\u00e9e dans l'IDE Arduino inutile de chercher o\u00f9 la t\u00e9l\u00e9charger. 5. L'afficheur LCD Ce module est un \u00e9cran LCD noir et blanc de 2 lignes et 16 colonnes, un r\u00e9tro-\u00e9clairage fonctionnant \u00e0 l'aide de leds RGB est disponible. Info Ce module fonctionne gr\u00e2ce \u00e0 la liaison i2C , il est donc n\u00e9cessaire de choisir un connecteur i2C sur le shield Grove . 5.1 La biblioth\u00e8que rgb_lcd.h L'ajout d'une biblioth\u00e8que \u00e0 l'IDE Arduino est n\u00e9cessaire \u00e0 l'utilisation du module LCD RGB Backlight , celle-ci est disponible sur le Github de Seeed Studio : lien Ensuite, ajoutez le fichier .zip \u00e0 l'IDE Arduino : Il suffit d'inclure \u00e0 pr\u00e9sent la biblioth\u00e8que au d\u00e9but du code Arduino de cette mani\u00e8re : #include <Wire.h> //Ajout de la biblioth\u00e8que i2c pour utiliser le lcd #include \"rgb_lcd.h\" //Ajout de la biblioth\u00e8que du lcd Info Ne pas oublier d'ajouter \u00e9galement la biblioth\u00e8que Wire.h pour utiliser la liaison i2C. 5.2 Initialisation du lcd avec lcd.begin() Nous donnons ci-dessous un code exemple de l'initialisation de l'\u00e9cran Grove RGB LCD : rgb_lcd lcd ; //Constructeur rgb_lcd pour l'objet lcd void setup () //Initialisations { lcd . begin ( 16 , 2 ); //Initialisation du lcd de 16 colonnes et 2 lignes } {% include note.html content=\" Le langage C++ est un langage orient\u00e9 objet, un principe de programmation complexe que nous n'allons pas aborder ici. Le constructeur est en quelque sorte la mani\u00e8re de d\u00e9clarer un objet, dans notre cas nous d\u00e9clarons un objet lcd de type rgb_lcd .\"%} \u00c9crire o\u00f9 l'on veut avec lcd.setCursor() L'\u00e9cran lcd du module Grove RGB LCD dispose de 16 colonnes et 2 lignes, si on ne pr\u00e9cise rien quand on code l'instruction permettant d'\u00e9crire des choses dessus, la colonne 0 et la ligne 0 sont prisent en d\u00e9faut ce qui a pour cons\u00e9quence d'\u00e9crire en haut \u00e0 gauche : Mais comment fait-on si on souhaite commencer \u00e0 \u00e9crire au milieu ? Il suffit d'utiliser la fonction lcd.setCursor() , dont nous expliquons le fonctionnement ci-dessous : 5.3 Tout effacer avec lcd.clear() La fonction lcd.clear() permet d'effacer enti\u00e8rement l'\u00e9cran lcd, nous donnons la structure de cette fonction ci-dessous : 5.4 \u00c9crire avec lcd.print() La fonction lcd.print() permet d'\u00e9crire ce que l'on veut sur le lcd mais ne g\u00e8re pas le d\u00e9passement (\u00e9crire au del\u00e0 des 16 colonnes et 2 lignes), c'est au d\u00e9veloppeur de v\u00e9rifier deux fois que ce qu'il souhaite \u00e9crire tienne bien dans la place impartie. Nous donnons la structure de cette fonction ci-dessous : Pour \u00e9crire une cha\u00eene de caract\u00e8res : Pour \u00e9crire le contenu d'une variable : Nous donnons ci-dessous un code exemple complet de l'utilisation de lcd.print() et montrons le r\u00e9sultat sur l'\u00e9cran lcd : #include <Wire.h> //Ajout de la biblioth\u00e8que i2c pour utiliser le lcd #include \"rgb_lcd.h\" //Ajout de la biblioth\u00e8que du lcd rgb_lcd lcd ; //Constructeur rgb_lcd pour l'objet lcd int cpt = 0 ; //D\u00e9claration d'un entier \"cpt\" initialis\u00e9 \u00e0 0 pour compter le nombre de cycles d'affichages void setup () //Initialisations { lcd . begin ( 16 , 2 ); //Initialisation du lcd de 16 colonnes et 2 lignes } void loop () //Programme principal { lcd . setCursor ( 0 , 0 ); //On commence \u00e0 \u00e9crire en haut \u00e0 gauche lcd . print ( \"hello, world!\" ); //On \u00e9crit \"hello, world!\" lcd . setCursor ( 0 , 1 ); //On se met sur la ligne du bas \u00e0 gauche lcd . print ( \"STI2D SIN\" ); //On \u00e9crit \"STI2D SIN\" delay ( 3000 ); //On attend 3s lcd . clear (); //On efface le lcd lcd . setCursor ( 0 , 0 ); //On commence \u00e0 \u00e9crire en haut \u00e0 gauche lcd . print ( \"Lycee GT\" ); //On \u00e9crit \"Lycee LGT\" lcd . setCursor ( 0 , 1 ); //On se met sur la ligne du bas \u00e0 gauche lcd . print ( \"L.Rascol Albi\" ); //On \u00e9crit \"L.Rascol Albi\" delay ( 3000 ); //On attend 3s lcd . clear (); //On efface le lcd lcd . setCursor ( 0 , 0 ); //On commence \u00e0 \u00e9crire en haut \u00e0 gauche lcd . print ( \"Affichage : \" ); //On \u00e9crit \"Affichage : \" lcd . setCursor ( 13 , 0 ); //On se met sur la 13 \u00e8me colonne de la premi\u00e8re ligne lcd . print ( cpt ); //On \u00e9crit le contenu de la variable cpt delay ( 3000 ); //On attend 3s lcd . clear (); //On efface le lcd cpt ++ //On incr\u00e9mente de 1 la variable cpt } 5.5 Changer la couleur du r\u00e9tro-\u00e9clairage avec lcd.setRGB() Le module LCD RGB Backlight comme son nom l'indique contient des leds RGB pour Red Green Blue. En faisant varier l'intensit\u00e9 de chaque composante nous pouvons choisir la couleur du r\u00e9tro-\u00e9clairage parmi une infinit\u00e9. Nous donnons ci-dessous la structure de la fonction lcd.setRGB() \u00e0 param\u00e9trer dans le void setup() . L'intensit\u00e9 de chaque couleur se code sur 8 bits, soit une valeur entre 0 et 255. Nous donnons ci-dessous un code exemple pour un \u00e9clairage en rouge et montrons le r\u00e9sultat sur l'\u00e9cran lcd : #include <Wire.h> //Ajout de la biblioth\u00e8que i2c pour utiliser le lcd #include \"rgb_lcd.h\" //Ajout de la biblioth\u00e8que du lcd rgb_lcd lcd ; //Constructeur rgb_lcd pour l'objet lcd void setup () //Initialisations { lcd . begin ( 16 , 2 ); //Initialisation du lcd de 16 colonnes et 2 lignes lcd . setRGB ( 255 , 0 , 0 ); //Configuration de l'\u00e9clairage en rouge } void loop () //Programme principal { lcd . setCursor ( 0 , 0 ); //On commence \u00e0 \u00e9crire en haut \u00e0 gauche lcd . print ( \"hello, world!\" ); //On \u00e9crit \"hello, world!\" lcd . setCursor ( 0 , 1 ); //On se met sur la ligne du bas \u00e0 gauche lcd . print ( \"STI2D SIN\" ); //On \u00e9crit \"STI2D SIN\" }","title":"Utilisation des modules Grove de Seeed Studio"},{"location":"psti2d/arduino/05-Modules_Grove/#utilisation-des-modules-grove-de-seeed-studio","text":"Les modules Grove de Seeed Studio permettant de prototyper rapidement une solution, seront utilis\u00e9s lors des activit\u00e9s sin.","title":"Utilisation des modules Grove de Seeed Studio"},{"location":"psti2d/arduino/05-Modules_Grove/#1-introduction","text":"Seeed Studio est une entreprise Chinoise bas\u00e9e \u00e0 Shenzhen qui commercialise des produits \u00e9lectroniques pour les Makers . Grove est un syst\u00e8me de modules se branchant sur une carte m\u00e8re appel\u00e9e Grove shield : Pour Arduino UNO : Grove Base Shield Pour Arduino Mega : Grove Mega Shield Beaucoup de documentation est disponible sur le Wiki de Seeed Studio allez y jeter un coup d'oeil !","title":"1. Introduction"},{"location":"psti2d/arduino/05-Modules_Grove/#2-comment-connecter-un-module-au-shield-grove","text":"Ci-dessous le shield Grove Mega qui s'enfiche par dessus une carte Arduino Mega: Ce shield dispose de 4 familles de connecteurs : Les connecteurs sur pins num\u00e9riques commen\u00e7ant par un D qui re\u00e7oivent des modules num\u00e9riques comme le module LED, le bouton poussoir ( Button ), le capteur d'inclinaison ( Tilt Switch ) et le bargraphe ( LED Bar ) Les connecteurs sur pins analogiques commen\u00e7ant pas un A qui re\u00e7oivent des modules analogiques comme le module potentiom\u00e8tre ( Rotary Sensor ), le capteur de luminosit\u00e9 ( Light Sensor ) et le capteur de temp\u00e9rature ( Temperature Sensor ). Les connecteurs i2C IIC sur la carte , au nombre de 3 (tous les m\u00eames, sp\u00e9cificit\u00e9 du bus) permettant de connecter par la liaison s\u00e9rie i2C des composants fonctionnant sur ce bus comme l'\u00e9cran LCD ( LCD RGB Backlight ) Les connecteurs UART, au nombre de 4 un pour chaque Serial disponible sur l'Arduino MEGA, permettent de connecter des modules utilisant ce type de liaison. La connexion des modules Grove sur le shield se fait gr\u00e2ce \u00e0 des cordons de 4 fils : Un fil noir pour la masse not\u00e9 G ou GND sur les modules Un fil rouge pour l'alimentation not\u00e9 Vcc ou V sur les modules Un fil blanc pour un des deux signaux bien souvent ce fil n'est pas utilis\u00e9 et est not\u00e9 NC (Non Connect\u00e9) Un fil jaune pour un des deux signaux not\u00e9 SIG, c'est ce fil qui est utilis\u00e9 principalement pour connecter le module \u00e0 la pin d\u00e9sir\u00e9e . Sur ce sch\u00e9ma nous avons connect\u00e9 le module Light Sensor \u00e0 la pin analogique A0 .","title":"2. Comment connecter un module au shield Grove ?"},{"location":"psti2d/arduino/05-Modules_Grove/#3-les-actionneurs","text":"Les modules actionneurs re\u00e7oivent de l'\u00e9nergie \u00e9lectrique venant de l'Arduino et la transforme, par exemple le module LED re\u00e7oit de l'\u00e9nergie \u00e9lectrique et la transforme en \u00e9nergie lumineuse.","title":"3. Les actionneurs"},{"location":"psti2d/arduino/05-Modules_Grove/#31-le-module-led","text":"Nous donnons ci-dessous un exemple d'utilisation du module LED, ce code fait clignoter la LED du module Grove LED toutes les secondes qui est connect\u00e9 sur la pin num\u00e9rique 2 : const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin o\u00f9 la led est reli\u00e9e void setup () //Initialisations { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 } void loop () //Programme principal { digitalWrite ( led , HIGH ); //Mise \u00e0 1 de la pin num\u00e9rique 2 d\u00e9sign\u00e9e par la constante led delay ( 1000 ); //Pause de 1s digitalWrite ( led , LOW ); //Mise \u00e0 0 de la pin num\u00e9rique 2 d\u00e9sign\u00e9e par la constante led delay ( 1000 ); //Pause de 1s }","title":"3.1 Le module LED"},{"location":"psti2d/arduino/05-Modules_Grove/#4-les-capteurs","text":"Les modules capteurs \u00e9mettent un signal \u00e9lectrique (une tension) image de la donn\u00e9e physique (temp\u00e9rature, luminosit\u00e9 ...) qu'ils mesurent.","title":"4. Les capteurs"},{"location":"psti2d/arduino/05-Modules_Grove/#41-le-module-bouton-poussoir-button","text":"Nous donnons ci-dessous un code exemple de l'utilisation du module Button , le comportement est le suivant : L'appui sur le bouton poussoir reli\u00e9 sur la pin num\u00e9rique 3, provoque l'allumage de la led reli\u00e9e sur la pin num\u00e9rique 2. Le rel\u00e2chement provoque son extinction. const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin o\u00f9 la led est reli\u00e9e const int bp = 3 ; //D\u00e9claration d'une constante de type int et de nom \"bp\", contenant 3 la pin o\u00f9 le bouton poussoir est reli\u00e9 boolean etat = false ; //D\u00e9claration d'une variable \"etat\" de type bool\u00e9en initialis\u00e9e \u00e0 false (soit niveau logique 0) void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 pour la led pinMode ( bp , INPUT ); //Mise en entr\u00e9e de la pin num\u00e9rique 3 pour le bouton poussoir } void loop () //Programme principal { etat = digitalRead ( bp ); //Lecture de la valeur de la pin 3 : bouton appuy\u00e9 -> etat=1 bouton relach\u00e9 -> etat=0 digitalWrite ( led , etat ); //La led s'allume ou s'\u00e9teint suivant la valeur de \"etat\" }","title":"4.1 Le module bouton poussoir : Button"},{"location":"psti2d/arduino/05-Modules_Grove/#42-le-module-capteur-dinclinaison-tilt-switch","text":"Nous donnons ci-dessous un code exemple de l'utilisation du module Tilt Switch , le comportement est le suivant : L'inclinaison du capteur reli\u00e9 sur la pin num\u00e9rique 3, provoque l'allumage de la led reli\u00e9e sur la pin num\u00e9rique 2. Le fait de mettre le capteur \u00e0 l'horizontale provoque son extinction. const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin o\u00f9 la led est reli\u00e9e const int tilt = 3 ; //D\u00e9claration d'une constante de type int et de nom \"bp\", contenant 3 la pin o\u00f9 le bouton poussoir est reli\u00e9 boolean etat = false ; //D\u00e9claration d'une variable \"etat\" de type bool\u00e9en initialis\u00e9e \u00e0 false (soit niveau logique 0) void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 pour la led pinMode ( tilt , INPUT ); //Mise en entr\u00e9e de la pin num\u00e9rique 3 pour le tilt switch } void loop () //Programme principal { etat = digitalRead ( tilt ); //Lecture de la valeur de la pin 3 : tilt inclin\u00e9 -> etat=1 tilt horizontal -> etat=0 digitalWrite ( led , etat ); //La led s'allume ou s'\u00e9teint suivant la valeur de \"etat\" }","title":"4.2 Le module capteur d'inclinaison : Tilt Switch"},{"location":"psti2d/arduino/05-Modules_Grove/#43-le-module-potentiometre-rotary-sensor","text":"Nous donnons ci-dessous un code exemple de l'utilisation du module Rotary Sensor , le comportement est le suivant : Le module potentiom\u00e8tre est reli\u00e9 \u00e0 la pin analogique 0, le fait de faire tourner celui-ci fait varier la tension V_{a0} V_{a0} entre 0 et 5V sur cette pin. Nous utilisons le CAN pour lire cette tension et la transformer en une information num\u00e9rique N comprise entre 0 et 1023 (sur 10 bits), nous \"re-bornons\" cette information \u00e0 l'aide de la fonction Arduino map() entre 0 et 255 (sur 8 bits) et l'utilisons avec le PWM sur la pin num\u00e9rique 2 pour faire varier la luminosit\u00e9 du module led. const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin num\u00e9rique o\u00f9 la led est reli\u00e9e const int rotary_sensor = 0 ; //D\u00e9claration d'une constante de type int et de nom \"rotary_sensor\", contenant 0 la pin analogique o\u00f9 le potentiom\u00e8tre est reli\u00e9 int N = 0 ; //D\u00e9claration d'une variable enti\u00e8re appel\u00e9e N est initialis\u00e9e \u00e0 0 pour stocker la sortie du CAN void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 pour la led } void loop () //Programme principal { N = analogRead ( rotary_sensor ); //Conversion Analogique -> Num\u00e9rique de la tension Va0 -> N N = map ( N , 0 , 1023 , 0 , 255 ); //Rebornage de 0<N<1023 en 0<N<255 analogWrite ( led , N ); //La luminosit\u00e9 de la led varie en fonction de N et donc de Va0 }","title":"4.3 Le module potentiom\u00e8tre : Rotary Sensor"},{"location":"psti2d/arduino/05-Modules_Grove/#44-le-module-ldr-light-sensor","text":"Nous donnons ci-dessous un code exemple de l'utilisation du module Light Sensor , le comportement est le suivant : Le module LDR est reli\u00e9 \u00e0 la pin analogique 0, le fait de faire varier la luminosit\u00e9 (cacher ou d\u00e9voiler le capteur) fait varier la tension V_{a0} V_{a0} entre 0 et 5V sur cette pin. Nous utilisons le CAN pour lire cette tension et la transformer en une information num\u00e9rique N comprise entre 0 et 1023 (sur 10 bits), nous \"re-bornons\" cette information \u00e0 l'aide de la fonction Arduino map() entre 0 et 255 (sur 8 bits) et l'utilisons avec le PWM sur la pin num\u00e9rique 2 pour faire varier la luminosit\u00e9 du module led. Cette fois-ci une forte luminosit\u00e9 entra\u00eenera une extinction de la led et une faible luminosit\u00e9 un \u00e9clairement maximal. Info Il est possible que la tension de la LDR m\u00eame avec une forte luminosit\u00e9 ne fasse pas monter la valeur N \u00e0 1023, il s'agit donc de regarder la valeur max r\u00e9elle de N (\u00e0 l'aide du Serial par exemple) pour ajuster le rebornage dans map() .","title":"4.4 Le module LDR : Light Sensor"},{"location":"psti2d/arduino/05-Modules_Grove/#45-le-module-temperature-temperature-sensor","text":"Nous donnons ci-dessous un code exemple de l'utilisation du module Temperature Sensor , le comportement est le suivant : Le module temp\u00e9rature est reli\u00e9 \u00e0 la pin analogique 0, le fait de faire monter la temp\u00e9rature au dessus de 30\u00b0C allume le module led reli\u00e9 sur la pin num\u00e9rique 2. Faire descendre la temp\u00e9rature en dessous provoque l'extinction de la led. #include <math.h> //Ajout de la biblioth\u00e8que C/C++ math.h pour utiliser la fonction logarithme d\u00e9cimal : log() //Constantes prises sur la documentation du Wiki de Seeed Studio const int B = 4275 ; //B valeur de la LDR en Ohms const int R0 = 100000 ; //R0 = 100k const int led = 2 ; //D\u00e9claration d'une constante de type int et de nom \"led\", contenant 2 la pin num\u00e9rique o\u00f9 la led est reli\u00e9e const int temperature_sensor = 0 ; //D\u00e9claration d'une constante de type int et de nom \"temperature_sensor\", contenant 0 la pin analogique o\u00f9 le capteur de temp\u00e9rature est reli\u00e9 int N = 0 ; //D\u00e9claration d'une variable enti\u00e8re appel\u00e9e N est initialis\u00e9e \u00e0 0 pour stocker la sortie du CAN float R = 0 ; //D\u00e9claration d'une variable flottante appel\u00e9e R est initialis\u00e9e \u00e0 0 pour calculer la temp\u00e9rature float temperature = 0 ; //D\u00e9claration d'une variable flottante appel\u00e9e R est initialis\u00e9e \u00e0 0 pour stocker la valeur de la temp\u00e9rature void setup () //Initialisation { pinMode ( led , OUTPUT ); //Mise en sortie de la pin num\u00e9rique 2 pour la led } void loop () //Programme principal { N = analogRead ( temperature_sensor ); //Conversion Analogique -> Num\u00e9rique de la tension Va0 -> N //Calcul de la temperature suivant la doc du Wiki de Seeed Studio R = 1023.0 / (( float ) N ) - 1.0 ; R = 100000.0 * R ; temperature = 1.0 / ( log ( R / 100000.0 ) / B + 1 / 298.15 ) - 273.15 ; //calcul de la temperature suivant la doc if ( temperature > 30 ) { digitalWrite ( led , HIGH ); //Allumage de la led si temperature > 30 } else { digitalWrite ( led , LOW ); //Extinction de la led si temperature < 30 } } Note La biblioth\u00e8que math.h est d\u00e9j\u00e0 pr\u00e9-ajout\u00e9e dans l'IDE Arduino inutile de chercher o\u00f9 la t\u00e9l\u00e9charger.","title":"4.5 Le module temp\u00e9rature : Temperature Sensor"},{"location":"psti2d/arduino/05-Modules_Grove/#5-lafficheur-lcd","text":"Ce module est un \u00e9cran LCD noir et blanc de 2 lignes et 16 colonnes, un r\u00e9tro-\u00e9clairage fonctionnant \u00e0 l'aide de leds RGB est disponible. Info Ce module fonctionne gr\u00e2ce \u00e0 la liaison i2C , il est donc n\u00e9cessaire de choisir un connecteur i2C sur le shield Grove .","title":"5. L'afficheur LCD"},{"location":"psti2d/arduino/05-Modules_Grove/#51-la-bibliotheque-rgb_lcdh","text":"L'ajout d'une biblioth\u00e8que \u00e0 l'IDE Arduino est n\u00e9cessaire \u00e0 l'utilisation du module LCD RGB Backlight , celle-ci est disponible sur le Github de Seeed Studio : lien Ensuite, ajoutez le fichier .zip \u00e0 l'IDE Arduino : Il suffit d'inclure \u00e0 pr\u00e9sent la biblioth\u00e8que au d\u00e9but du code Arduino de cette mani\u00e8re : #include <Wire.h> //Ajout de la biblioth\u00e8que i2c pour utiliser le lcd #include \"rgb_lcd.h\" //Ajout de la biblioth\u00e8que du lcd Info Ne pas oublier d'ajouter \u00e9galement la biblioth\u00e8que Wire.h pour utiliser la liaison i2C.","title":"5.1 La biblioth\u00e8que rgb_lcd.h"},{"location":"psti2d/arduino/05-Modules_Grove/#52-initialisation-du-lcd-avec-lcdbegin","text":"Nous donnons ci-dessous un code exemple de l'initialisation de l'\u00e9cran Grove RGB LCD : rgb_lcd lcd ; //Constructeur rgb_lcd pour l'objet lcd void setup () //Initialisations { lcd . begin ( 16 , 2 ); //Initialisation du lcd de 16 colonnes et 2 lignes } {% include note.html content=\" Le langage C++ est un langage orient\u00e9 objet, un principe de programmation complexe que nous n'allons pas aborder ici. Le constructeur est en quelque sorte la mani\u00e8re de d\u00e9clarer un objet, dans notre cas nous d\u00e9clarons un objet lcd de type rgb_lcd .\"%}","title":"5.2 Initialisation du lcd avec lcd.begin()"},{"location":"psti2d/arduino/05-Modules_Grove/#ecrire-ou-lon-veut-avec-lcdsetcursor","text":"L'\u00e9cran lcd du module Grove RGB LCD dispose de 16 colonnes et 2 lignes, si on ne pr\u00e9cise rien quand on code l'instruction permettant d'\u00e9crire des choses dessus, la colonne 0 et la ligne 0 sont prisent en d\u00e9faut ce qui a pour cons\u00e9quence d'\u00e9crire en haut \u00e0 gauche : Mais comment fait-on si on souhaite commencer \u00e0 \u00e9crire au milieu ? Il suffit d'utiliser la fonction lcd.setCursor() , dont nous expliquons le fonctionnement ci-dessous :","title":"\u00c9crire o\u00f9 l'on veut avec lcd.setCursor()"},{"location":"psti2d/arduino/05-Modules_Grove/#53-tout-effacer-avec-lcdclear","text":"La fonction lcd.clear() permet d'effacer enti\u00e8rement l'\u00e9cran lcd, nous donnons la structure de cette fonction ci-dessous :","title":"5.3 Tout effacer avec lcd.clear()"},{"location":"psti2d/arduino/05-Modules_Grove/#54-ecrire-avec-lcdprint","text":"La fonction lcd.print() permet d'\u00e9crire ce que l'on veut sur le lcd mais ne g\u00e8re pas le d\u00e9passement (\u00e9crire au del\u00e0 des 16 colonnes et 2 lignes), c'est au d\u00e9veloppeur de v\u00e9rifier deux fois que ce qu'il souhaite \u00e9crire tienne bien dans la place impartie. Nous donnons la structure de cette fonction ci-dessous : Pour \u00e9crire une cha\u00eene de caract\u00e8res : Pour \u00e9crire le contenu d'une variable : Nous donnons ci-dessous un code exemple complet de l'utilisation de lcd.print() et montrons le r\u00e9sultat sur l'\u00e9cran lcd : #include <Wire.h> //Ajout de la biblioth\u00e8que i2c pour utiliser le lcd #include \"rgb_lcd.h\" //Ajout de la biblioth\u00e8que du lcd rgb_lcd lcd ; //Constructeur rgb_lcd pour l'objet lcd int cpt = 0 ; //D\u00e9claration d'un entier \"cpt\" initialis\u00e9 \u00e0 0 pour compter le nombre de cycles d'affichages void setup () //Initialisations { lcd . begin ( 16 , 2 ); //Initialisation du lcd de 16 colonnes et 2 lignes } void loop () //Programme principal { lcd . setCursor ( 0 , 0 ); //On commence \u00e0 \u00e9crire en haut \u00e0 gauche lcd . print ( \"hello, world!\" ); //On \u00e9crit \"hello, world!\" lcd . setCursor ( 0 , 1 ); //On se met sur la ligne du bas \u00e0 gauche lcd . print ( \"STI2D SIN\" ); //On \u00e9crit \"STI2D SIN\" delay ( 3000 ); //On attend 3s lcd . clear (); //On efface le lcd lcd . setCursor ( 0 , 0 ); //On commence \u00e0 \u00e9crire en haut \u00e0 gauche lcd . print ( \"Lycee GT\" ); //On \u00e9crit \"Lycee LGT\" lcd . setCursor ( 0 , 1 ); //On se met sur la ligne du bas \u00e0 gauche lcd . print ( \"L.Rascol Albi\" ); //On \u00e9crit \"L.Rascol Albi\" delay ( 3000 ); //On attend 3s lcd . clear (); //On efface le lcd lcd . setCursor ( 0 , 0 ); //On commence \u00e0 \u00e9crire en haut \u00e0 gauche lcd . print ( \"Affichage : \" ); //On \u00e9crit \"Affichage : \" lcd . setCursor ( 13 , 0 ); //On se met sur la 13 \u00e8me colonne de la premi\u00e8re ligne lcd . print ( cpt ); //On \u00e9crit le contenu de la variable cpt delay ( 3000 ); //On attend 3s lcd . clear (); //On efface le lcd cpt ++ //On incr\u00e9mente de 1 la variable cpt }","title":"5.4 \u00c9crire avec lcd.print()"},{"location":"psti2d/arduino/05-Modules_Grove/#55-changer-la-couleur-du-retro-eclairage-avec-lcdsetrgb","text":"Le module LCD RGB Backlight comme son nom l'indique contient des leds RGB pour Red Green Blue. En faisant varier l'intensit\u00e9 de chaque composante nous pouvons choisir la couleur du r\u00e9tro-\u00e9clairage parmi une infinit\u00e9. Nous donnons ci-dessous la structure de la fonction lcd.setRGB() \u00e0 param\u00e9trer dans le void setup() . L'intensit\u00e9 de chaque couleur se code sur 8 bits, soit une valeur entre 0 et 255. Nous donnons ci-dessous un code exemple pour un \u00e9clairage en rouge et montrons le r\u00e9sultat sur l'\u00e9cran lcd : #include <Wire.h> //Ajout de la biblioth\u00e8que i2c pour utiliser le lcd #include \"rgb_lcd.h\" //Ajout de la biblioth\u00e8que du lcd rgb_lcd lcd ; //Constructeur rgb_lcd pour l'objet lcd void setup () //Initialisations { lcd . begin ( 16 , 2 ); //Initialisation du lcd de 16 colonnes et 2 lignes lcd . setRGB ( 255 , 0 , 0 ); //Configuration de l'\u00e9clairage en rouge } void loop () //Programme principal { lcd . setCursor ( 0 , 0 ); //On commence \u00e0 \u00e9crire en haut \u00e0 gauche lcd . print ( \"hello, world!\" ); //On \u00e9crit \"hello, world!\" lcd . setCursor ( 0 , 1 ); //On se met sur la ligne du bas \u00e0 gauche lcd . print ( \"STI2D SIN\" ); //On \u00e9crit \"STI2D SIN\" }","title":"5.5 Changer la couleur du r\u00e9tro-\u00e9clairage avec lcd.setRGB()"},{"location":"psti2d/arduino/06-Creer_une_macro/","text":"Cr\u00e9ation d'une macro ou sous-programme en environnement C/C++ Une macro aussi appel\u00e9e sous-programme ou fonction est une suite d'instructions d\u00e9finies \u00e0 l'avance, pouvant \u00eatre ex\u00e9cut\u00e9es \u00e0 l'infini. Une macro est utilis\u00e9e pour, par exemple simplifier le code en limitant les r\u00e9p\u00e9titions. 1. O\u00f9 d\u00e9clarer sa macro ? Les d\u00e9clarations de macros doivent \u00eatre faites juste apr\u00e8s les d\u00e9clarations de variables globales, dans un code Arduino, comme le montre l'exemple ci-dessous. /************************************************************************************************** Nom ......... : Projet_Alarme_Emission_433.ino Role ........ : Transmet en 433MHz gr\u00e2ce \u00e0 la biblioth\u00e8que VirtualWire une cha\u00eene de caract\u00e8re sur la pin 12 de l'Arduino Mega 2560 * Dans le cas normal envoi :\"Repos_capteur_ILS\" * Dans le cas d'un front montant sur CapteurPin envoi : \"Alerte_capteur_ILS\" Auteur ...... : J.Serrand Mail ........ : joris.serrand@rascol.net Version ..... : V0.0 du 17/02/16 Licence ..... : Copyright (C) 2016 Joris SERRAND This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques #include <Wire.h> //Insertion de la biblioth\u00e8que pour les fonctions I2C //D\u00e9clarations de constantes #define bp 10 //D\u00e9claration d'une constante appel\u00e9e bp de valeur 10 const float pi = 3.14 ; //D\u00e9claration d'une constante de type float et de nom \"pi\" initialis\u00e9e \u00e0 3.14 //D\u00e9claration de variables int cpt = 0 ; //D\u00e9claration d'un entier de nom \"cpt\" initialis\u00e9 \u00e0 0 float vitesse = 10.5 ; //D\u00e9claration d'un flottant de nom \"vitesse\" initialis\u00e9 \u00e0 10.5 //D\u00e9claration de macros int ma_macro ( float toto ) { //Instructions } void setup () { //Initialisations } void loop () { //Programme principal } 2. Comment cr\u00e9er une macro ? 2.1 Cr\u00e9ation d'une macro sans param\u00e8tres d'entr\u00e9e ni de sortie La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique, puis en langage C/C++ : Ci-dessous l'exemple des macros allumer_led_13() et eteindre_led_13() , qui respectivement allume et \u00e9teint la led 13 lorsque on les appelle dans le programme principal loop : //D\u00e9claration de macros void allumer_led_13 ( void ) //D\u00e9claration d'une macro sans param\u00e8tre d'entr\u00e9e ni de sortie { digitalWrite ( 13 , HIGH ); //Allumage de la led 13 } void eteindre_led_13 ( void ) //D\u00e9claration d'une macro sans param\u00e8tre d'entr\u00e9e ni de sortie { digitalWrite ( 13 , LOW ); //Extinction de la led 13 } //Initialisations void setup () { pinMode ( 13 , OUTPUT ); //Param\u00e9trage de la pin 13 en sortie } //Programme principal void loop () { allumer_led_13 (); //Appel de la macro allumer_led_13() delay ( 1000 ); eteindre_led_13 (); //Appel de la macro eteindre_led_13() delay ( 1000 ); } 2.2 Cr\u00e9ation d'une macro avec param\u00e8tre d'entr\u00e9e La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique, puis en langage C/C++ : Ci dessous nous donnons un exemple d'utilisation d'une telle macro : affichage_mess_serial(boolean presence) , permet d'envoyer sur le serial le message : \"Presence d eau\" quand le param\u00e8tre d'entr\u00e9e presence vaut 1 et \"Capteur hors d eau\" quand le param\u00e8tre vaut 0 . //D\u00e9claration de macros void affichage_mess_serial ( boolean presence ) //Prototype de la macro { if ( presence ) Serial . println ( \"Presence d eau\" ); //Si le param\u00e8tre d\u2019entr\u00e9e \"presence\" vaut 1 affichage de \"Presence d eau\" else Serial . println ( \"Capteur hors d eau\" ); //Si le param\u00e8tre d\u2019entr\u00e9e \"presence\" vaut 0 affichage de \"Capteur hors d eau\" } //Initialisations void setup () { Serial . begin ( 9600 ); //Initialisation du port s\u00e9rie \u00e0 9600 bauds } //Programme principal void loop () { affichage_mess_serial ( 0 ); //Appel de la macro avec le param\u00e8tre d'entr\u00e9e \u00e0 0, aura pour effet d'envoyer sur le serial le message : \"Capteur hors d eau\" } 2.3 Cr\u00e9ation d'une macro avec param\u00e8tres d'entr\u00e9e et de sortie La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique, puis en langage C/C++ : Ci-dessous la macro float hypotenuse(float a, float b) renvoi un flottant qui correspond \u00e0 l\u2019hypot\u00e9nuse calcul\u00e9e suivant les deux param\u00e8tres donn\u00e9s en entr\u00e9e, soit les longueurs des deux c\u00f4t\u00e9s a et b. //D\u00e9claration de macros float hypotenuse ( float a , float b ) { float c = 0 ; //D\u00e9claration de la variable c initialis\u00e9e \u00e0 0, qui contiendra le r\u00e9sultat c = ( pow ( a , 2 ) + pow ( b , 2 )); //Calcul de la somme des deux c\u00f4t\u00e9s au carr\u00e9 c = sqrt ( c ); //Calcul de la racine carr\u00e9 du r\u00e9sultat pr\u00e9c\u00e9dent return c ; //Renvoi le contenu de la variable c en param\u00e8tre de sortie de la macro } //Initialisations void setup () { } //Programme principal void loop () { float hyp = 0 ; hyp = hypotenuse ( 6 , 8 ); //Appel de la macro }","title":"Cr\u00e9ation d'une macro ou sous-programme en environnement C/C++"},{"location":"psti2d/arduino/06-Creer_une_macro/#creation-dune-macro-ou-sous-programme-en-environnement-cc","text":"Une macro aussi appel\u00e9e sous-programme ou fonction est une suite d'instructions d\u00e9finies \u00e0 l'avance, pouvant \u00eatre ex\u00e9cut\u00e9es \u00e0 l'infini. Une macro est utilis\u00e9e pour, par exemple simplifier le code en limitant les r\u00e9p\u00e9titions.","title":"Cr\u00e9ation d'une macro ou sous-programme en environnement C/C++"},{"location":"psti2d/arduino/06-Creer_une_macro/#1-ou-declarer-sa-macro","text":"Les d\u00e9clarations de macros doivent \u00eatre faites juste apr\u00e8s les d\u00e9clarations de variables globales, dans un code Arduino, comme le montre l'exemple ci-dessous. /************************************************************************************************** Nom ......... : Projet_Alarme_Emission_433.ino Role ........ : Transmet en 433MHz gr\u00e2ce \u00e0 la biblioth\u00e8que VirtualWire une cha\u00eene de caract\u00e8re sur la pin 12 de l'Arduino Mega 2560 * Dans le cas normal envoi :\"Repos_capteur_ILS\" * Dans le cas d'un front montant sur CapteurPin envoi : \"Alerte_capteur_ILS\" Auteur ...... : J.Serrand Mail ........ : joris.serrand@rascol.net Version ..... : V0.0 du 17/02/16 Licence ..... : Copyright (C) 2016 Joris SERRAND This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques #include <Wire.h> //Insertion de la biblioth\u00e8que pour les fonctions I2C //D\u00e9clarations de constantes #define bp 10 //D\u00e9claration d'une constante appel\u00e9e bp de valeur 10 const float pi = 3.14 ; //D\u00e9claration d'une constante de type float et de nom \"pi\" initialis\u00e9e \u00e0 3.14 //D\u00e9claration de variables int cpt = 0 ; //D\u00e9claration d'un entier de nom \"cpt\" initialis\u00e9 \u00e0 0 float vitesse = 10.5 ; //D\u00e9claration d'un flottant de nom \"vitesse\" initialis\u00e9 \u00e0 10.5 //D\u00e9claration de macros int ma_macro ( float toto ) { //Instructions } void setup () { //Initialisations } void loop () { //Programme principal }","title":"1. O\u00f9 d\u00e9clarer sa macro ?"},{"location":"psti2d/arduino/06-Creer_une_macro/#2-comment-creer-une-macro","text":"","title":"2. Comment cr\u00e9er une macro ?"},{"location":"psti2d/arduino/06-Creer_une_macro/#21-creation-dune-macro-sans-parametres-dentree-ni-de-sortie","text":"La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique, puis en langage C/C++ : Ci-dessous l'exemple des macros allumer_led_13() et eteindre_led_13() , qui respectivement allume et \u00e9teint la led 13 lorsque on les appelle dans le programme principal loop : //D\u00e9claration de macros void allumer_led_13 ( void ) //D\u00e9claration d'une macro sans param\u00e8tre d'entr\u00e9e ni de sortie { digitalWrite ( 13 , HIGH ); //Allumage de la led 13 } void eteindre_led_13 ( void ) //D\u00e9claration d'une macro sans param\u00e8tre d'entr\u00e9e ni de sortie { digitalWrite ( 13 , LOW ); //Extinction de la led 13 } //Initialisations void setup () { pinMode ( 13 , OUTPUT ); //Param\u00e9trage de la pin 13 en sortie } //Programme principal void loop () { allumer_led_13 (); //Appel de la macro allumer_led_13() delay ( 1000 ); eteindre_led_13 (); //Appel de la macro eteindre_led_13() delay ( 1000 ); }","title":"2.1 Cr\u00e9ation d'une macro sans param\u00e8tres d'entr\u00e9e ni de sortie"},{"location":"psti2d/arduino/06-Creer_une_macro/#22-creation-dune-macro-avec-parametre-dentree","text":"La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique, puis en langage C/C++ : Ci dessous nous donnons un exemple d'utilisation d'une telle macro : affichage_mess_serial(boolean presence) , permet d'envoyer sur le serial le message : \"Presence d eau\" quand le param\u00e8tre d'entr\u00e9e presence vaut 1 et \"Capteur hors d eau\" quand le param\u00e8tre vaut 0 . //D\u00e9claration de macros void affichage_mess_serial ( boolean presence ) //Prototype de la macro { if ( presence ) Serial . println ( \"Presence d eau\" ); //Si le param\u00e8tre d\u2019entr\u00e9e \"presence\" vaut 1 affichage de \"Presence d eau\" else Serial . println ( \"Capteur hors d eau\" ); //Si le param\u00e8tre d\u2019entr\u00e9e \"presence\" vaut 0 affichage de \"Capteur hors d eau\" } //Initialisations void setup () { Serial . begin ( 9600 ); //Initialisation du port s\u00e9rie \u00e0 9600 bauds } //Programme principal void loop () { affichage_mess_serial ( 0 ); //Appel de la macro avec le param\u00e8tre d'entr\u00e9e \u00e0 0, aura pour effet d'envoyer sur le serial le message : \"Capteur hors d eau\" }","title":"2.2 Cr\u00e9ation d'une macro avec param\u00e8tre d'entr\u00e9e"},{"location":"psti2d/arduino/06-Creer_une_macro/#23-creation-dune-macro-avec-parametres-dentree-et-de-sortie","text":"La figure ci-dessous montre l'exemple de la d\u00e9claration d'une telle macro, de mani\u00e8re algorithmique, puis en langage C/C++ : Ci-dessous la macro float hypotenuse(float a, float b) renvoi un flottant qui correspond \u00e0 l\u2019hypot\u00e9nuse calcul\u00e9e suivant les deux param\u00e8tres donn\u00e9s en entr\u00e9e, soit les longueurs des deux c\u00f4t\u00e9s a et b. //D\u00e9claration de macros float hypotenuse ( float a , float b ) { float c = 0 ; //D\u00e9claration de la variable c initialis\u00e9e \u00e0 0, qui contiendra le r\u00e9sultat c = ( pow ( a , 2 ) + pow ( b , 2 )); //Calcul de la somme des deux c\u00f4t\u00e9s au carr\u00e9 c = sqrt ( c ); //Calcul de la racine carr\u00e9 du r\u00e9sultat pr\u00e9c\u00e9dent return c ; //Renvoi le contenu de la variable c en param\u00e8tre de sortie de la macro } //Initialisations void setup () { } //Programme principal void loop () { float hyp = 0 ; hyp = hypotenuse ( 6 , 8 ); //Appel de la macro }","title":"2.3 Cr\u00e9ation d'une macro avec param\u00e8tres d'entr\u00e9e et de sortie"},{"location":"psti2d/arduino/07-interruptions/","text":"Les interruptions en environnement Arduino L'interruption, ou comment mettre en pause le programme principal pour pouvoir faire ex\u00e9cuter autre chose au microcontr\u00f4leur. 1. \u00c7a sert \u00e0 quoi une interruption ? Une interruption peut se d\u00e9clencher de plusieurs mani\u00e8res : Sur un \u00e9v\u00e9nement interne : Fin de comptage d'un timer, fin de d\u00e9codage d'un CAN ... Sur un \u00e9v\u00e9nement externe : Changement d'\u00e9tat d'une pin num\u00e9rique. Nous nous concentrerons dans cette partie aux interruptions d\u00e9clench\u00e9es par un \u00e9v\u00e9nement externe. Le comportement du microcontr\u00f4leur r\u00e9agissant \u00e0 un tel type d'interruption est le suivant. Une pin num\u00e9rique param\u00e9tr\u00e9e en entr\u00e9e sur laquelle a \u00e9t\u00e9 programm\u00e9e une interruption, change d'\u00e9tat (passage de 0 \u00e0 1 par exemple). Le programme principal ( void loop() ) est imm\u00e9diatement arr\u00eat\u00e9, sa position est m\u00e9moris\u00e9e Le microcontr\u00f4leur ex\u00e9cute la macro d'interruption d\u00e9finie au pr\u00e9alable. Le microcontr\u00f4leur reprend le programme principal \u00e0 l'endroit m\u00e9moris\u00e9. Note Les interruptions sont tr\u00e8s utilis\u00e9es, le fait de pouvoir mettre en pause le programme principal m\u00eame lorsque celui-ci ex\u00e9cute un delay() est tr\u00e8s appr\u00e9ci\u00e9. 2. Param\u00e9trage d'une interruption sur un \u00e9v\u00e9nement externe Le param\u00e9trage de l'interruption se fait dans le void setup() en utilisant la fonction attachInterrupt() de cette mani\u00e8re : Warning Toutes le pins ne peuvent pas \u00eatre utilis\u00e9es pour faire des interruptions, pour l' Arduino MEGA se sont les pins : 2, 3, 18, 19, 20, 21 et pour l' Arduino UNO les pins : 2 et 3 . Ci-dessous un exemple de param\u00e9trage d'interruption sur la pin num\u00e9rique 2 d'un Arduino MEGA, le d\u00e9clenchement est choisi sur front-montant (rising) : void setup () { pinMode ( 2 , INPUT ); //D\u00e9claration de la pin 2 en entr\u00e9e attachInterrupt ( digitalPinToInterrupt ( 2 ), macro_interrupt , RISING ); //Param\u00e9trage d'une interruption sur la pin 2 } 3. Cr\u00e9ation de la macro d'interruption La macro d'interruption est une macro sans param\u00e8tres d'entr\u00e9e ni de sortie , celle-ci doit \u00eatre la plus courte possible . En effet, afin de ne pas saturer la m\u00e9moire du microcontr\u00f4leur qui lors d'une interruption doit m\u00e9moriser les valeurs des variables dans le programme principal, votre macro d'interruption ne doit pas comporter d'instructions gourmandes en m\u00e9moire : appel de fonctions pour le port s\u00e9rie, pour \u00e9crire sur un \u00e9cran lcd ... En g\u00e9n\u00e9ral nous pr\u00e9conisons d'inverser l'\u00e9tat d'un bool\u00e9en aussi appel\u00e9 flag dans cette macro, il s\u2019agira ensuite de regarder l'\u00e9tat de se flag dans le programme principal v\u00e9rifiant si il y a eu, ou non une interruption. Les variables utilis\u00e9es dans une macro d'interruption doivent obligatoirement \u00eatre d\u00e9clar\u00e9 globales et comme volatile . Nous donnons ci-dessous un exemple de cr\u00e9ation de macro d'interruption avec d\u00e9claration d'un flag, ainsi qu'un test sur ce flag dans le programme principal: volatile boolean flag = false ; //D\u00e9claration du flag en volatile pour utilisation dans la macro d'interruption void macro_interrupt ( void ) //Prototype de la macro d'interruption { flag =! flag ; //Inversion du flag } void setup () { pinMode ( 2 , INPUT ); Serial . begin ( 9600 ); attachInterrupt ( digitalPinToInterrupt ( 2 ), macro_interrupt , RISING ); } void loop () { if ( ! flag ) //Test sur la variable flag, si flag=0 => Pas d'interruption, si flag=1 => Il y a eu une interruption Serial . println ( \"Il n'y a pas eu d'interruption\" ); //Affichage d'un message sur le serial si pas d'interruption else { Serial . println ( \"Il y a eu une interruption\" ); //Affichage d'un message sur le serial si interruption flag = false ; //remise \u00e0 z\u00e9ro du flag pour la prochaine interruption } }","title":"Les interruptions en environnement Arduino"},{"location":"psti2d/arduino/07-interruptions/#les-interruptions-en-environnement-arduino","text":"L'interruption, ou comment mettre en pause le programme principal pour pouvoir faire ex\u00e9cuter autre chose au microcontr\u00f4leur.","title":"Les interruptions en environnement Arduino"},{"location":"psti2d/arduino/07-interruptions/#1-ca-sert-a-quoi-une-interruption","text":"Une interruption peut se d\u00e9clencher de plusieurs mani\u00e8res : Sur un \u00e9v\u00e9nement interne : Fin de comptage d'un timer, fin de d\u00e9codage d'un CAN ... Sur un \u00e9v\u00e9nement externe : Changement d'\u00e9tat d'une pin num\u00e9rique. Nous nous concentrerons dans cette partie aux interruptions d\u00e9clench\u00e9es par un \u00e9v\u00e9nement externe. Le comportement du microcontr\u00f4leur r\u00e9agissant \u00e0 un tel type d'interruption est le suivant. Une pin num\u00e9rique param\u00e9tr\u00e9e en entr\u00e9e sur laquelle a \u00e9t\u00e9 programm\u00e9e une interruption, change d'\u00e9tat (passage de 0 \u00e0 1 par exemple). Le programme principal ( void loop() ) est imm\u00e9diatement arr\u00eat\u00e9, sa position est m\u00e9moris\u00e9e Le microcontr\u00f4leur ex\u00e9cute la macro d'interruption d\u00e9finie au pr\u00e9alable. Le microcontr\u00f4leur reprend le programme principal \u00e0 l'endroit m\u00e9moris\u00e9. Note Les interruptions sont tr\u00e8s utilis\u00e9es, le fait de pouvoir mettre en pause le programme principal m\u00eame lorsque celui-ci ex\u00e9cute un delay() est tr\u00e8s appr\u00e9ci\u00e9.","title":"1. \u00c7a sert \u00e0 quoi une interruption ?"},{"location":"psti2d/arduino/07-interruptions/#2-parametrage-dune-interruption-sur-un-evenement-externe","text":"Le param\u00e9trage de l'interruption se fait dans le void setup() en utilisant la fonction attachInterrupt() de cette mani\u00e8re : Warning Toutes le pins ne peuvent pas \u00eatre utilis\u00e9es pour faire des interruptions, pour l' Arduino MEGA se sont les pins : 2, 3, 18, 19, 20, 21 et pour l' Arduino UNO les pins : 2 et 3 . Ci-dessous un exemple de param\u00e9trage d'interruption sur la pin num\u00e9rique 2 d'un Arduino MEGA, le d\u00e9clenchement est choisi sur front-montant (rising) : void setup () { pinMode ( 2 , INPUT ); //D\u00e9claration de la pin 2 en entr\u00e9e attachInterrupt ( digitalPinToInterrupt ( 2 ), macro_interrupt , RISING ); //Param\u00e9trage d'une interruption sur la pin 2 }","title":"2. Param\u00e9trage d'une interruption sur un \u00e9v\u00e9nement externe"},{"location":"psti2d/arduino/07-interruptions/#3-creation-de-la-macro-dinterruption","text":"La macro d'interruption est une macro sans param\u00e8tres d'entr\u00e9e ni de sortie , celle-ci doit \u00eatre la plus courte possible . En effet, afin de ne pas saturer la m\u00e9moire du microcontr\u00f4leur qui lors d'une interruption doit m\u00e9moriser les valeurs des variables dans le programme principal, votre macro d'interruption ne doit pas comporter d'instructions gourmandes en m\u00e9moire : appel de fonctions pour le port s\u00e9rie, pour \u00e9crire sur un \u00e9cran lcd ... En g\u00e9n\u00e9ral nous pr\u00e9conisons d'inverser l'\u00e9tat d'un bool\u00e9en aussi appel\u00e9 flag dans cette macro, il s\u2019agira ensuite de regarder l'\u00e9tat de se flag dans le programme principal v\u00e9rifiant si il y a eu, ou non une interruption. Les variables utilis\u00e9es dans une macro d'interruption doivent obligatoirement \u00eatre d\u00e9clar\u00e9 globales et comme volatile . Nous donnons ci-dessous un exemple de cr\u00e9ation de macro d'interruption avec d\u00e9claration d'un flag, ainsi qu'un test sur ce flag dans le programme principal: volatile boolean flag = false ; //D\u00e9claration du flag en volatile pour utilisation dans la macro d'interruption void macro_interrupt ( void ) //Prototype de la macro d'interruption { flag =! flag ; //Inversion du flag } void setup () { pinMode ( 2 , INPUT ); Serial . begin ( 9600 ); attachInterrupt ( digitalPinToInterrupt ( 2 ), macro_interrupt , RISING ); } void loop () { if ( ! flag ) //Test sur la variable flag, si flag=0 => Pas d'interruption, si flag=1 => Il y a eu une interruption Serial . println ( \"Il n'y a pas eu d'interruption\" ); //Affichage d'un message sur le serial si pas d'interruption else { Serial . println ( \"Il y a eu une interruption\" ); //Affichage d'un message sur le serial si interruption flag = false ; //remise \u00e0 z\u00e9ro du flag pour la prochaine interruption } }","title":"3. Cr\u00e9ation de la macro d'interruption"},{"location":"psti2d/arduino/08-timer/","text":"Utilisation d'un timer La biblioth\u00e8que flexitimer2 permet une utilisation simplifi\u00e9e du timer du microcontr\u00f4leur, nous expliquons ici son fonctionnement. 1. La biblioth\u00e8que flexitimer2 Un timer permet de programmer l\u2019ex\u00e9cution d'instructions sur une dur\u00e9e donn\u00e9e. Le param\u00e9trage des timers le l'Atmega2560 fait appel \u00e0 la programmation de registres complexes, l'utilisation de la biblioth\u00e8que flexitimer2 permet de rapidement mettre en place une solution. Malheureusement cette biblioth\u00e8que n'est pas dans la base de donn\u00e9es du gestionnaire, il faut donc l'ajouter manuellement, apr\u00e8s l'avoir t\u00e9l\u00e9charg\u00e9e sur le Github du cr\u00e9ateur : Biblioth\u00e8que flexitimer2 Cliquez sur , puis dans l'IDE Arduino allez dans Croquis > Inclure une biblioth\u00e8que > Ajouter la biblioth\u00e8que .ZIP 2. Param\u00e9trage d'un timer Le param\u00e9trage du timer peut se faire n'importe o\u00f9, et plusieurs fois, dans le programme principal loop() ainsi que dans le setup() . Il faut pour ce faire utiliser la fonction FlexiTimer2::set() , le timer d\u00e9clenchera une interruption une fois le temps \u00e9coul\u00e9, il s'agit alors d'indiquer le nom de la macro d'interruption lors de ce param\u00e9trage. Pour d\u00e9marrer le timer il suffit d\u2019ex\u00e9cuter la fonction : FlexiTimer2::start() et pour l'arr\u00eater : FlexiTimer2::stop() 3. Utilisation d'un timer Le programme ci-dessous param\u00e8tre le timer pour une dur\u00e9e de 10s et allume la led 13 en fin de comptage de ce dernier : #include <FlexiTimer2.h> //Biblioth\u00e8que pour utiliser le timer volatile boolean flag = false ; //D\u00e9claration de la variable utilis\u00e9e dans la macro d'interruption void macro_interrupt ( void ) { flag =! flag ; } void setup () { pinMode ( 13 , OUTPUT ); FlexiTimer2 :: set ( 10000 , macro_interrupt ); //Param\u00e9trage du timer sur 10s } void loop () { FlexiTimer2 :: start (); //D\u00e9marrage du timer while ( ! flag ) //Attente de la fin de temporisation, du passage \u00e0 1 du flag { digitalWrite ( 13 , LOW ); } digitalWrite ( 13 , HIGH ); }","title":"Utilisation d'un timer"},{"location":"psti2d/arduino/08-timer/#utilisation-dun-timer","text":"La biblioth\u00e8que flexitimer2 permet une utilisation simplifi\u00e9e du timer du microcontr\u00f4leur, nous expliquons ici son fonctionnement.","title":"Utilisation d'un timer"},{"location":"psti2d/arduino/08-timer/#1-la-bibliotheque-flexitimer2","text":"Un timer permet de programmer l\u2019ex\u00e9cution d'instructions sur une dur\u00e9e donn\u00e9e. Le param\u00e9trage des timers le l'Atmega2560 fait appel \u00e0 la programmation de registres complexes, l'utilisation de la biblioth\u00e8que flexitimer2 permet de rapidement mettre en place une solution. Malheureusement cette biblioth\u00e8que n'est pas dans la base de donn\u00e9es du gestionnaire, il faut donc l'ajouter manuellement, apr\u00e8s l'avoir t\u00e9l\u00e9charg\u00e9e sur le Github du cr\u00e9ateur : Biblioth\u00e8que flexitimer2 Cliquez sur , puis dans l'IDE Arduino allez dans Croquis > Inclure une biblioth\u00e8que > Ajouter la biblioth\u00e8que .ZIP","title":"1. La biblioth\u00e8que flexitimer2"},{"location":"psti2d/arduino/08-timer/#2-parametrage-dun-timer","text":"Le param\u00e9trage du timer peut se faire n'importe o\u00f9, et plusieurs fois, dans le programme principal loop() ainsi que dans le setup() . Il faut pour ce faire utiliser la fonction FlexiTimer2::set() , le timer d\u00e9clenchera une interruption une fois le temps \u00e9coul\u00e9, il s'agit alors d'indiquer le nom de la macro d'interruption lors de ce param\u00e9trage. Pour d\u00e9marrer le timer il suffit d\u2019ex\u00e9cuter la fonction : FlexiTimer2::start() et pour l'arr\u00eater : FlexiTimer2::stop()","title":"2. Param\u00e9trage d'un timer"},{"location":"psti2d/arduino/08-timer/#3-utilisation-dun-timer","text":"Le programme ci-dessous param\u00e8tre le timer pour une dur\u00e9e de 10s et allume la led 13 en fin de comptage de ce dernier : #include <FlexiTimer2.h> //Biblioth\u00e8que pour utiliser le timer volatile boolean flag = false ; //D\u00e9claration de la variable utilis\u00e9e dans la macro d'interruption void macro_interrupt ( void ) { flag =! flag ; } void setup () { pinMode ( 13 , OUTPUT ); FlexiTimer2 :: set ( 10000 , macro_interrupt ); //Param\u00e9trage du timer sur 10s } void loop () { FlexiTimer2 :: start (); //D\u00e9marrage du timer while ( ! flag ) //Attente de la fin de temporisation, du passage \u00e0 1 du flag { digitalWrite ( 13 , LOW ); } digitalWrite ( 13 , HIGH ); }","title":"3. Utilisation d'un timer"},{"location":"psti2d/arduino/ACT1-InOutNum/","text":"D\u00e9couverte des entr\u00e9es sorties num\u00e9riques R\u00e9alisation de l'activit\u00e9 Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement . 1. Utilisation des sorties num\u00e9riques sur une carte Arduino 1.1 Clignotement led 13 Nous souhaitons dans un premier temps faire clignoter la led 13 d'une carte Arduino MEGA. La led devra rester allum\u00e9e 500ms et \u00e9teinte 500ms . Info La led 13 est la led reli\u00e9e \u00e0 la pin 13 soud\u00e9e sur la carte Arduino MEGA ou Arduino UNO comme le montre la figure ci-dessous. 1.2 Utilisation du module Grove led \u00c0 pr\u00e9sent utilisez le programme pr\u00e9c\u00e9dent pour faire clignoter la led d'un module LED Grove reli\u00e9 \u00e0 la pin num\u00e9rique 2 . Nous utiliserons le m\u00eame cycle de clignotement que tout \u00e0 l'heure soit, 500ms \u00e9teinte / 500ms allum\u00e9e . 2. Utilisation des entr\u00e9es num\u00e9riques sur une carte Arduino 2.1 Bouton poussoir sans condition Allumer la led du module Grove de la partie 1 lors d'un appui sur le bouton poussoir. La led est toujours reli\u00e9e \u00e0 la pin num\u00e9rique 2 et le bouton poussoir \u00e0 la pin num\u00e9rique 6 . Dans un premier temps, ne pas se servir de la condition if() ou if() else . 2.2 Bouton poussoir avec condition \u00c0 pr\u00e9sent vous devez faire le m\u00eame exercice que pr\u00e9c\u00e9demment mais en utilisant une condition de type if() ou if() else . Nous utiliserons les m\u00eames pins. 2.3 Allumage invers\u00e9 Cette fois-ci il s'agit d'allumer la led quand le bouton poussoir est rel\u00e2ch\u00e9 et de l'\u00e9teindre quand on appui sur celui-ci. Nous utiliserons les m\u00eames pins. 2.4 Allumage et extinction explicites Pour finir, un appui sur le bouton poussoir allumera la led et la laissera allum\u00e9e, un autre appui \u00e9teindra la led et la laissera \u00e9teinte.","title":"D\u00e9couverte des entr\u00e9es sorties num\u00e9riques"},{"location":"psti2d/arduino/ACT1-InOutNum/#decouverte-des-entrees-sorties-numeriques","text":"","title":"D\u00e9couverte des entr\u00e9es sorties num\u00e9riques"},{"location":"psti2d/arduino/ACT1-InOutNum/#realisation-de-lactivite","text":"Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement .","title":"R\u00e9alisation de l'activit\u00e9"},{"location":"psti2d/arduino/ACT1-InOutNum/#1-utilisation-des-sorties-numeriques-sur-une-carte-arduino","text":"","title":"1. Utilisation des sorties num\u00e9riques sur une carte Arduino"},{"location":"psti2d/arduino/ACT1-InOutNum/#11-clignotement-led-13","text":"Nous souhaitons dans un premier temps faire clignoter la led 13 d'une carte Arduino MEGA. La led devra rester allum\u00e9e 500ms et \u00e9teinte 500ms . Info La led 13 est la led reli\u00e9e \u00e0 la pin 13 soud\u00e9e sur la carte Arduino MEGA ou Arduino UNO comme le montre la figure ci-dessous.","title":"1.1 Clignotement led 13"},{"location":"psti2d/arduino/ACT1-InOutNum/#12-utilisation-du-module-grove-led","text":"\u00c0 pr\u00e9sent utilisez le programme pr\u00e9c\u00e9dent pour faire clignoter la led d'un module LED Grove reli\u00e9 \u00e0 la pin num\u00e9rique 2 . Nous utiliserons le m\u00eame cycle de clignotement que tout \u00e0 l'heure soit, 500ms \u00e9teinte / 500ms allum\u00e9e .","title":"1.2 Utilisation du module Grove led"},{"location":"psti2d/arduino/ACT1-InOutNum/#2-utilisation-des-entrees-numeriques-sur-une-carte-arduino","text":"","title":"2. Utilisation des entr\u00e9es num\u00e9riques sur une carte Arduino"},{"location":"psti2d/arduino/ACT1-InOutNum/#21-bouton-poussoir-sans-condition","text":"Allumer la led du module Grove de la partie 1 lors d'un appui sur le bouton poussoir. La led est toujours reli\u00e9e \u00e0 la pin num\u00e9rique 2 et le bouton poussoir \u00e0 la pin num\u00e9rique 6 . Dans un premier temps, ne pas se servir de la condition if() ou if() else .","title":"2.1 Bouton poussoir sans condition"},{"location":"psti2d/arduino/ACT1-InOutNum/#22-bouton-poussoir-avec-condition","text":"\u00c0 pr\u00e9sent vous devez faire le m\u00eame exercice que pr\u00e9c\u00e9demment mais en utilisant une condition de type if() ou if() else . Nous utiliserons les m\u00eames pins.","title":"2.2 Bouton poussoir avec condition"},{"location":"psti2d/arduino/ACT1-InOutNum/#23-allumage-inverse","text":"Cette fois-ci il s'agit d'allumer la led quand le bouton poussoir est rel\u00e2ch\u00e9 et de l'\u00e9teindre quand on appui sur celui-ci. Nous utiliserons les m\u00eames pins.","title":"2.3 Allumage invers\u00e9"},{"location":"psti2d/arduino/ACT1-InOutNum/#24-allumage-et-extinction-explicites","text":"Pour finir, un appui sur le bouton poussoir allumera la led et la laissera allum\u00e9e, un autre appui \u00e9teindra la led et la laissera \u00e9teinte.","title":"2.4 Allumage et extinction explicites"},{"location":"psti2d/arduino/ACT2-Serial/","text":"Exploitation du port s\u00e9rie R\u00e9alisation de l'activit\u00e9 Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement . 1. Transmission puis affichage d'un texte sur le moniteur s\u00e9rie Nous souhaitons utiliser le Serial (aussi appel\u00e9 UART) d'une carte Arduino MEGA pour afficher le texte suivant : STI2D SIN Rascol, Arduino du basique au complexe. Un retour \u00e0 la ligne sera effectu\u00e9 \u00e0 la fin de la phrase et le texte devra s'afficher en boucle comme le montre l'image ci-dessous : 2. Incr\u00e9mentation d'un compteur et affichage sur le moniteur s\u00e9rie Cr\u00e9ez un compteur qui d\u00e9marre \u00e0 zero et s'incr\u00e9mente de 1 \u00e0 chaque passage dans la boucle principale void loop() , affichez l'\u00e9tat de ce compteur \u00e0 chaque passage gr\u00e2ce au moniteur s\u00e9rie, comme le montre l'exemple ci-dessous : 3. Affichage de l'\u00e9tat d'un bouton poussoir sur le moniteur s\u00e9rie Pour finir, nous souhaitons afficher l'\u00e9tat d'un bouton poussoir Grove sur le moniteur s\u00e9rie. Quand le bouton poussoir est relach\u00e9 vous devez afficher : Etat bouton poussoir = Relach\u00e9 , quand ce dernier est appuy\u00e9 affichez : Etat bouton poussoir = Appuy\u00e9 . L'exemple ci-dessous montre le comportement attendu :","title":"Exploitation du port s\u00e9rie"},{"location":"psti2d/arduino/ACT2-Serial/#exploitation-du-port-serie","text":"","title":"Exploitation du port s\u00e9rie"},{"location":"psti2d/arduino/ACT2-Serial/#realisation-de-lactivite","text":"Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement .","title":"R\u00e9alisation de l'activit\u00e9"},{"location":"psti2d/arduino/ACT2-Serial/#1-transmission-puis-affichage-dun-texte-sur-le-moniteur-serie","text":"Nous souhaitons utiliser le Serial (aussi appel\u00e9 UART) d'une carte Arduino MEGA pour afficher le texte suivant : STI2D SIN Rascol, Arduino du basique au complexe. Un retour \u00e0 la ligne sera effectu\u00e9 \u00e0 la fin de la phrase et le texte devra s'afficher en boucle comme le montre l'image ci-dessous :","title":"1. Transmission puis affichage d'un texte sur le moniteur s\u00e9rie"},{"location":"psti2d/arduino/ACT2-Serial/#2-incrementation-dun-compteur-et-affichage-sur-le-moniteur-serie","text":"Cr\u00e9ez un compteur qui d\u00e9marre \u00e0 zero et s'incr\u00e9mente de 1 \u00e0 chaque passage dans la boucle principale void loop() , affichez l'\u00e9tat de ce compteur \u00e0 chaque passage gr\u00e2ce au moniteur s\u00e9rie, comme le montre l'exemple ci-dessous :","title":"2. Incr\u00e9mentation d'un compteur et affichage sur le moniteur s\u00e9rie"},{"location":"psti2d/arduino/ACT2-Serial/#3-affichage-de-letat-dun-bouton-poussoir-sur-le-moniteur-serie","text":"Pour finir, nous souhaitons afficher l'\u00e9tat d'un bouton poussoir Grove sur le moniteur s\u00e9rie. Quand le bouton poussoir est relach\u00e9 vous devez afficher : Etat bouton poussoir = Relach\u00e9 , quand ce dernier est appuy\u00e9 affichez : Etat bouton poussoir = Appuy\u00e9 . L'exemple ci-dessous montre le comportement attendu :","title":"3. Affichage de l'\u00e9tat d'un bouton poussoir sur le moniteur s\u00e9rie"},{"location":"psti2d/arduino/ACT3-CAN/","text":"D\u00e9couverte du convertisseur analogique num\u00e9rique R\u00e9alisation de l'activit\u00e9 Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement . 1. Fabrication d'un voltm\u00e8tre 1.1 Affichage sur le moniteur s\u00e9rie Nous souhaitons utiliser le Serial (aussi appel\u00e9 UART) d'une carte Arduino MEGA pour afficher la tension analogique de la pin A0 au dixi\u00e8me pr\u00eat . Nous ferons varier cette tension gr\u00e2ce au module Grove : Rotary Sensor . La figure ci-dessous montre l'affichage attendu sur le moniteur s\u00e9rie : 1.2 Affichage sur un \u00e9cran lcd Nous souhaitons \u00e0 pr\u00e9sent conserver le m\u00eame fonctionnement que pr\u00e9c\u00e9demment, seulement l'affichage se fera sur un \u00e9cran lcd : Grove LCD RGB Backlight . La figure ci-dessous montre l'affichage attendu sur l'\u00e9cran LCD : 2. Affiche d'un niveau sous forme de jauge \u00e0 essence Dans cette partie tourner le Grove Rotary Sensor toujours connect\u00e9 \u00e0 l'entr\u00e9e A0 aura pour but de simuler le niveau d'essence d'un r\u00e9servoir. Nous souhaitons ensuite avoir un affichage sur 4 leds de ce niveau, la variation du niveau d'essence (soit la tension sur A0) provoquera l'allumage ou l'extinction des 4 leds. Le comportement attendu est le suivant :","title":"D\u00e9couverte du convertisseur analogique num\u00e9rique"},{"location":"psti2d/arduino/ACT3-CAN/#decouverte-du-convertisseur-analogique-numerique","text":"","title":"D\u00e9couverte du convertisseur analogique num\u00e9rique"},{"location":"psti2d/arduino/ACT3-CAN/#realisation-de-lactivite","text":"Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement .","title":"R\u00e9alisation de l'activit\u00e9"},{"location":"psti2d/arduino/ACT3-CAN/#1-fabrication-dun-voltmetre","text":"","title":"1. Fabrication d'un voltm\u00e8tre"},{"location":"psti2d/arduino/ACT3-CAN/#11-affichage-sur-le-moniteur-serie","text":"Nous souhaitons utiliser le Serial (aussi appel\u00e9 UART) d'une carte Arduino MEGA pour afficher la tension analogique de la pin A0 au dixi\u00e8me pr\u00eat . Nous ferons varier cette tension gr\u00e2ce au module Grove : Rotary Sensor . La figure ci-dessous montre l'affichage attendu sur le moniteur s\u00e9rie :","title":"1.1 Affichage sur le moniteur s\u00e9rie"},{"location":"psti2d/arduino/ACT3-CAN/#12-affichage-sur-un-ecran-lcd","text":"Nous souhaitons \u00e0 pr\u00e9sent conserver le m\u00eame fonctionnement que pr\u00e9c\u00e9demment, seulement l'affichage se fera sur un \u00e9cran lcd : Grove LCD RGB Backlight . La figure ci-dessous montre l'affichage attendu sur l'\u00e9cran LCD :","title":"1.2 Affichage sur un \u00e9cran lcd"},{"location":"psti2d/arduino/ACT3-CAN/#2-affiche-dun-niveau-sous-forme-de-jauge-a-essence","text":"Dans cette partie tourner le Grove Rotary Sensor toujours connect\u00e9 \u00e0 l'entr\u00e9e A0 aura pour but de simuler le niveau d'essence d'un r\u00e9servoir. Nous souhaitons ensuite avoir un affichage sur 4 leds de ce niveau, la variation du niveau d'essence (soit la tension sur A0) provoquera l'allumage ou l'extinction des 4 leds. Le comportement attendu est le suivant :","title":"2. Affiche d'un niveau sous forme de jauge \u00e0 essence"},{"location":"psti2d/arduino/ACT4-PWM/","text":"La fonction modulation de largeur d'impulsions ou PWM R\u00e9alisation de l'activit\u00e9 Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement . 1. Variation de luminosit\u00e9 avec potentiom\u00e8tre Nous souhaitons utiliser le PWM d'une carte Arduino UNO pour faire varier la luminosit\u00e9 d'une led connect\u00e9e \u00e0 la pin num\u00e9rique 2 , la luminosit\u00e9 se r\u00e9glera en tournant le Grove Rotary Sensor connect\u00e9 en pin A0 . Le comportement attendu est le suivant: Rotary sensor en but\u00e9e gauche = Led \u00e9teinte. Rotary sensor en but\u00e9e droite = Led allum\u00e9e au maximum. 2. Variation de luminosit\u00e9 avec LDR Nous souhaitons \u00e0 pr\u00e9sent faire un syst\u00e8me d'\u00e9clairage domotique, toujours avec une led mais en rempla\u00e7ant le Rotary Sensor par un module Grove Light Sensor connect\u00e9 en pin A0 , le comportement attendu est le suivant : Quand le capteur de luminosit\u00e9 est d\u00e9couvert (expos\u00e9 \u00e0 la lumi\u00e8re ambiante ) la led doit \u00eatre totalement \u00e9teinte . Quand le capteur de luminosit\u00e9 est occult\u00e9 la led doit \u00eatre allum\u00e9e au maximum .","title":"La fonction modulation de largeur d'impulsions ou PWM"},{"location":"psti2d/arduino/ACT4-PWM/#la-fonction-modulation-de-largeur-dimpulsions-ou-pwm","text":"","title":"La fonction modulation de largeur d'impulsions ou PWM"},{"location":"psti2d/arduino/ACT4-PWM/#realisation-de-lactivite","text":"Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement .","title":"R\u00e9alisation de l'activit\u00e9"},{"location":"psti2d/arduino/ACT4-PWM/#1-variation-de-luminosite-avec-potentiometre","text":"Nous souhaitons utiliser le PWM d'une carte Arduino UNO pour faire varier la luminosit\u00e9 d'une led connect\u00e9e \u00e0 la pin num\u00e9rique 2 , la luminosit\u00e9 se r\u00e9glera en tournant le Grove Rotary Sensor connect\u00e9 en pin A0 . Le comportement attendu est le suivant: Rotary sensor en but\u00e9e gauche = Led \u00e9teinte. Rotary sensor en but\u00e9e droite = Led allum\u00e9e au maximum.","title":"1. Variation de luminosit\u00e9 avec potentiom\u00e8tre"},{"location":"psti2d/arduino/ACT4-PWM/#2-variation-de-luminosite-avec-ldr","text":"Nous souhaitons \u00e0 pr\u00e9sent faire un syst\u00e8me d'\u00e9clairage domotique, toujours avec une led mais en rempla\u00e7ant le Rotary Sensor par un module Grove Light Sensor connect\u00e9 en pin A0 , le comportement attendu est le suivant : Quand le capteur de luminosit\u00e9 est d\u00e9couvert (expos\u00e9 \u00e0 la lumi\u00e8re ambiante ) la led doit \u00eatre totalement \u00e9teinte . Quand le capteur de luminosit\u00e9 est occult\u00e9 la led doit \u00eatre allum\u00e9e au maximum .","title":"2. Variation de luminosit\u00e9 avec LDR"},{"location":"psti2d/arduino/ACT5-Macros/","text":"Cr\u00e9ation et utilisation de macros en langage C/C++ R\u00e9alisation de l'activit\u00e9 Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement . 1. \u00c9mission d'impulsions Nous souhaitons cr\u00e9er une macro, qui lorsqu'elle est appel\u00e9e envoie le signal suivant sur la pin num\u00e9rique 2 : Le prototype de la macro \u00e0 cr\u00e9er est le suivant : void signal(int tl, int tc) . Le programme principal devra appeler la macro avec ses deux param\u00e8tres d'entr\u00e9e, nous imposons tl>tc 2. Fabrication d'une calculatrice Nous souhaitons cr\u00e9er une calculatrice dont la saisie des nombres sera effectu\u00e9e avec le clavier et la visualisation des r\u00e9sultats sur le moniteur s\u00e9rie. \"Clear Everything\" by Hurock24 is licensed under CC BY-NC-ND 2.0 2.1. Cr\u00e9ation des macros Cr\u00e9er les 4 macros suivantes, qui auront pour t\u00e2che la r\u00e9alisation des 4 calculs de base : float addition(float a, float b) float soustraction(float a, float b) float multiplication(float a, float b) float division(float a, float b) 2.1. Cr\u00e9ation du programme principal Cr\u00e9er le programme principal qui aura pour t\u00e2che : L'affichage du menu sous la forme suivante : Menu principal 1-Addition 2-Soustraction 3-Multiplication 4-Division * La demande de la saisie des nombres \u00e0 l'utilisateur, sous la forme suivante : Saisissez le premier nombre : -- Saisissez le second nombre : -- R\u00e9sultat : -- Note La saisie de nombres \u00e0 l'aide du clavier et l'acquisition par les fonctions Serial.parseFloat() ou Serial.parseInt() est complexe nous donnons un exemple ci-dessous. /*************************************************************************************************** Nom ......... : Test_serial_calculette.ino Role ........ : Envoi de flottants et d'entiers par le serial gr\u00e2ce aux fonctions parseFloat() et parseInt() Auteur ...... : J.Serrand Mail ........ : joris.serrand@rascol.net Version ..... : V0.0 du 27/03/17 Licence ..... : Copyright (C) 2016 Joris SERRAND This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ***************************************************************************************************/ //D\u00e9claration des fonctions /**************************************************************************************************/ void setup () { //Initialisation de l'UART Serial . begin ( 9600 ); } /**************************************************************************************************/ void loop () { float nombre_flottant = 0 ; //D\u00e9claration de la variable qui recevra la saisie du flottant sur le moniteur s\u00e9rie int nombre_entier = 0 ; //D\u00e9claration de la variable qui recevra la saisie de l'entier sur le moniteur s\u00e9rie Serial . println ( \"Veuillez rentrer un flottant :\" ); while ( Serial . available () <= 0 ) //On attend l'\u00e9criture sur le serial { } if ( Serial . available () > 0 ) //Attente de la r\u00e9ception d'un message { nombre_flottant = Serial . parseFloat (); Serial . println ( nombre_flottant ); } Serial . println ( \"Veuillez rentrer un entier :\" ); while ( Serial . available () <= 0 ) //On attend l'\u00e9criture sur le serial { } if ( Serial . available () > 0 ) //Attente de la r\u00e9ception d'un message { nombre_entier = Serial . parseInt (); Serial . println ( nombre_entier ); } }","title":"Cr\u00e9ation et utilisation de macros en langage C/C++"},{"location":"psti2d/arduino/ACT5-Macros/#creation-et-utilisation-de-macros-en-langage-cc","text":"","title":"Cr\u00e9ation et utilisation de macros en langage C/C++"},{"location":"psti2d/arduino/ACT5-Macros/#realisation-de-lactivite","text":"Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement .","title":"R\u00e9alisation de l'activit\u00e9"},{"location":"psti2d/arduino/ACT5-Macros/#1-emission-dimpulsions","text":"Nous souhaitons cr\u00e9er une macro, qui lorsqu'elle est appel\u00e9e envoie le signal suivant sur la pin num\u00e9rique 2 : Le prototype de la macro \u00e0 cr\u00e9er est le suivant : void signal(int tl, int tc) . Le programme principal devra appeler la macro avec ses deux param\u00e8tres d'entr\u00e9e, nous imposons tl>tc","title":"1. \u00c9mission d'impulsions"},{"location":"psti2d/arduino/ACT5-Macros/#2-fabrication-dune-calculatrice","text":"Nous souhaitons cr\u00e9er une calculatrice dont la saisie des nombres sera effectu\u00e9e avec le clavier et la visualisation des r\u00e9sultats sur le moniteur s\u00e9rie. \"Clear Everything\" by Hurock24 is licensed under CC BY-NC-ND 2.0","title":"2. Fabrication d'une calculatrice"},{"location":"psti2d/arduino/ACT5-Macros/#21-creation-des-macros","text":"Cr\u00e9er les 4 macros suivantes, qui auront pour t\u00e2che la r\u00e9alisation des 4 calculs de base : float addition(float a, float b) float soustraction(float a, float b) float multiplication(float a, float b) float division(float a, float b)","title":"2.1.  Cr\u00e9ation des macros"},{"location":"psti2d/arduino/ACT5-Macros/#21-creation-du-programme-principal","text":"Cr\u00e9er le programme principal qui aura pour t\u00e2che : L'affichage du menu sous la forme suivante : Menu principal 1-Addition 2-Soustraction 3-Multiplication 4-Division * La demande de la saisie des nombres \u00e0 l'utilisateur, sous la forme suivante : Saisissez le premier nombre : -- Saisissez le second nombre : -- R\u00e9sultat : -- Note La saisie de nombres \u00e0 l'aide du clavier et l'acquisition par les fonctions Serial.parseFloat() ou Serial.parseInt() est complexe nous donnons un exemple ci-dessous. /*************************************************************************************************** Nom ......... : Test_serial_calculette.ino Role ........ : Envoi de flottants et d'entiers par le serial gr\u00e2ce aux fonctions parseFloat() et parseInt() Auteur ...... : J.Serrand Mail ........ : joris.serrand@rascol.net Version ..... : V0.0 du 27/03/17 Licence ..... : Copyright (C) 2016 Joris SERRAND This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ***************************************************************************************************/ //D\u00e9claration des fonctions /**************************************************************************************************/ void setup () { //Initialisation de l'UART Serial . begin ( 9600 ); } /**************************************************************************************************/ void loop () { float nombre_flottant = 0 ; //D\u00e9claration de la variable qui recevra la saisie du flottant sur le moniteur s\u00e9rie int nombre_entier = 0 ; //D\u00e9claration de la variable qui recevra la saisie de l'entier sur le moniteur s\u00e9rie Serial . println ( \"Veuillez rentrer un flottant :\" ); while ( Serial . available () <= 0 ) //On attend l'\u00e9criture sur le serial { } if ( Serial . available () > 0 ) //Attente de la r\u00e9ception d'un message { nombre_flottant = Serial . parseFloat (); Serial . println ( nombre_flottant ); } Serial . println ( \"Veuillez rentrer un entier :\" ); while ( Serial . available () <= 0 ) //On attend l'\u00e9criture sur le serial { } if ( Serial . available () > 0 ) //Attente de la r\u00e9ception d'un message { nombre_entier = Serial . parseInt (); Serial . println ( nombre_entier ); } }","title":"2.1. Cr\u00e9ation du programme principal"},{"location":"psti2d/arduino/ACT6-Interrupts/","text":"Utilisation des interruptions en environnement Arduino R\u00e9alisation de l'activit\u00e9 Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement . 1. Clignotement de led Nous souhaitons cr\u00e9er un programme qui fait clignoter une led de la mani\u00e8re suivante : 500ms ON 500ms OFF L'appui sur un bouton-poussoir d\u00e9clenchera une interruption, celle-ci aura pour effet de stopper le clignotement qui reprendra seulement lors d'un nouvel appui sur celui-ci. R\u00e9alisez le programme principal et la macro d'interruption qui produisent le fonctionnement attendu. 2. Variation de fr\u00e9quence de Clignotement Nous reprenons le programme pr\u00e9c\u00e9dent, mais cette fois-ci nous d\u00e9sirons changer la fr\u00e9quence de clignotement de la led lors d'une interruption : 200ms ON 200ms OFF","title":"Utilisation des interruptions en environnement Arduino"},{"location":"psti2d/arduino/ACT6-Interrupts/#utilisation-des-interruptions-en-environnement-arduino","text":"","title":"Utilisation des interruptions en environnement Arduino"},{"location":"psti2d/arduino/ACT6-Interrupts/#realisation-de-lactivite","text":"Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement .","title":"R\u00e9alisation de l'activit\u00e9"},{"location":"psti2d/arduino/ACT6-Interrupts/#1-clignotement-de-led","text":"Nous souhaitons cr\u00e9er un programme qui fait clignoter une led de la mani\u00e8re suivante : 500ms ON 500ms OFF L'appui sur un bouton-poussoir d\u00e9clenchera une interruption, celle-ci aura pour effet de stopper le clignotement qui reprendra seulement lors d'un nouvel appui sur celui-ci. R\u00e9alisez le programme principal et la macro d'interruption qui produisent le fonctionnement attendu.","title":"1. Clignotement de led"},{"location":"psti2d/arduino/ACT6-Interrupts/#2-variation-de-frequence-de-clignotement","text":"Nous reprenons le programme pr\u00e9c\u00e9dent, mais cette fois-ci nous d\u00e9sirons changer la fr\u00e9quence de clignotement de la led lors d'une interruption : 200ms ON 200ms OFF","title":"2. Variation de fr\u00e9quence de Clignotement"},{"location":"psti2d/arduino/ACT7-Timer/","text":"Utilisation d'un timer en environnement Arduino R\u00e9alisation de l'activit\u00e9 Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement . 1. Clignotement et arr\u00eat le temps d\u00e9sir\u00e9 Dans le programme principal nous souhaitons faire clignoter une led de la mani\u00e8re suivante : 200ms ON 200ms OFF L'appui sur un bouton-poussoir d\u00e9clenchera une interruption qui d\u00e9marrera un timer, durant la temporisation le clignotement sera suspendu. Une fois la temporisation termin\u00e9e le clignotement reprendra.","title":"Utilisation d'un timer en environnement Arduino"},{"location":"psti2d/arduino/ACT7-Timer/#utilisation-dun-timer-en-environnement-arduino","text":"","title":"Utilisation d'un timer en environnement Arduino"},{"location":"psti2d/arduino/ACT7-Timer/#realisation-de-lactivite","text":"Pour cela vous devrez imp\u00e9rativement utiliser le squelette du programme Arduino donn\u00e9 ci-dessous : /************************************************************************************************** Nom ......... : Clignotement_led_13.ino Role ........ : Fait clignoter la led reli\u00e9e \u00e0 la pin 13 d'une carte Arduino MEGA Cycle : 500ms OFF; 500ms ON Auteur ...... : Votre nom Classe ...... : Votre classe Etablissement : Lyc\u00e9e Louis Rascol, Albi, FRANCE <http://louis-rascol.entmip.fr/> Mail ........ : Votre_mail@e.rascol.net Version ..... : V0.0 du xx/xx/16 Licence ..... : Copyright (C) 2016 Votre nom This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with this program. If not, see <http://www.gnu.org/licenses/> Compilation . : Avec l'IDE Arduino ****************************************************************************************************/ //Ajout de biblioth\u00e8ques //D\u00e9clarations de constantes //D\u00e9claration de variables void setup () { //Ins\u00e9rez ici vos param\u00e8tres } void loop () { //Ins\u00e9rez ici votre programme principal } Pour la suite vous pouvez t\u00e9l\u00e9charger un fichier zip squelette pr\u00e9-rempli : T\u00e9l\u00e9charger Marche \u00e0 suivre : Faire l'algorithme du programme en utilisant la notation algorithmique normalis\u00e9e. Cr\u00e9er un fichier Arduino et y copier-coller le squelette. Codez votre algorithme ne soyez pas avare en commentaires . T\u00e9l\u00e9versez sur la carte et v\u00e9rifiez le bon fonctionnement . Appelez le professeur pour valider. Important La validation de l'exercice sera uniquement effectu\u00e9e lors de la pr\u00e9sentation d'un algorithme juste et d'un code Arduino suffisamment comment\u00e9 en fonctionnement .","title":"R\u00e9alisation de l'activit\u00e9"},{"location":"psti2d/arduino/ACT7-Timer/#1-clignotement-et-arret-le-temps-desire","text":"Dans le programme principal nous souhaitons faire clignoter une led de la mani\u00e8re suivante : 200ms ON 200ms OFF L'appui sur un bouton-poussoir d\u00e9clenchera une interruption qui d\u00e9marrera un timer, durant la temporisation le clignotement sera suspendu. Une fois la temporisation termin\u00e9e le clignotement reprendra.","title":"1. Clignotement et arr\u00eat le temps d\u00e9sir\u00e9"},{"location":"tsti2d/","text":"Terminale STI2D SIN S\u00e9quences \u2714 Orientation apr\u00e8s un bac STI2D SIN Pr\u00e9sentation des diff\u00e9rentes possibilit\u00e9s de poursuites d'\u00e9tudes apr\u00e8s un bac STI2D SIN. Pr\u00e9sentation des diff\u00e9rents BTS, DUT, Licences et Ecoles d'ing\u00e9nieur de l'acad\u00e9mie de Toulouse. \u2714 Programmation en environnement GNU-Linux GNU Linux se veut \u00eatre un syst\u00e8me d'exploitation libre et gratuit qui d\u00e9fend et respecte la vie priv\u00e9e de ses utilisateurs, \u00e0 contre courant de ce que propose aujourd'hui les plus grandes multi-nationales du logiciel. Lors de cette s\u00e9quence nous aborderons les principes de base d'un syst\u00e8me GNU-Linux, son histoire, son architecture logicielle, l'utilisation de la ligne de commande, du r\u00e9seau, du web, et l'application de ces principes sur le micro-ordinateur Raspberry Pi.","title":"TSTI2D"},{"location":"tsti2d/#terminale-sti2d-sin","text":"","title":"Terminale STI2D SIN"},{"location":"tsti2d/#sequences","text":"","title":"S\u00e9quences"},{"location":"tsti2d/#orientation-apres-un-bac-sti2d-sin","text":"Pr\u00e9sentation des diff\u00e9rentes possibilit\u00e9s de poursuites d'\u00e9tudes apr\u00e8s un bac STI2D SIN. Pr\u00e9sentation des diff\u00e9rents BTS, DUT, Licences et Ecoles d'ing\u00e9nieur de l'acad\u00e9mie de Toulouse.","title":"\u2714 Orientation apr\u00e8s un bac STI2D SIN"},{"location":"tsti2d/#programmation-en-environnement-gnu-linux","text":"GNU Linux se veut \u00eatre un syst\u00e8me d'exploitation libre et gratuit qui d\u00e9fend et respecte la vie priv\u00e9e de ses utilisateurs, \u00e0 contre courant de ce que propose aujourd'hui les plus grandes multi-nationales du logiciel. Lors de cette s\u00e9quence nous aborderons les principes de base d'un syst\u00e8me GNU-Linux, son histoire, son architecture logicielle, l'utilisation de la ligne de commande, du r\u00e9seau, du web, et l'application de ces principes sur le micro-ordinateur Raspberry Pi.","title":"\u2714 Programmation en environnement GNU-Linux"},{"location":"tsti2d/linux/","text":"Programmation en environnement GNU-Linux GNU Linux se veut \u00eatre un syst\u00e8me d'exploitation libre et gratuit qui d\u00e9fend et respecte la vie priv\u00e9e de ses utilisateurs, \u00e0 contre courant de ce que propose aujourd'hui les plus grandes multi-nationales du logiciel. Lors de cette s\u00e9quence nous aborderons les principes de base d'un syst\u00e8me GNU-Linux, son histoire, son architecture logicielle, l'utilisation de la ligne de commande, du r\u00e9seau, du web, et l'application de ces principes sur le micro-ordinateur Raspberry Pi. Sommaire Cours Introduction \u00e0 GNU/Linux Le Raspberry Pi Utiliser le terminal G\u00e9rer les permissions en environnement GNU-Linux R\u00e9alisation de scripts Bash Activit\u00e9s L'ensemble des activit\u00e9s sont r\u00e9alis\u00e9es sur une carte Raspberry Pi avec la distribution Raspbian . Utiliser le terminal Linux et le r\u00e9seau G\u00e9rer les permissions \u00c9crire des scripts Bash DM de No\u00ebl","title":"Programmation en environnement GNU-Linux"},{"location":"tsti2d/linux/#programmation-en-environnement-gnu-linux","text":"GNU Linux se veut \u00eatre un syst\u00e8me d'exploitation libre et gratuit qui d\u00e9fend et respecte la vie priv\u00e9e de ses utilisateurs, \u00e0 contre courant de ce que propose aujourd'hui les plus grandes multi-nationales du logiciel. Lors de cette s\u00e9quence nous aborderons les principes de base d'un syst\u00e8me GNU-Linux, son histoire, son architecture logicielle, l'utilisation de la ligne de commande, du r\u00e9seau, du web, et l'application de ces principes sur le micro-ordinateur Raspberry Pi.","title":"Programmation en environnement GNU-Linux"},{"location":"tsti2d/linux/#sommaire","text":"","title":"Sommaire"},{"location":"tsti2d/linux/#cours","text":"Introduction \u00e0 GNU/Linux Le Raspberry Pi Utiliser le terminal G\u00e9rer les permissions en environnement GNU-Linux R\u00e9alisation de scripts Bash","title":"Cours"},{"location":"tsti2d/linux/#activites","text":"L'ensemble des activit\u00e9s sont r\u00e9alis\u00e9es sur une carte Raspberry Pi avec la distribution Raspbian . Utiliser le terminal Linux et le r\u00e9seau G\u00e9rer les permissions \u00c9crire des scripts Bash DM de No\u00ebl","title":"Activit\u00e9s"},{"location":"tsti2d/linux/01-Intro/","text":"Introduction \u00e0 GNU Linux Tux l\u2019embl\u00e8me de Linux d\u00e9ssin\u00e9 par Larry Ewing en 1996 1- C'est quoi Linux ? GNU Linux est sp\u00e9cial de part sa diff\u00e9rence avec les syst\u00e8mes d\u2019exploitation dits classiques tels que Mac OSX ou Microsoft Windows. Une des principales diff\u00e9rences r\u00e9side dans le c\u00f4t\u00e9 Open-Source et gratuit de cet OS. En effet Linux nous permet de modifier enti\u00e8rement la composition du syst\u00e8me, pour pouvoir le fa\u00e7onner \u00e0 notre guise le code source, c'est \u00e0 dire la recette de fabrication est rendu disponible \u00e0 l\u2019utilisateur, l\u2019utilisation d\u2019un tel syst\u00e8me rend alors plus souple la programmation et l\u2019exp\u00e9rimentation. A savoir Linux est connu pour sa grande portabilit\u00e9, on peut le retrouver dans des t\u00e9l\u00e9phones portables, des machines \u00e0 laver le linge, des serveurs informatiques, des supercalculateurs, des voitures ou encore des t\u00e9l\u00e9visions. Quelques exemples de syst\u00e8mes utilisant Linux : Les serveurs web : le site Wikipedia est h\u00e9berg\u00e9 sur un serveur LAMP (Linux Apache MySQL PHP) L'OS Android pour les smartphones Les boxs internet de Orange, Free, ou SFR Les GPS Tomtom 2- De GNU \u00e0 Linux \"Richard Stallman\" by Leonid Dmitriev (leozub) is licensed under CC BY 3.0 Tout commence avec UNIX dont les origines remontent en 1969, c\u2019est un syst\u00e8me qui fonctionne sans interface graphique, en ligne de code, concurrent direct \u00e0 l\u2019\u00e9poque du syst\u00e8me MS-DOS de Microsoft (sorti en 1984). En 1984 Richard Stallman , chercheur en intelligence artificielle au MIT, cr\u00e9a le projet GNU, soit plus ou moins un syst\u00e8me d\u2019exploitation fonctionnant comme UNIX, la seule diff\u00e9rence \u00e9tant qu\u2019UNIX \u00e9tait propri\u00e9taire et payant et GNU lui sera libre et gratuit. \"Linus Torvalds\" by Krd is licensed under CC BY-SA 4.0 Une autre personne va intervenir dans la cr\u00e9ation de ce nouveau syst\u00e8me, c\u2019est Le Finlandais Linus Torvalds , \u00e9tudiant \u00e0 l\u2019universit\u00e9 de Helsinki, qui entreprend de cr\u00e9er son propre syst\u00e8me d\u2019exploitation, qui a pris son nom (Linus + Unix).Les deux hommes se sont par la suite associ\u00e9s pour cr\u00e9er le syst\u00e8me GNU Linux, Richard Stallman cr\u00e9ant les programmes de base (programme de copie de fichier, de suppression de fichier, \u00e9diteur de texte), Linus Torvalds se lan\u00e7ant dans la cr\u00e9ation du \u00ab c\u0153ur \u00bb du syst\u00e8me d'exploitation : le noyau. Le projet GNU (programmes libres) et Linux (noyau d'OS) ont fusionn\u00e9 pour cr\u00e9er GNU/Linux. 3- Les distributions de Linux Une distribution est en quelque sorte l\u2019emballage de Linux, le coeur du syst\u00e8me GNU Linux, restant le m\u00eame pour toutes. Linux est un syst\u00e8me d\u2019exploitation tr\u00e8s complet, avec de nombreux logiciels disponibles, les distributions ont \u00e9t\u00e9 cr\u00e9\u00e9es pour permette \u00e0 l\u2019utilisateur d\u2019avoir un syst\u00e8me correspondant \u00e0 l\u2019utilisation qu\u2019il fait de sa machine. Toutes les distributions sont compatibles les unes avec les autres, la seule diff\u00e9rence \u00e9tant la prise en main. Parmi les choses variant d\u2019une distribution \u00e0 une autre, on peut citer : L'installation : elle peut \u00eatre tr\u00e8s simplifi\u00e9e comme tr\u00e8s compliqu\u00e9e. La gestion de l'installation des programmes : Si elle est bien faite et centralis\u00e9e, elle peut rendre l'installation de nouveaux logiciels plus simple que sous Windows. Les programmes pr\u00e9-install\u00e9s sur l\u2019ordinateur. Il existe plusieurs centaines de distributions Linux, certaines \u00e9tant des forks (copies adapt\u00e9es) de distributions principales, le site internet DistroWatch.com , les recense pratiquement de mani\u00e8re exhaustive. Nous pouvons trouver sur wikip\u00e9dia une timeline sous forme d'arbre g\u00e9n\u00e9alogique des distributions, r\u00e9guli\u00e8rement mis \u00e0 jour : Le lien de l'image pour la visualiser en grand Nous donnons ci-dessous le descriptif des principales distributions trouv\u00e9es en d\u00e9buts de branches de la timeline pr\u00e9c\u00e9dente : Distributions Ann\u00e9e de cr\u00e9ation Description 1993 C\u2019est une des seules distributions qui soit g\u00e9r\u00e9e par des d\u00e9veloppeurs ind\u00e9pendants plut\u00f4t que par une entreprise. C'est une des distributions les plus populaires. La distribution qui \u00e9quipe le Raspberry Pi, \u00e0 savoir Raspbian est une sous-distribution de Debian. La distribution Ubuntu que nous utiliserons pour les s\u00e9ances de TP l\u2019est de m\u00eame. 1995 Edit\u00e9e par une entreprise am\u00e9ricaine, cette distribution propri\u00e9taire est c\u00e9l\u00e8bre et tr\u00e8s r\u00e9pandue, notamment sur les serveurs. Fedora est une sous distribution de Red Hat, tr\u00e8s utilis\u00e9e dans le milieu universitaire. 1992 Une distribution c\u00e9l\u00e8bre Allemande, soutenue par l\u2019entreprise Novell. 1993 Une des plus anciennes distributions de Linux, qui existe encore aujourd\u2019hui.","title":"Introduction \u00e0 GNU Linux"},{"location":"tsti2d/linux/01-Intro/#introduction-a-gnu-linux","text":"Tux l\u2019embl\u00e8me de Linux d\u00e9ssin\u00e9 par Larry Ewing en 1996","title":"Introduction \u00e0 GNU Linux"},{"location":"tsti2d/linux/01-Intro/#1-cest-quoi-linux","text":"GNU Linux est sp\u00e9cial de part sa diff\u00e9rence avec les syst\u00e8mes d\u2019exploitation dits classiques tels que Mac OSX ou Microsoft Windows. Une des principales diff\u00e9rences r\u00e9side dans le c\u00f4t\u00e9 Open-Source et gratuit de cet OS. En effet Linux nous permet de modifier enti\u00e8rement la composition du syst\u00e8me, pour pouvoir le fa\u00e7onner \u00e0 notre guise le code source, c'est \u00e0 dire la recette de fabrication est rendu disponible \u00e0 l\u2019utilisateur, l\u2019utilisation d\u2019un tel syst\u00e8me rend alors plus souple la programmation et l\u2019exp\u00e9rimentation. A savoir Linux est connu pour sa grande portabilit\u00e9, on peut le retrouver dans des t\u00e9l\u00e9phones portables, des machines \u00e0 laver le linge, des serveurs informatiques, des supercalculateurs, des voitures ou encore des t\u00e9l\u00e9visions. Quelques exemples de syst\u00e8mes utilisant Linux : Les serveurs web : le site Wikipedia est h\u00e9berg\u00e9 sur un serveur LAMP (Linux Apache MySQL PHP) L'OS Android pour les smartphones Les boxs internet de Orange, Free, ou SFR Les GPS Tomtom","title":"1- C'est quoi Linux ?"},{"location":"tsti2d/linux/01-Intro/#2-de-gnu-a-linux","text":"\"Richard Stallman\" by Leonid Dmitriev (leozub) is licensed under CC BY 3.0 Tout commence avec UNIX dont les origines remontent en 1969, c\u2019est un syst\u00e8me qui fonctionne sans interface graphique, en ligne de code, concurrent direct \u00e0 l\u2019\u00e9poque du syst\u00e8me MS-DOS de Microsoft (sorti en 1984). En 1984 Richard Stallman , chercheur en intelligence artificielle au MIT, cr\u00e9a le projet GNU, soit plus ou moins un syst\u00e8me d\u2019exploitation fonctionnant comme UNIX, la seule diff\u00e9rence \u00e9tant qu\u2019UNIX \u00e9tait propri\u00e9taire et payant et GNU lui sera libre et gratuit. \"Linus Torvalds\" by Krd is licensed under CC BY-SA 4.0 Une autre personne va intervenir dans la cr\u00e9ation de ce nouveau syst\u00e8me, c\u2019est Le Finlandais Linus Torvalds , \u00e9tudiant \u00e0 l\u2019universit\u00e9 de Helsinki, qui entreprend de cr\u00e9er son propre syst\u00e8me d\u2019exploitation, qui a pris son nom (Linus + Unix).Les deux hommes se sont par la suite associ\u00e9s pour cr\u00e9er le syst\u00e8me GNU Linux, Richard Stallman cr\u00e9ant les programmes de base (programme de copie de fichier, de suppression de fichier, \u00e9diteur de texte), Linus Torvalds se lan\u00e7ant dans la cr\u00e9ation du \u00ab c\u0153ur \u00bb du syst\u00e8me d'exploitation : le noyau. Le projet GNU (programmes libres) et Linux (noyau d'OS) ont fusionn\u00e9 pour cr\u00e9er GNU/Linux.","title":"2- De GNU \u00e0 Linux"},{"location":"tsti2d/linux/01-Intro/#3-les-distributions-de-linux","text":"Une distribution est en quelque sorte l\u2019emballage de Linux, le coeur du syst\u00e8me GNU Linux, restant le m\u00eame pour toutes. Linux est un syst\u00e8me d\u2019exploitation tr\u00e8s complet, avec de nombreux logiciels disponibles, les distributions ont \u00e9t\u00e9 cr\u00e9\u00e9es pour permette \u00e0 l\u2019utilisateur d\u2019avoir un syst\u00e8me correspondant \u00e0 l\u2019utilisation qu\u2019il fait de sa machine. Toutes les distributions sont compatibles les unes avec les autres, la seule diff\u00e9rence \u00e9tant la prise en main. Parmi les choses variant d\u2019une distribution \u00e0 une autre, on peut citer : L'installation : elle peut \u00eatre tr\u00e8s simplifi\u00e9e comme tr\u00e8s compliqu\u00e9e. La gestion de l'installation des programmes : Si elle est bien faite et centralis\u00e9e, elle peut rendre l'installation de nouveaux logiciels plus simple que sous Windows. Les programmes pr\u00e9-install\u00e9s sur l\u2019ordinateur. Il existe plusieurs centaines de distributions Linux, certaines \u00e9tant des forks (copies adapt\u00e9es) de distributions principales, le site internet DistroWatch.com , les recense pratiquement de mani\u00e8re exhaustive. Nous pouvons trouver sur wikip\u00e9dia une timeline sous forme d'arbre g\u00e9n\u00e9alogique des distributions, r\u00e9guli\u00e8rement mis \u00e0 jour : Le lien de l'image pour la visualiser en grand Nous donnons ci-dessous le descriptif des principales distributions trouv\u00e9es en d\u00e9buts de branches de la timeline pr\u00e9c\u00e9dente : Distributions Ann\u00e9e de cr\u00e9ation Description 1993 C\u2019est une des seules distributions qui soit g\u00e9r\u00e9e par des d\u00e9veloppeurs ind\u00e9pendants plut\u00f4t que par une entreprise. C'est une des distributions les plus populaires. La distribution qui \u00e9quipe le Raspberry Pi, \u00e0 savoir Raspbian est une sous-distribution de Debian. La distribution Ubuntu que nous utiliserons pour les s\u00e9ances de TP l\u2019est de m\u00eame. 1995 Edit\u00e9e par une entreprise am\u00e9ricaine, cette distribution propri\u00e9taire est c\u00e9l\u00e8bre et tr\u00e8s r\u00e9pandue, notamment sur les serveurs. Fedora est une sous distribution de Red Hat, tr\u00e8s utilis\u00e9e dans le milieu universitaire. 1992 Une distribution c\u00e9l\u00e8bre Allemande, soutenue par l\u2019entreprise Novell. 1993 Une des plus anciennes distributions de Linux, qui existe encore aujourd\u2019hui.","title":"3- Les distributions de Linux"},{"location":"tsti2d/linux/02-Raspberry_pi/","text":"Le Raspberry Pi 1. Introduction Le Raspberry Pi est un micro-ordinateur \u00e0 faible co\u00fbt (environ 40\u20ac), fonction-nant sous Linux, et pas plus grand qu\u2019une carte de cr\u00e9dit. Il est entre autre capable d\u2019afficher des vid\u00e9os en HD (1080p), de servir de poste de bureau-tique/internet, de console de jeu et surtout d\u2019outil d\u2019initiation \u00e0 l\u2019informatique. Gr\u00e2ce \u00e0 ses ports d\u2019entr\u00e9es/sorties mat\u00e9riels, il peut recevoir des informations de capteurs externes, piloter des actionneurs, transmettre des signaux... Ses champs d\u2019applications sont infinis. 1 2. Historique du Raspberry Pi 2.1 Gen\u00e8se de l'id\u00e9e Eben Upton, l'un des inventeurs du Raspberry Pi Voici un extrait traduit en Fran\u00e7ais de l\u2019explication donn\u00e9e sur le site officiel de la fondation Raspberry Pi quant \u00e0 la gen\u00e8se de cette id\u00e9e : \u00ab L'id\u00e9e d'un ordinateur petit et bon march\u00e9 pour l'\u00e9ducation est venue en 2006, alors qu'Eben Upton et ses coll\u00e8gues du laboratoire d'informatique de l'universit\u00e9 de Cambridge, parmi lesquels Rob Mullins, Jack Lang et Alan Mycroft, se pr\u00e9occup\u00e8rent de la baisse r\u00e9guli\u00e8re, ann\u00e9e apr\u00e8s ann\u00e9e, du nombre et du niveau de comp\u00e9tence des candidats souhaitant suivre des \u00e9tudes d'informatique. De la situation des ann\u00e9es 1990 o\u00f9 les candidats qui se pr\u00e9sentaient \u00e9taient des programmeurs amateurs, le paysage des ann\u00e9es 2000 diff\u00e8re grandement : un candidat typique pourra n'avoir fait qu'un peu de design web. \u00bb 2 Le constat en 2006 \u00e9tait le suivant : Une baisse de niveau en informatique des candidats \u00e0 l\u2019universit\u00e9 Une formation scolaire inadapt\u00e9e \u00e0 la programmation Des syst\u00e8mes d\u2019exploitation classiques inadapt\u00e9s \u00e0 l\u2019exp\u00e9rimentation Des ordinateurs chers pour faire de la programmation exp\u00e9rimentale La solution retenue fut alors de cr\u00e9er un micro ordinateur open source et abordable : Le Raspberry Pi 2.2 Chronologie rapide Date \u00c9v\u00e9nement Caract\u00e9ristiques Ao\u00fbt 2011 Impression des 1eres cartes Alpha F\u00e9vrier 2012 Cr\u00e9ation de la distribution Raspbian Avril - Juin 2012 Sortie du Raspberry pi 1 mod\u00e8le B ARM 32bits 700Mhz - 256Mo Septembre 2012 D\u00e9but de la fabrication en Angleterre F\u00e9vrier 2013 Le mod\u00e8le A est disponible ARM 32bits 700Mhz - 256Mo Mai 2013 Cr\u00e9ation d'un shield cam\u00e9ra 5MP - 1080p Juillet 2014 Sortie du mod\u00e8le B+ ARM 32bits 700Mhz - 512Mo Mai 2013 Sortie du mod\u00e8le 2B ARM 32bits 900Mhz QuadCore - 1Go F\u00e9vrier 2016 Sortie du mod\u00e8le 3B ARM 64bits 1.2Ghz QuadCore - 1Go F\u00e9vrier 2016 Sortie du mod\u00e8le 0 ARM 32bits 1Ghz - 512Mo F\u00e9vrier 2017 Sortie du mod\u00e8le 0W ARM 32bits 1Ghz - 512Mo Mars 2018 Sortie du mod\u00e8le 3B+ ARM 64bits 1.4Ghz QuadCore - 1Go Novembre 2018 Sortie du mod\u00e8le 3A+ ARM 64bits 1.4Ghz QuadCore - 512Mo Photo de famille, l'originale est \u00e0 consulter sur le site raspi.tv 3. Composition du Raspberry Pi Le Raspberry pi 3B est l'avant dernier mod\u00e8le \u00e0 se jour, et c\u2019est celui-ci que nous allons utiliser en classe. 3.1 Le SOC Le SOC (System On a Chip) est une puce n\u2019int\u00e9grant pas seulement un microprocesseur mais aussi d\u2019autres p\u00e9riph\u00e9riques n\u00e9cessaires au fonctionnement d\u2019un ordinateur, tout cela dans un seul bo\u00eetier : Un microprocesseur Un processeur graphique (GPU) De la RAM Tous les circuits annexes mis en oeuvre dans un syst\u00e8me informatique. 3.2 Les entr\u00e9es sorties Le Raspberry Pi dispose de plusieurs connecteurs sur son bo\u00eetier, pour le mod\u00e8le 3B nous avons : Quatre connecteurs USB 2.0 Une connecteur d\u2019alimentation type micro-USB Un port HDMI Un port Ethernet 100 Mbit/s Une entr\u00e9e/sortie audio Un connecteur bus CSI (pour la connexion de la cam\u00e9ra) Un connecteur bus DSI (pour la connexion d\u2019un \u00e9cran) Un GPIO 3.3 Le GPIO Le GPIO pour General Purpose Input/Output est un interface Entr\u00e9e/Sortie num\u00e9rique enti\u00e8rement programmable. Le Raspberry Pi ne disposant malheureusement pas de CAN ou CNA il faut interfacer une autre carte (Arduino) ou un circuit pour traiter des donn\u00e9es analogiques. Ci-dessous la figure montre le brochage du GPIO pour un Raspberry Pi 3B : Raspberry PI GPIO from pinout.xyz Warning Le Raspberry Pi et ce pour n\u2019importe quel mod\u00e8le, ne supporte pas une tension d\u2019entr\u00e9e sup\u00e9rieure \u00e0 3.3V sur son GPIO , les niveaux logiques sont donc : \u00ab 1 \u00bb = 3.3V \u00ab 0 \u00bb = 0V 4. Utilisation du Raspberry Pi 4.1 OS utilisables sur le raspberry Pi Le Raspberry Pi \u00e0 l'origine ne fonctionnait que sur un syst\u00e8me d\u2019exploitation GNU Linux, appel\u00e9 Raspbian, gr\u00e2ce au succ\u00e8s et \u00e0 l'am\u00e9lioration de la carte d'autres fabricants ont adapt\u00e9 leurs syst\u00e8mes pour qu'il puisse fonctionner sur la framboise : Raspbian : Distribution linux d'origine, bas\u00e9e sur Debian et activement maintenue par la Raspberry Foundation. LibreELEC : Distribution linux sp\u00e9cifique \u00e0 la gestion de contenu multim\u00e9dia (Home-Cin\u00e9ma), utilise le syst\u00e8me Kodi Ubuntu Core : C\u00e9l\u00e8bre distribution Linux, ici adapt\u00e9e pour l'IoT. Windows 10 IoT Core : Le leader mondial a lui succomb\u00e9 \u00e0 la framboise et propose son dernier une version de son dernier OS adapt\u00e9 \u00e0 l'IoT. 4.2 Installation de Raspbian Pour toutes les activit\u00e9s au lyc\u00e9e Rascol nous utiliserons l'os Raspbian, le t\u00e9l\u00e9chargement de la derni\u00e8re version se fera sur le site raspberrypi.org Suivant l'utilisation d\u00e9sir\u00e9e nous choisirons la version lite ou desktop , bien souvent la version lite qui ne comporte pas d'interface graphique ou \"gui\" est suffisante. En effet, le Raspberry Pi partage son processeur et sa m\u00e9moire pour la partie graphique, en d\u00e9sactivant le gui nous gagnons donc en rapidit\u00e9. T\u00e9l\u00e9chargez le .zip d\u00e9sir\u00e9e et ne le d\u00e9compressez pas. T\u00e9l\u00e9chargez le logiciel Etcher qui permet de graver de mani\u00e8re fiable des images .iso sur des supports externes (SD,USB) Ins\u00e9rez une carte micro SD de minimum 8Go, une vitesse de 10 est conseill\u00e9e. Le formatage pr\u00e9alable n'est pas n\u00e9cessaire Etcher s'occupe de tout ! Dans Etcher choisissez votre fichier .zip et votre carte SD et appuyez sur Flash! 4.3 Premier d\u00e9marrage \u26a0\ufe0f La mise sous tension du Raspberry Pi se fait en dernier \u26a0\ufe0f, il faut au pr\u00e9alable connecter tous les p\u00e9riph\u00e9riques : clavier, souris, \u00e9cran, cordon r\u00e9seau, ins\u00e9rer la carte SD et en dernier l'alimentation. Le Raspberry Pi n'ayant pas de bouton ON/OFF c'est la connexion du c\u00e2ble d'alimentation qui le fera automatique d\u00e9marrer. De la m\u00eame mani\u00e8re l'arr\u00eat se fera en cliquant sur Menu > Shutdown avec le gui ou en tapant la commande sudo poweroff en mode console. Warning Surtout ne jamais retirer la carte SD du Raspberry Pi en cours d'ex\u00e9cution, sous peine de l'endommager d\u00e9finitivement Une fois la framboise d\u00e9marr\u00e9e un nom d'utilisateur et un mot de passe vous seront peut-\u00eatre demand\u00e9s : login : pi pwd : raspberry Info Quand vous tapez un mot de passe dans une console Linux rien ne s'affiche \u00e0 l'\u00e9cran. C'est normal ! C'est une s\u00e9curit\u00e9 suppl\u00e9mentaire, le mot de passe que vous tapez sera bien pris en compte. 4.4 Modification de la disposition clavier Lors du premier d\u00e9marrage avec la distribution Raspbian light, la disposition du clavier est par d\u00e9faut en Anglais (qwerty), nous donnons ci-dessous les \u00e9tapes pour la changer : Apr\u00e8s vous \u00eatres logg\u00e9 login : pi passwd : raspberry , ouvrez le menu de configuration avec sudo raspi-config Allez dans 4 Localisation Options \u2192 Change Keyboard Layout \u2192 Generic 105-key \u2192 French D'apr\u00e8s Raspberry Pi de Christian Tavernier, 2013 \u21a9 Texte de la Raspberry Pi foundation, original en Anglais \u21a9","title":"Le Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#le-raspberry-pi","text":"","title":"Le Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#1-introduction","text":"Le Raspberry Pi est un micro-ordinateur \u00e0 faible co\u00fbt (environ 40\u20ac), fonction-nant sous Linux, et pas plus grand qu\u2019une carte de cr\u00e9dit. Il est entre autre capable d\u2019afficher des vid\u00e9os en HD (1080p), de servir de poste de bureau-tique/internet, de console de jeu et surtout d\u2019outil d\u2019initiation \u00e0 l\u2019informatique. Gr\u00e2ce \u00e0 ses ports d\u2019entr\u00e9es/sorties mat\u00e9riels, il peut recevoir des informations de capteurs externes, piloter des actionneurs, transmettre des signaux... Ses champs d\u2019applications sont infinis. 1","title":"1. Introduction"},{"location":"tsti2d/linux/02-Raspberry_pi/#2-historique-du-raspberry-pi","text":"","title":"2. Historique du Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#21-genese-de-lidee","text":"Eben Upton, l'un des inventeurs du Raspberry Pi Voici un extrait traduit en Fran\u00e7ais de l\u2019explication donn\u00e9e sur le site officiel de la fondation Raspberry Pi quant \u00e0 la gen\u00e8se de cette id\u00e9e : \u00ab L'id\u00e9e d'un ordinateur petit et bon march\u00e9 pour l'\u00e9ducation est venue en 2006, alors qu'Eben Upton et ses coll\u00e8gues du laboratoire d'informatique de l'universit\u00e9 de Cambridge, parmi lesquels Rob Mullins, Jack Lang et Alan Mycroft, se pr\u00e9occup\u00e8rent de la baisse r\u00e9guli\u00e8re, ann\u00e9e apr\u00e8s ann\u00e9e, du nombre et du niveau de comp\u00e9tence des candidats souhaitant suivre des \u00e9tudes d'informatique. De la situation des ann\u00e9es 1990 o\u00f9 les candidats qui se pr\u00e9sentaient \u00e9taient des programmeurs amateurs, le paysage des ann\u00e9es 2000 diff\u00e8re grandement : un candidat typique pourra n'avoir fait qu'un peu de design web. \u00bb 2 Le constat en 2006 \u00e9tait le suivant : Une baisse de niveau en informatique des candidats \u00e0 l\u2019universit\u00e9 Une formation scolaire inadapt\u00e9e \u00e0 la programmation Des syst\u00e8mes d\u2019exploitation classiques inadapt\u00e9s \u00e0 l\u2019exp\u00e9rimentation Des ordinateurs chers pour faire de la programmation exp\u00e9rimentale La solution retenue fut alors de cr\u00e9er un micro ordinateur open source et abordable : Le Raspberry Pi","title":"2.1 Gen\u00e8se de l'id\u00e9e"},{"location":"tsti2d/linux/02-Raspberry_pi/#22-chronologie-rapide","text":"Date \u00c9v\u00e9nement Caract\u00e9ristiques Ao\u00fbt 2011 Impression des 1eres cartes Alpha F\u00e9vrier 2012 Cr\u00e9ation de la distribution Raspbian Avril - Juin 2012 Sortie du Raspberry pi 1 mod\u00e8le B ARM 32bits 700Mhz - 256Mo Septembre 2012 D\u00e9but de la fabrication en Angleterre F\u00e9vrier 2013 Le mod\u00e8le A est disponible ARM 32bits 700Mhz - 256Mo Mai 2013 Cr\u00e9ation d'un shield cam\u00e9ra 5MP - 1080p Juillet 2014 Sortie du mod\u00e8le B+ ARM 32bits 700Mhz - 512Mo Mai 2013 Sortie du mod\u00e8le 2B ARM 32bits 900Mhz QuadCore - 1Go F\u00e9vrier 2016 Sortie du mod\u00e8le 3B ARM 64bits 1.2Ghz QuadCore - 1Go F\u00e9vrier 2016 Sortie du mod\u00e8le 0 ARM 32bits 1Ghz - 512Mo F\u00e9vrier 2017 Sortie du mod\u00e8le 0W ARM 32bits 1Ghz - 512Mo Mars 2018 Sortie du mod\u00e8le 3B+ ARM 64bits 1.4Ghz QuadCore - 1Go Novembre 2018 Sortie du mod\u00e8le 3A+ ARM 64bits 1.4Ghz QuadCore - 512Mo Photo de famille, l'originale est \u00e0 consulter sur le site raspi.tv","title":"2.2 Chronologie rapide"},{"location":"tsti2d/linux/02-Raspberry_pi/#3-composition-du-raspberry-pi","text":"Le Raspberry pi 3B est l'avant dernier mod\u00e8le \u00e0 se jour, et c\u2019est celui-ci que nous allons utiliser en classe.","title":"3. Composition du Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#31-le-soc","text":"Le SOC (System On a Chip) est une puce n\u2019int\u00e9grant pas seulement un microprocesseur mais aussi d\u2019autres p\u00e9riph\u00e9riques n\u00e9cessaires au fonctionnement d\u2019un ordinateur, tout cela dans un seul bo\u00eetier : Un microprocesseur Un processeur graphique (GPU) De la RAM Tous les circuits annexes mis en oeuvre dans un syst\u00e8me informatique.","title":"3.1 Le SOC"},{"location":"tsti2d/linux/02-Raspberry_pi/#32-les-entrees-sorties","text":"Le Raspberry Pi dispose de plusieurs connecteurs sur son bo\u00eetier, pour le mod\u00e8le 3B nous avons : Quatre connecteurs USB 2.0 Une connecteur d\u2019alimentation type micro-USB Un port HDMI Un port Ethernet 100 Mbit/s Une entr\u00e9e/sortie audio Un connecteur bus CSI (pour la connexion de la cam\u00e9ra) Un connecteur bus DSI (pour la connexion d\u2019un \u00e9cran) Un GPIO","title":"3.2 Les entr\u00e9es sorties"},{"location":"tsti2d/linux/02-Raspberry_pi/#33-le-gpio","text":"Le GPIO pour General Purpose Input/Output est un interface Entr\u00e9e/Sortie num\u00e9rique enti\u00e8rement programmable. Le Raspberry Pi ne disposant malheureusement pas de CAN ou CNA il faut interfacer une autre carte (Arduino) ou un circuit pour traiter des donn\u00e9es analogiques. Ci-dessous la figure montre le brochage du GPIO pour un Raspberry Pi 3B : Raspberry PI GPIO from pinout.xyz Warning Le Raspberry Pi et ce pour n\u2019importe quel mod\u00e8le, ne supporte pas une tension d\u2019entr\u00e9e sup\u00e9rieure \u00e0 3.3V sur son GPIO , les niveaux logiques sont donc : \u00ab 1 \u00bb = 3.3V \u00ab 0 \u00bb = 0V","title":"3.3 Le GPIO"},{"location":"tsti2d/linux/02-Raspberry_pi/#4-utilisation-du-raspberry-pi","text":"","title":"4. Utilisation du Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#41-os-utilisables-sur-le-raspberry-pi","text":"Le Raspberry Pi \u00e0 l'origine ne fonctionnait que sur un syst\u00e8me d\u2019exploitation GNU Linux, appel\u00e9 Raspbian, gr\u00e2ce au succ\u00e8s et \u00e0 l'am\u00e9lioration de la carte d'autres fabricants ont adapt\u00e9 leurs syst\u00e8mes pour qu'il puisse fonctionner sur la framboise : Raspbian : Distribution linux d'origine, bas\u00e9e sur Debian et activement maintenue par la Raspberry Foundation. LibreELEC : Distribution linux sp\u00e9cifique \u00e0 la gestion de contenu multim\u00e9dia (Home-Cin\u00e9ma), utilise le syst\u00e8me Kodi Ubuntu Core : C\u00e9l\u00e8bre distribution Linux, ici adapt\u00e9e pour l'IoT. Windows 10 IoT Core : Le leader mondial a lui succomb\u00e9 \u00e0 la framboise et propose son dernier une version de son dernier OS adapt\u00e9 \u00e0 l'IoT.","title":"4.1 OS utilisables sur le raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#42-installation-de-raspbian","text":"Pour toutes les activit\u00e9s au lyc\u00e9e Rascol nous utiliserons l'os Raspbian, le t\u00e9l\u00e9chargement de la derni\u00e8re version se fera sur le site raspberrypi.org Suivant l'utilisation d\u00e9sir\u00e9e nous choisirons la version lite ou desktop , bien souvent la version lite qui ne comporte pas d'interface graphique ou \"gui\" est suffisante. En effet, le Raspberry Pi partage son processeur et sa m\u00e9moire pour la partie graphique, en d\u00e9sactivant le gui nous gagnons donc en rapidit\u00e9. T\u00e9l\u00e9chargez le .zip d\u00e9sir\u00e9e et ne le d\u00e9compressez pas. T\u00e9l\u00e9chargez le logiciel Etcher qui permet de graver de mani\u00e8re fiable des images .iso sur des supports externes (SD,USB) Ins\u00e9rez une carte micro SD de minimum 8Go, une vitesse de 10 est conseill\u00e9e. Le formatage pr\u00e9alable n'est pas n\u00e9cessaire Etcher s'occupe de tout ! Dans Etcher choisissez votre fichier .zip et votre carte SD et appuyez sur Flash!","title":"4.2 Installation de Raspbian"},{"location":"tsti2d/linux/02-Raspberry_pi/#43-premier-demarrage","text":"\u26a0\ufe0f La mise sous tension du Raspberry Pi se fait en dernier \u26a0\ufe0f, il faut au pr\u00e9alable connecter tous les p\u00e9riph\u00e9riques : clavier, souris, \u00e9cran, cordon r\u00e9seau, ins\u00e9rer la carte SD et en dernier l'alimentation. Le Raspberry Pi n'ayant pas de bouton ON/OFF c'est la connexion du c\u00e2ble d'alimentation qui le fera automatique d\u00e9marrer. De la m\u00eame mani\u00e8re l'arr\u00eat se fera en cliquant sur Menu > Shutdown avec le gui ou en tapant la commande sudo poweroff en mode console. Warning Surtout ne jamais retirer la carte SD du Raspberry Pi en cours d'ex\u00e9cution, sous peine de l'endommager d\u00e9finitivement Une fois la framboise d\u00e9marr\u00e9e un nom d'utilisateur et un mot de passe vous seront peut-\u00eatre demand\u00e9s : login : pi pwd : raspberry Info Quand vous tapez un mot de passe dans une console Linux rien ne s'affiche \u00e0 l'\u00e9cran. C'est normal ! C'est une s\u00e9curit\u00e9 suppl\u00e9mentaire, le mot de passe que vous tapez sera bien pris en compte.","title":"4.3 Premier d\u00e9marrage"},{"location":"tsti2d/linux/02-Raspberry_pi/#44-modification-de-la-disposition-clavier","text":"Lors du premier d\u00e9marrage avec la distribution Raspbian light, la disposition du clavier est par d\u00e9faut en Anglais (qwerty), nous donnons ci-dessous les \u00e9tapes pour la changer : Apr\u00e8s vous \u00eatres logg\u00e9 login : pi passwd : raspberry , ouvrez le menu de configuration avec sudo raspi-config Allez dans 4 Localisation Options \u2192 Change Keyboard Layout \u2192 Generic 105-key \u2192 French D'apr\u00e8s Raspberry Pi de Christian Tavernier, 2013 \u21a9 Texte de la Raspberry Pi foundation, original en Anglais \u21a9","title":"4.4 Modification de la disposition clavier"},{"location":"tsti2d/linux/03-Commandes_bash/","text":"Utiliser le terminal 1 - Le syst\u00e8me de fichiers UNIX L'agencement d'un syst\u00e8me GNU/Linux n'est pas du tout le m\u00eame que celui que l'on a sur Windows, nous ne trouverons pas par exemple la racine du syst\u00e8me \u00e0 l'emplacement C:\\\\ . Le tableau ci-dessous donne les principaux dossiers de l'arborescence suivis de leur utilisation : Dossier Utilisation / Racine du syst\u00e8me \u00e9quivalent du C:\\\\ chez Windows /bin Applications fournies par le syst\u00e8me tels que ls , cd , pwd /dev Fichiers assurant la liaison avec les p\u00e9riph\u00e9riques (disques, cl\u00e9s usb...) /etc Fichiers de param\u00e9trage du syst\u00e8me /home R\u00e9pertoire personnel /proc Informations sur les processus et le noyau Linux /root R\u00e9pertoire du super-utilisateur /tmp Fichiers temporaires /sbin Fichiers binaires du syst\u00e8me /usr Fichiers binaires et commandes utilisateur /lib Biblioth\u00e8que syst\u00e8me partag\u00e9e /media Point de montage des p\u00e9riph\u00e9riques de stockage connect\u00e9s au syst\u00e8me /mnt Point de montage temporaire des partitions et p\u00e9riph\u00e9riques /var Syst\u00e8mes de fichiers variables, comme le contenu web (dossier www), mais aussi les logs /boot Fichiers de d\u00e9marage du syst\u00e8me 2 - D\u00e9couverte du prompt Le prompt est l'invite de commande qui attend calmement que vous lui demandiez d'effectuer quelque chose en tapant votre commande puis en validant avec la touche entr\u00e9e. Ci-dessous une petite explication : 3 - Utilisation du manuel Tout syst\u00e8me UNIX dispose d'un manuel int\u00e9gr\u00e9 \u00e0 la console, il permet de faire une recherche d\u00e9taill\u00e9e sur l'utilisation d'une commande. Nous pouvons acc\u00e9der \u00e0 ce manuel en tapant : man suivi du nom de la fonction pour laquelle on a besoin d'aide. La sortie se fait en tapant q . Dans la suite du TP, vous devrez vous servir au maximum du manuel avant de demander de l'aide. Ci-dessous un exemple du manuel avec la fonction ls : 4 - Se d\u00e9placer dans l'arborescence Lister le contenu d'un r\u00e9pertoire (fichiers et dossiers) Snippet $ ls Avec un affichage des fichiers cach\u00e9s : Snippet $ ls -a Info En environnement GNU/Linux pour cacher un fichier ou un dossier, il suffit de mettre un point, devant son nom. Dans cet exemple nous montrons la diff\u00e9rence entre les commandes ls et ls -a , les fichiers ou dossiers .config .gnupg ou encore .profile sont cach\u00e9s. Se d\u00e9placer d'un r\u00e9pertoire \u00e0 un autre Snippet $ cd [ chemin_du_r\u00e9pertoire ] Ci-dessous nous nous d\u00e9pla\u00e7ons vers le r\u00e9pertoire /home/osboxes/Desktop : Vous pouvez remarquer dans le prompt le chemin qui change de ~ vers ~/Desktop Info Le symbole ~ dit tilde dans un syst\u00e8me GNU/Linux repr\u00e9sente le home de l'utilisateur, dans le cas de la vid\u00e9o ci-dessus l'utilisateur s'appelant osboxes , le chemin complet de son home est : /home/osboxes/ Visualiser le chemin du r\u00e9pertoire courant Snippet $ pwd Dans l'exemple ci-dessous nous montrons le chemin courant soit ~ 5 - Utiliser un \u00e9diteur de texte en ligne de commande Plusieurs \u00e9diteurs de texte en ligne de commande existent sous environnement GNU/Linux, parmi eux nous pouvons citer les tr\u00e8s connus vim et emacs , la courbe d'apprentissage des ces deux derniers \u00e9tant tr\u00e8s pentue nous pr\u00e9f\u00e9rons d\u00e9buter avec l'\u00e9diteur nano install\u00e9 par d\u00e9faut sur les distributions Ubuntu. Quelques commandes permettant de commencer avec nano : Snippet $ nano Snippet $ nano [ nom_du_fichier ] Warning Les noms de fichiers ne doivent pas comporter d'espaces, ceux-ci sont en g\u00e9n\u00e9ral remplac\u00e9s par l'underscore not\u00e9 _ . L'exemple ci-dessous montre la cr\u00e9ation d'un nouveau fichier avec nano appel\u00e9 : test_nano Info Nano propose une liste de fonctions accessibles par raccourcis clavier (voir barre en bas de l'\u00e9cran de nano), le ^ est \u00e0 remplacer par la touche Ctrl Par exemple Ctrl-g pour avoir une aide sur les fonctions de nano. Ctrl-x pour quitter nano, avant toute chose l'\u00e9diteur vous demande Save modified buffer (ANSWERING 'No' WILL DESTROY CHANGES) ? tapper y enregistrera votre travail, tapper n le supprimera. Puis nano demande File Name to Write: rentrez ici le nom que vous souhaitez donner \u00e0 votre fichier si il n'existe pas d\u00e9j\u00e0. 6 - Cr\u00e9er un dossier ou r\u00e9pertoire Snippet $ mkdir [ nom_du_dossier ] La fonction mkdir suivie d'un nom cr\u00e9e un dossier dans le r\u00e9pertoire o\u00f9 vous vous trouvez. Nous cr\u00e9ons ci-dessous un dossier appel\u00e9 sti2d_sin dans le r\u00e9pertoire ~/Documents . 7 - Supprimer un fichier ou un dossier Dans le cas d'un fichier : Snippet $ rm [ chemin_du_fichier ] Dans le cas d'un dossier : Snippet $ rm -rf [ chemin_du_dossier ] Info Le fait de rajouter l'option r (r\u00e9cursivit\u00e9) \u00e0 la commande rm va supprimer tous les fichiers contenus dans le dossier puis le dossier lui m\u00eame, l'option f va forcer la suppression m\u00eame si le dossier est plein. L'exemple ci-dessous montre la suppression d'un fichier test puis du dossier qui le contenait sti2d_sin . Info La fonction tree permet d'afficher l'arborescence du r\u00e9pertoire actuel, elle n'est pas install\u00e9e d'origine dans la distribution, pour ce faire tappez : sudo apt install tree 8 - Copier des fichiers ou des dossiers Dans le cas d'un fichier : Snippet $ cp [ chemin_du_fichier_\u00e0_copier ] [ r\u00e9pertoire_de_destination ] / Dans le cas d'un dossier : Snippet $ cp -r [ chemin_du_dossier_\u00e0_copier ] [ r\u00e9pertoire_de_destination ] / 9 - D\u00e9placement et renommage Renommer des fichiers ou des dossiers Se d\u00e9placer dans le r\u00e9pertoire o\u00f9 se situe le fichier ou le dossier \u00e0 renommer puis tappez la commande : Snippet $ mv [ nom_actuel ] [ nouveau_nom ] Dans l'exemple suivant nous renommons le dossier sti2d_sin en sti2d_itec D\u00e9placer des fichiers ou des dossiers Snippet $ mv [ chemin_du_dossier_ou_fichier_a_deplacer ] [ destination ] / Ci-dessous nous d\u00e9pla\u00e7ons le dossier ~/Documents/sti2d_itec dans le dossier ~/Desktop :","title":"Utiliser le terminal"},{"location":"tsti2d/linux/03-Commandes_bash/#utiliser-le-terminal","text":"","title":"Utiliser le terminal"},{"location":"tsti2d/linux/03-Commandes_bash/#1-le-systeme-de-fichiers-unix","text":"L'agencement d'un syst\u00e8me GNU/Linux n'est pas du tout le m\u00eame que celui que l'on a sur Windows, nous ne trouverons pas par exemple la racine du syst\u00e8me \u00e0 l'emplacement C:\\\\ . Le tableau ci-dessous donne les principaux dossiers de l'arborescence suivis de leur utilisation : Dossier Utilisation / Racine du syst\u00e8me \u00e9quivalent du C:\\\\ chez Windows /bin Applications fournies par le syst\u00e8me tels que ls , cd , pwd /dev Fichiers assurant la liaison avec les p\u00e9riph\u00e9riques (disques, cl\u00e9s usb...) /etc Fichiers de param\u00e9trage du syst\u00e8me /home R\u00e9pertoire personnel /proc Informations sur les processus et le noyau Linux /root R\u00e9pertoire du super-utilisateur /tmp Fichiers temporaires /sbin Fichiers binaires du syst\u00e8me /usr Fichiers binaires et commandes utilisateur /lib Biblioth\u00e8que syst\u00e8me partag\u00e9e /media Point de montage des p\u00e9riph\u00e9riques de stockage connect\u00e9s au syst\u00e8me /mnt Point de montage temporaire des partitions et p\u00e9riph\u00e9riques /var Syst\u00e8mes de fichiers variables, comme le contenu web (dossier www), mais aussi les logs /boot Fichiers de d\u00e9marage du syst\u00e8me","title":"1 - Le syst\u00e8me de fichiers UNIX"},{"location":"tsti2d/linux/03-Commandes_bash/#2-decouverte-du-prompt","text":"Le prompt est l'invite de commande qui attend calmement que vous lui demandiez d'effectuer quelque chose en tapant votre commande puis en validant avec la touche entr\u00e9e. Ci-dessous une petite explication :","title":"2 - D\u00e9couverte du prompt"},{"location":"tsti2d/linux/03-Commandes_bash/#3-utilisation-du-manuel","text":"Tout syst\u00e8me UNIX dispose d'un manuel int\u00e9gr\u00e9 \u00e0 la console, il permet de faire une recherche d\u00e9taill\u00e9e sur l'utilisation d'une commande. Nous pouvons acc\u00e9der \u00e0 ce manuel en tapant : man suivi du nom de la fonction pour laquelle on a besoin d'aide. La sortie se fait en tapant q . Dans la suite du TP, vous devrez vous servir au maximum du manuel avant de demander de l'aide. Ci-dessous un exemple du manuel avec la fonction ls :","title":"3 - Utilisation du manuel"},{"location":"tsti2d/linux/03-Commandes_bash/#4-se-deplacer-dans-larborescence","text":"","title":"4 - Se d\u00e9placer dans l'arborescence"},{"location":"tsti2d/linux/03-Commandes_bash/#lister-le-contenu-dun-repertoire-fichiers-et-dossiers","text":"Snippet $ ls Avec un affichage des fichiers cach\u00e9s : Snippet $ ls -a Info En environnement GNU/Linux pour cacher un fichier ou un dossier, il suffit de mettre un point, devant son nom. Dans cet exemple nous montrons la diff\u00e9rence entre les commandes ls et ls -a , les fichiers ou dossiers .config .gnupg ou encore .profile sont cach\u00e9s.","title":"Lister le contenu d'un r\u00e9pertoire (fichiers et dossiers)"},{"location":"tsti2d/linux/03-Commandes_bash/#se-deplacer-dun-repertoire-a-un-autre","text":"Snippet $ cd [ chemin_du_r\u00e9pertoire ] Ci-dessous nous nous d\u00e9pla\u00e7ons vers le r\u00e9pertoire /home/osboxes/Desktop : Vous pouvez remarquer dans le prompt le chemin qui change de ~ vers ~/Desktop Info Le symbole ~ dit tilde dans un syst\u00e8me GNU/Linux repr\u00e9sente le home de l'utilisateur, dans le cas de la vid\u00e9o ci-dessus l'utilisateur s'appelant osboxes , le chemin complet de son home est : /home/osboxes/","title":"Se d\u00e9placer d'un r\u00e9pertoire \u00e0 un autre"},{"location":"tsti2d/linux/03-Commandes_bash/#visualiser-le-chemin-du-repertoire-courant","text":"Snippet $ pwd Dans l'exemple ci-dessous nous montrons le chemin courant soit ~","title":"Visualiser le chemin du r\u00e9pertoire courant"},{"location":"tsti2d/linux/03-Commandes_bash/#5-utiliser-un-editeur-de-texte-en-ligne-de-commande","text":"Plusieurs \u00e9diteurs de texte en ligne de commande existent sous environnement GNU/Linux, parmi eux nous pouvons citer les tr\u00e8s connus vim et emacs , la courbe d'apprentissage des ces deux derniers \u00e9tant tr\u00e8s pentue nous pr\u00e9f\u00e9rons d\u00e9buter avec l'\u00e9diteur nano install\u00e9 par d\u00e9faut sur les distributions Ubuntu. Quelques commandes permettant de commencer avec nano : Snippet $ nano Snippet $ nano [ nom_du_fichier ] Warning Les noms de fichiers ne doivent pas comporter d'espaces, ceux-ci sont en g\u00e9n\u00e9ral remplac\u00e9s par l'underscore not\u00e9 _ . L'exemple ci-dessous montre la cr\u00e9ation d'un nouveau fichier avec nano appel\u00e9 : test_nano Info Nano propose une liste de fonctions accessibles par raccourcis clavier (voir barre en bas de l'\u00e9cran de nano), le ^ est \u00e0 remplacer par la touche Ctrl Par exemple Ctrl-g pour avoir une aide sur les fonctions de nano. Ctrl-x pour quitter nano, avant toute chose l'\u00e9diteur vous demande Save modified buffer (ANSWERING 'No' WILL DESTROY CHANGES) ? tapper y enregistrera votre travail, tapper n le supprimera. Puis nano demande File Name to Write: rentrez ici le nom que vous souhaitez donner \u00e0 votre fichier si il n'existe pas d\u00e9j\u00e0.","title":"5 - Utiliser un \u00e9diteur de texte en ligne de commande"},{"location":"tsti2d/linux/03-Commandes_bash/#6-creer-un-dossier-ou-repertoire","text":"Snippet $ mkdir [ nom_du_dossier ] La fonction mkdir suivie d'un nom cr\u00e9e un dossier dans le r\u00e9pertoire o\u00f9 vous vous trouvez. Nous cr\u00e9ons ci-dessous un dossier appel\u00e9 sti2d_sin dans le r\u00e9pertoire ~/Documents .","title":"6 - Cr\u00e9er un dossier ou r\u00e9pertoire"},{"location":"tsti2d/linux/03-Commandes_bash/#7-supprimer-un-fichier-ou-un-dossier","text":"Dans le cas d'un fichier : Snippet $ rm [ chemin_du_fichier ] Dans le cas d'un dossier : Snippet $ rm -rf [ chemin_du_dossier ] Info Le fait de rajouter l'option r (r\u00e9cursivit\u00e9) \u00e0 la commande rm va supprimer tous les fichiers contenus dans le dossier puis le dossier lui m\u00eame, l'option f va forcer la suppression m\u00eame si le dossier est plein. L'exemple ci-dessous montre la suppression d'un fichier test puis du dossier qui le contenait sti2d_sin . Info La fonction tree permet d'afficher l'arborescence du r\u00e9pertoire actuel, elle n'est pas install\u00e9e d'origine dans la distribution, pour ce faire tappez : sudo apt install tree","title":"7 - Supprimer un fichier ou un dossier"},{"location":"tsti2d/linux/03-Commandes_bash/#8-copier-des-fichiers-ou-des-dossiers","text":"Dans le cas d'un fichier : Snippet $ cp [ chemin_du_fichier_\u00e0_copier ] [ r\u00e9pertoire_de_destination ] / Dans le cas d'un dossier : Snippet $ cp -r [ chemin_du_dossier_\u00e0_copier ] [ r\u00e9pertoire_de_destination ] /","title":"8 - Copier des fichiers ou des dossiers"},{"location":"tsti2d/linux/03-Commandes_bash/#9-deplacement-et-renommage","text":"","title":"9 - D\u00e9placement et renommage"},{"location":"tsti2d/linux/03-Commandes_bash/#renommer-des-fichiers-ou-des-dossiers","text":"Se d\u00e9placer dans le r\u00e9pertoire o\u00f9 se situe le fichier ou le dossier \u00e0 renommer puis tappez la commande : Snippet $ mv [ nom_actuel ] [ nouveau_nom ] Dans l'exemple suivant nous renommons le dossier sti2d_sin en sti2d_itec","title":"Renommer des fichiers ou des dossiers"},{"location":"tsti2d/linux/03-Commandes_bash/#deplacer-des-fichiers-ou-des-dossiers","text":"Snippet $ mv [ chemin_du_dossier_ou_fichier_a_deplacer ] [ destination ] / Ci-dessous nous d\u00e9pla\u00e7ons le dossier ~/Documents/sti2d_itec dans le dossier ~/Desktop :","title":"D\u00e9placer des fichiers ou des dossiers"},{"location":"tsti2d/linux/04-Permissions/","text":"G\u00e9rer les permissions en environnement GNU-Linux Linux se veut \u00eatre un syst\u00e8me robuste aux virus et aux intrusions, en partie gr\u00e2ce aux permissions applicables sur chaque fichier ou dossier. Un utilisateur classique connect\u00e9 au syst\u00e8me ne peut avoir avoir un acc\u00e8s en modification qu'aux fichiers pr\u00e9sents dans son home , pour le reste il doit s'identifier en tant que super-utilisateur. En effet avec Linux, chaque fichier appartient \u00e0 un utilisateur et un groupe, les permissions en lecture, \u00e9criture et ex\u00e9cutions peuvent \u00eatre param\u00e9tr\u00e9es pour chacun. 1. G\u00e9rer les utilisateurs et les groupes 1.1 Ajouter/Supprimer un utilisateur Cr\u00e9er un nouvel utilisateur Snippet sudo adduser [nom] Lors de la cr\u00e9ation d'un nouvel utilisateur le syst\u00e8me demande un mot de passe, ainsi que plein d'autres renseignements tels que room phone number ... Il n'est pas n\u00e9cessaire de remplir ces informations appuyez sur entrer pour passer dessus. Info Lors de la cr\u00e9ation d'un nouvel utilisateur, linux cr\u00e9e automatiquement un groupe du m\u00eame nom. Se logger avec le nouvel utilisateur cr\u00e9\u00e9 Snippet su [nom_utilisateur] Supprimer un utilisateur Snippet sudo deluser [nom] 1.2 Ajouter/Supprimer un groupe Ajouter un groupe Snippet sudo addgroup [nom] Supprimer un groupe Snippet sudo delgroup [nom] 1.3 Ajouter/Retirer un utilisateur d'un groupe Ajout d'un utilisateur \u00e0 un groupe Snippet sudo adduser [utilisateur] [groupe] Retrait d'un utilisateur d'un groupe Snippet sudo deluser [utilisateur] [groupe] 1.4 Visualiser les groupes d'appartenance d'un utilisateur Snippet sudo groups [utilisateur] 2. Voir les permissions attribu\u00e9es Pour lister les permissions des fichier ou dossiers contenus dans un r\u00e9pertoire, il suffit de taper la commande suivante dans votre terminal : Snippet ls -l Et pour afficher \u00e9galement les permissions sur les fichiers et dossiers cach\u00e9s : Snippet ls -al Un exemple d'affichage des permissions du contenu du r\u00e9pertoire /home/marcel/ dans une distribution ubuntu : Nous d\u00e9taillons ci-dessous le contenu de la ligne du dossier Musique : Une distribution Linux est organis\u00e9e avec un ou plusieurs utilisateurs r\u00e9parties dans des groupes . D\u00e8s qu'un nouvel utilisateur est cr\u00e9\u00e9 il est automatiquement plac\u00e9 dans un groupe du m\u00eame nom . A chaque fichiers et dossiers sont attribu\u00e9s des permissions en lecture , \u00e9criture et ex\u00e9cution . Lors de l'affichage avec ls -l elles sont affich\u00e9es de la mani\u00e8re suivante : rwx # Droits en R-Lecture W-\u00c9criture X-Ex\u00e9cution r-x # Droits en R-Lecture et en X-Ex\u00e9cution --x # Juste le droit en X-Ex\u00e9cution 3. Modifier les permissions Pour modifier les permissions attribu\u00e9es \u00e0 un fichier ou un dossier il faut utiliser la commande : Snippet sudo chmod [options] [file or folder] La modification se fait en d\u00e9signant l'utilisateur u propri\u00e9taire pour user , le groupe g propri\u00e9taire pour group , et le restant a pour all . Ci dessous quelques exemples de modifications effectu\u00e9es sur le fichier foo : sudo chmod a+x foo #Ajout au fichier foo du droit en execution pour tous les utilisateurs. sudo chmod g-r foo #Retrait au fichier foo du droit en lecture pour le groupe. sudo chmod u-x foo #Retrait au fichier foo du droit d'ex\u00e9cution pour l'utilisateur. Nous montrons ci-dessous l'exemple du param\u00e9trage des permissions effectu\u00e9 sur le fichier foo : Remarquez qu'il nous faut dans cet exemple, trois lignes pour modifier les permissions du fichier foo , une autre technique nous permet de le faire d'un seul coup : sudo chmod 637 foo #Attribution des permissions rw--wxrwx Cette m\u00e9thode est issue de la conversion binaire-d\u00e9cimal : rw-|-wx|rwx ---> 110|011|111 --d\u00e9cimal--> 6|3|7 4. Modifier le propri\u00e9taire La commande suivante permet de modifier le propri\u00e9taire d'un fichier ou un dossier : Snippet sudo chown [user] [file or folder] Ci-dessous nous donnons un exemple de modification du propri\u00e9taire du fichier foobar : sudo chowm alice foobar #Changement de propri\u00e9taire du fichier foobar pour l'utilisateur alice. Ci-dessous nous donnons un exemple de modification du propri\u00e9taire du dossier Photos : sudo chown -R alice Photos #Changement de propri\u00e9taire du dossier Photos pour l'utilisateur alice. Info L'option -R ajout\u00e9e \u00e0 la commande chown est la r\u00e9cursivit\u00e9 elle permet de modifier le propri\u00e9taire sur le dossier et l'ensemble de son contenu. Exemple de modification de propri\u00e9taire du dossier Documents : 5. Modifier le groupe Pour modifier le groupe d'appartenance d'un fichier ou dossier, 2 options s'offrent \u00e0 nous : Utiliser la commande pr\u00e9c\u00e9dente de cette mani\u00e8re : Snippet sudo chown [user]:[group] [file or folder] Utiliser la commande chgrp : Snippet sudo chgrp [group] [file or folder] Ci-dessous un exemple de changement de groupe avec les deux commandes pr\u00e9c\u00e9dentes :","title":"G\u00e9rer les permissions en environnement GNU-Linux"},{"location":"tsti2d/linux/04-Permissions/#gerer-les-permissions-en-environnement-gnu-linux","text":"Linux se veut \u00eatre un syst\u00e8me robuste aux virus et aux intrusions, en partie gr\u00e2ce aux permissions applicables sur chaque fichier ou dossier. Un utilisateur classique connect\u00e9 au syst\u00e8me ne peut avoir avoir un acc\u00e8s en modification qu'aux fichiers pr\u00e9sents dans son home , pour le reste il doit s'identifier en tant que super-utilisateur. En effet avec Linux, chaque fichier appartient \u00e0 un utilisateur et un groupe, les permissions en lecture, \u00e9criture et ex\u00e9cutions peuvent \u00eatre param\u00e9tr\u00e9es pour chacun.","title":"G\u00e9rer les permissions en environnement GNU-Linux"},{"location":"tsti2d/linux/04-Permissions/#1-gerer-les-utilisateurs-et-les-groupes","text":"","title":"1. G\u00e9rer les utilisateurs et les groupes"},{"location":"tsti2d/linux/04-Permissions/#11-ajoutersupprimer-un-utilisateur","text":"Cr\u00e9er un nouvel utilisateur Snippet sudo adduser [nom] Lors de la cr\u00e9ation d'un nouvel utilisateur le syst\u00e8me demande un mot de passe, ainsi que plein d'autres renseignements tels que room phone number ... Il n'est pas n\u00e9cessaire de remplir ces informations appuyez sur entrer pour passer dessus. Info Lors de la cr\u00e9ation d'un nouvel utilisateur, linux cr\u00e9e automatiquement un groupe du m\u00eame nom. Se logger avec le nouvel utilisateur cr\u00e9\u00e9 Snippet su [nom_utilisateur] Supprimer un utilisateur Snippet sudo deluser [nom]","title":"1.1 Ajouter/Supprimer un utilisateur"},{"location":"tsti2d/linux/04-Permissions/#12-ajoutersupprimer-un-groupe","text":"Ajouter un groupe Snippet sudo addgroup [nom] Supprimer un groupe Snippet sudo delgroup [nom]","title":"1.2 Ajouter/Supprimer un groupe"},{"location":"tsti2d/linux/04-Permissions/#13-ajouterretirer-un-utilisateur-dun-groupe","text":"Ajout d'un utilisateur \u00e0 un groupe Snippet sudo adduser [utilisateur] [groupe] Retrait d'un utilisateur d'un groupe Snippet sudo deluser [utilisateur] [groupe]","title":"1.3 Ajouter/Retirer un utilisateur d'un groupe"},{"location":"tsti2d/linux/04-Permissions/#14-visualiser-les-groupes-dappartenance-dun-utilisateur","text":"Snippet sudo groups [utilisateur]","title":"1.4 Visualiser les groupes d'appartenance d'un utilisateur"},{"location":"tsti2d/linux/04-Permissions/#2-voir-les-permissions-attribuees","text":"Pour lister les permissions des fichier ou dossiers contenus dans un r\u00e9pertoire, il suffit de taper la commande suivante dans votre terminal : Snippet ls -l Et pour afficher \u00e9galement les permissions sur les fichiers et dossiers cach\u00e9s : Snippet ls -al Un exemple d'affichage des permissions du contenu du r\u00e9pertoire /home/marcel/ dans une distribution ubuntu : Nous d\u00e9taillons ci-dessous le contenu de la ligne du dossier Musique : Une distribution Linux est organis\u00e9e avec un ou plusieurs utilisateurs r\u00e9parties dans des groupes . D\u00e8s qu'un nouvel utilisateur est cr\u00e9\u00e9 il est automatiquement plac\u00e9 dans un groupe du m\u00eame nom . A chaque fichiers et dossiers sont attribu\u00e9s des permissions en lecture , \u00e9criture et ex\u00e9cution . Lors de l'affichage avec ls -l elles sont affich\u00e9es de la mani\u00e8re suivante : rwx # Droits en R-Lecture W-\u00c9criture X-Ex\u00e9cution r-x # Droits en R-Lecture et en X-Ex\u00e9cution --x # Juste le droit en X-Ex\u00e9cution","title":"2. Voir les permissions attribu\u00e9es"},{"location":"tsti2d/linux/04-Permissions/#3-modifier-les-permissions","text":"Pour modifier les permissions attribu\u00e9es \u00e0 un fichier ou un dossier il faut utiliser la commande : Snippet sudo chmod [options] [file or folder] La modification se fait en d\u00e9signant l'utilisateur u propri\u00e9taire pour user , le groupe g propri\u00e9taire pour group , et le restant a pour all . Ci dessous quelques exemples de modifications effectu\u00e9es sur le fichier foo : sudo chmod a+x foo #Ajout au fichier foo du droit en execution pour tous les utilisateurs. sudo chmod g-r foo #Retrait au fichier foo du droit en lecture pour le groupe. sudo chmod u-x foo #Retrait au fichier foo du droit d'ex\u00e9cution pour l'utilisateur. Nous montrons ci-dessous l'exemple du param\u00e9trage des permissions effectu\u00e9 sur le fichier foo : Remarquez qu'il nous faut dans cet exemple, trois lignes pour modifier les permissions du fichier foo , une autre technique nous permet de le faire d'un seul coup : sudo chmod 637 foo #Attribution des permissions rw--wxrwx Cette m\u00e9thode est issue de la conversion binaire-d\u00e9cimal : rw-|-wx|rwx ---> 110|011|111 --d\u00e9cimal--> 6|3|7","title":"3. Modifier les permissions"},{"location":"tsti2d/linux/04-Permissions/#4-modifier-le-proprietaire","text":"La commande suivante permet de modifier le propri\u00e9taire d'un fichier ou un dossier : Snippet sudo chown [user] [file or folder] Ci-dessous nous donnons un exemple de modification du propri\u00e9taire du fichier foobar : sudo chowm alice foobar #Changement de propri\u00e9taire du fichier foobar pour l'utilisateur alice. Ci-dessous nous donnons un exemple de modification du propri\u00e9taire du dossier Photos : sudo chown -R alice Photos #Changement de propri\u00e9taire du dossier Photos pour l'utilisateur alice. Info L'option -R ajout\u00e9e \u00e0 la commande chown est la r\u00e9cursivit\u00e9 elle permet de modifier le propri\u00e9taire sur le dossier et l'ensemble de son contenu. Exemple de modification de propri\u00e9taire du dossier Documents :","title":"4. Modifier le propri\u00e9taire"},{"location":"tsti2d/linux/04-Permissions/#5-modifier-le-groupe","text":"Pour modifier le groupe d'appartenance d'un fichier ou dossier, 2 options s'offrent \u00e0 nous : Utiliser la commande pr\u00e9c\u00e9dente de cette mani\u00e8re : Snippet sudo chown [user]:[group] [file or folder] Utiliser la commande chgrp : Snippet sudo chgrp [group] [file or folder] Ci-dessous un exemple de changement de groupe avec les deux commandes pr\u00e9c\u00e9dentes :","title":"5. Modifier le groupe"},{"location":"tsti2d/linux/05-Scripts_bash/","text":"R\u00e9alisation de scripts Bash 1 - \u00c9diter et lancer un script Pour \u00e9diter votre script Bash dans l'environnement GNU/Linux deux options s'offrent \u00e0 vous : Utiliser un \u00e9diteur de texte en ligne de commande tel que nano ou vim . Utiliser un \u00e9diteur de texte graphique comme gedit Une fois votre \u00e9diteur ouvert, la premi\u00e8re chose \u00e0 \u00e9crire est : #!/bin/bash Cette ligne de code indique au terminal quel type de Shell il doit utiliser, dans notre cas nous utiliserons le Shell Bash. Si vous souhaitez avoir des informations sur les diff\u00e9rents types de Shell, je ne peux que vous conseiller d'aller voir la page Wikip\u00e9dia suivante : lien Ensuite il faut avant tout enregistrer votre nouveau fichier de script, pour cela donnez lui l'extension .sh , extension utilis\u00e9e pour les scripts Bash. Pour lancer un script et observer son fonctionnement, positionnez vous avec le terminal \u00e0 l'endroit o\u00f9 il est situ\u00e9 (voir commandes cd et ls ), puis entrez les commandes suivantes : $ chmod a+x nom_du_script.sh Cette ligne donne le droit d'ex\u00e9cution de votre script \u00e0 tout le monde. $ ./nom_du_script.sh Cette ligne lance votre script. 2 - Utilisation de variables 2.1 - D\u00e9claration Pour d\u00e9clarer une variable en shell Bash il suffit rentrer son nom puis sa valeur initiale : foo = \"je suis le contenu de foo\" bar = 22 test = 22 .69 Ci-dessus nous avons d\u00e9clar\u00e9 et initialis\u00e9 3 variables : Une cha\u00eene de caract\u00e8re foo , un entier bar et un flottant test . Remarquez qu'il n'est pas n\u00e9cessaire de d\u00e9clarer le type de la variable, Bash va automatiquement le faire suivant valeur initiale choisie. Warning Lors de la d\u00e9claration d'une variable attention \u00e0 ne pas mettre d'espace entre la fin du nom et le = 2.2 - Utilisation Pour utiliser le contenu d'une variable il faut mettre le symbole $ devant le nom de celle-ci, on fait alors r\u00e9f\u00e9rence \u00e0 sa case m\u00e9moire, son contenu. Faire des calculs avec les variables : Une syntaxe particuli\u00e8re est utilis\u00e9e pour faire faire un calcul entre 2 ou plusieurs variables, exemple de script ci-dessous : #!/bin/bash a = 10 b = 12 c = $(( a+b )) # Afficher le r\u00e9sultat \u00e0 l'\u00e9cran echo $c D\u00e9claration de 2 variables a et b initialis\u00e9es respectivement \u00e0 10 et 12 Addition dans c Affichage du contenu de c \u00e0 l'\u00e9cran gr\u00e2ce \u00e0 la commande echo Warning Bash ne permet pas directement de faire des additions avec des nombres d\u00e9cimaux. Ci n\u00e9cessaire installer l'application appel\u00e9e bc permettant de g\u00e9rer le calcul en nombres flottants. Concat\u00e9ner des cha\u00eenes de caract\u00e8res Bash permet de concat\u00e9ner rapidement le contenu de 2 variables de type cha\u00eene de caract\u00e8res, un exemple ci-dessous : #!/bin/bash a = \"J'aime \" b = \"coder avec le shell Bash !\" c = $a$b # Afficher le r\u00e9sultat \u00e0 l'\u00e9cran echo $c 1. D\u00e9claration de 2 variables a et b initialis\u00e9es respectivement \u00e0 J'aime et coder avec le shell Bash 2. Concat\u00e9nation dans c 3. Affichage du contenu de c \u00e0 l'\u00e9cran gr\u00e2ce \u00e0 la commande echo 3 - Les structures conditionnelles 3.1 Les op\u00e9rateurs de comparaison Op\u00e9rateur Nom -lt lower than (inf\u00e9rieur \u00e0) -gt greater than (sup\u00e9rieur \u00e0) -eq equal (\u00e9gal \u00e0) -ne not equal (diff\u00e9rent de) -ge greater or equal (sup\u00e9rieur ou egal \u00e0) -le lower or equal (inf\u00e9rieur ou \u00e9gal \u00e0) Info Ces op\u00e9rateurs sont uniquement utilisables avec des nombres, pour les chaines de caract\u00e8res voir ci-dessous. De plus Bash ne permet pas directement de comparer des nombres d\u00e9cimaux, ces expressions fonctionnent seulement avec des entiers . Op\u00e9rateur Nom == \u00c9galit\u00e9 != Diff\u00e9rence 3.1 If La structure if effectue le test donn\u00e9, si il est vrai, elle dirige l'ex\u00e9cution vers le then , dans le cas contraire elle continu la suite des instructions, un script exemple ci-dessous : #!/bin/bash # Capture des 2 nombres saisis par l'utilisateur echo \"Rentrez le premier nombre\" read a # Saisi du nombre a echo \"Rentrez le second nombre\" read b # Saisi du nombre b # Test d'inf\u00e9riorit\u00e9 de a sur b if [ $a -lt $b ] ; then echo \"a est inf\u00e9rieur \u00e0 b\" fi # Test de sup\u00e9riorit\u00e9 de a sur b if [ $a -gt $b ] ; then echo \"a est sup\u00e9rieur \u00e0 b\" fi # Test d'\u00e9galit\u00e9 de a et b if [ $a -eq $b ] ; then echo \"a est \u00e9gal \u00e0 b\" fi Warning Toujours mettre un espace apr\u00e8s le 1er [ et avant le dernier ] de la condition. 3.2 If Else Nous reprenons le script pr\u00e9c\u00e9dent en utilisant une structure if elif : #!/bin/bash # Capture des 2 nombres saisis par l'utilisateur echo \"Rentrez le premier nombre\" read a # Saisi du nombre a echo \"Rentrez le second nombre\" read b # Saisi du nombre b if [ $a -lt $b ] ; then # Test d'inf\u00e9riorit\u00e9 de a sur b echo \"a est inf\u00e9rieur \u00e0 b\" elif [ $a -gt $b ] ; then # Sinon test de sup\u00e9riorit\u00e9 de a sur b echo \"a est sup\u00e9rieur \u00e0 b\" elif [ $a -eq $b ] ; then # Sinon test d'\u00e9galit\u00e9 de a et b echo \"a est \u00e9gal \u00e0 b\" fi 3.3 Case La structure case tr\u00e8s utilis\u00e9e dans les menus, permet d'orienter le programme suivant un choix de l'utilisateur : #!/bin/bash echo \"Rentrez un nombre compris entre 1 et 4\" read nb # Saisi du nombre nb case $nb in # Tests sur la variable nb, contenant le nombre saisi 1 ) echo \"Super ! Vous avez saisi 1\" ;; # Ne pas oublier les 2 ;; sauf sur la derni\u00e8re ligne 2 ) echo \"Formidable ! Vous avez saisi 2\" ;; 3 ) echo \"Fantastique ! Vous avez saisi 3\" ;; 4 ) echo \"Wahoo ! Vous avez saisi 4\" ;; * ) echo \"Vous n'avez rien saisi de valable ! Dommage\" # Cas o\u00f9 nb different de [1;4] esac 4 - Les boucles 4.1 While La boucle while ou \"tant que\" permet de r\u00e9p\u00e9ter un ensemble d'instructions tant que la condition donn\u00e9e est vraie, exemple ci-dessous : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 while [ $i -lt 5 ] ; do # On tourne tant que i<5 echo \"compteur = \" $i # On affiche le contenu de i i = $(( $i + 1 )) # On incr\u00e9mente i done 4.2 Until La boucle until ou \"jusqu'\u00e0\" contrairement \u00e0 la boucle while va s'ex\u00e9cuter jusqu'\u00e0 ce que la condition soit v\u00e9rifi\u00e9e. Nous reprenons l'exemple pr\u00e9c\u00e9dent et adaptons la condition pour compter de 0 \u00e0 4 : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 until [ $i -gt 5 ] ; do # On tourne jusqu'\u00e0 ce que i>4 echo \"compteur = \" $i # On affiche le contenu de i i = $(( $i + 1 )) # On incr\u00e9mente i done 4.3 For La boucle for est tr\u00e8s utilis\u00e9e en shell Bash pour parcourir les \u00e9l\u00e9ments d'une liste, d'un fichier ou encore le contenu d'un r\u00e9pertoire. Dans l'exemple ci-dessous nous listons tous les fichier du r\u00e9pertoire courant soit /home/foo/ : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 # On parcourt le r\u00e9pertoire actuel, le nom du fichier recueilli est mis dans la var nom_fichier \u00e0 chaque it\u00e9ration # '*' D\u00e9signe l'ensemble des fichier du r\u00e9pertoire for nom_fichier in * ; do echo $i \". \" $nom_fichier i = $(( $i + 1 )) # On incr\u00e9mente i done 5 - Les param\u00e8tres positionnels Les param\u00e8tres positionnels sont les param\u00e8tres pass\u00e9s en entr\u00e9e d'un script quand vous appelez celui-ci dans le terminal. Par exemple lors de l'utilisation de la commande rm on peut passer l'option -r qui est un param\u00e8tre positionnel : rm -r Il est facile d'utiliser ces param\u00e8tres en Bash ils sont r\u00e9f\u00e9renc\u00e9s par un num\u00e9ro : 1 pour le premier param\u00e8tre, 2 pour le second ... $ mon_script param1 param2 param3 Pour utiliser ces param\u00e8tres dans le script : #!/bin/bash $1 # Utilisation du premier param\u00e8tre $2 # Utilisation du second param\u00e8tre $3 # Utilisation du troisi\u00e8me param\u00e8tre Info Le param\u00e8tre positionnel $0 est une cha\u00eene de caract\u00e8res contenant le nom du script","title":"R\u00e9alisation de scripts Bash"},{"location":"tsti2d/linux/05-Scripts_bash/#realisation-de-scripts-bash","text":"","title":"R\u00e9alisation de scripts Bash"},{"location":"tsti2d/linux/05-Scripts_bash/#1-editer-et-lancer-un-script","text":"Pour \u00e9diter votre script Bash dans l'environnement GNU/Linux deux options s'offrent \u00e0 vous : Utiliser un \u00e9diteur de texte en ligne de commande tel que nano ou vim . Utiliser un \u00e9diteur de texte graphique comme gedit Une fois votre \u00e9diteur ouvert, la premi\u00e8re chose \u00e0 \u00e9crire est : #!/bin/bash Cette ligne de code indique au terminal quel type de Shell il doit utiliser, dans notre cas nous utiliserons le Shell Bash. Si vous souhaitez avoir des informations sur les diff\u00e9rents types de Shell, je ne peux que vous conseiller d'aller voir la page Wikip\u00e9dia suivante : lien Ensuite il faut avant tout enregistrer votre nouveau fichier de script, pour cela donnez lui l'extension .sh , extension utilis\u00e9e pour les scripts Bash. Pour lancer un script et observer son fonctionnement, positionnez vous avec le terminal \u00e0 l'endroit o\u00f9 il est situ\u00e9 (voir commandes cd et ls ), puis entrez les commandes suivantes : $ chmod a+x nom_du_script.sh Cette ligne donne le droit d'ex\u00e9cution de votre script \u00e0 tout le monde. $ ./nom_du_script.sh Cette ligne lance votre script.","title":"1 - \u00c9diter et lancer un script"},{"location":"tsti2d/linux/05-Scripts_bash/#2-utilisation-de-variables","text":"","title":"2 - Utilisation de variables"},{"location":"tsti2d/linux/05-Scripts_bash/#21-declaration","text":"Pour d\u00e9clarer une variable en shell Bash il suffit rentrer son nom puis sa valeur initiale : foo = \"je suis le contenu de foo\" bar = 22 test = 22 .69 Ci-dessus nous avons d\u00e9clar\u00e9 et initialis\u00e9 3 variables : Une cha\u00eene de caract\u00e8re foo , un entier bar et un flottant test . Remarquez qu'il n'est pas n\u00e9cessaire de d\u00e9clarer le type de la variable, Bash va automatiquement le faire suivant valeur initiale choisie. Warning Lors de la d\u00e9claration d'une variable attention \u00e0 ne pas mettre d'espace entre la fin du nom et le =","title":"2.1 - D\u00e9claration"},{"location":"tsti2d/linux/05-Scripts_bash/#22-utilisation","text":"Pour utiliser le contenu d'une variable il faut mettre le symbole $ devant le nom de celle-ci, on fait alors r\u00e9f\u00e9rence \u00e0 sa case m\u00e9moire, son contenu. Faire des calculs avec les variables : Une syntaxe particuli\u00e8re est utilis\u00e9e pour faire faire un calcul entre 2 ou plusieurs variables, exemple de script ci-dessous : #!/bin/bash a = 10 b = 12 c = $(( a+b )) # Afficher le r\u00e9sultat \u00e0 l'\u00e9cran echo $c D\u00e9claration de 2 variables a et b initialis\u00e9es respectivement \u00e0 10 et 12 Addition dans c Affichage du contenu de c \u00e0 l'\u00e9cran gr\u00e2ce \u00e0 la commande echo Warning Bash ne permet pas directement de faire des additions avec des nombres d\u00e9cimaux. Ci n\u00e9cessaire installer l'application appel\u00e9e bc permettant de g\u00e9rer le calcul en nombres flottants. Concat\u00e9ner des cha\u00eenes de caract\u00e8res Bash permet de concat\u00e9ner rapidement le contenu de 2 variables de type cha\u00eene de caract\u00e8res, un exemple ci-dessous : #!/bin/bash a = \"J'aime \" b = \"coder avec le shell Bash !\" c = $a$b # Afficher le r\u00e9sultat \u00e0 l'\u00e9cran echo $c 1. D\u00e9claration de 2 variables a et b initialis\u00e9es respectivement \u00e0 J'aime et coder avec le shell Bash 2. Concat\u00e9nation dans c 3. Affichage du contenu de c \u00e0 l'\u00e9cran gr\u00e2ce \u00e0 la commande echo","title":"2.2 - Utilisation"},{"location":"tsti2d/linux/05-Scripts_bash/#3-les-structures-conditionnelles","text":"","title":"3 - Les structures conditionnelles"},{"location":"tsti2d/linux/05-Scripts_bash/#31-les-operateurs-de-comparaison","text":"Op\u00e9rateur Nom -lt lower than (inf\u00e9rieur \u00e0) -gt greater than (sup\u00e9rieur \u00e0) -eq equal (\u00e9gal \u00e0) -ne not equal (diff\u00e9rent de) -ge greater or equal (sup\u00e9rieur ou egal \u00e0) -le lower or equal (inf\u00e9rieur ou \u00e9gal \u00e0) Info Ces op\u00e9rateurs sont uniquement utilisables avec des nombres, pour les chaines de caract\u00e8res voir ci-dessous. De plus Bash ne permet pas directement de comparer des nombres d\u00e9cimaux, ces expressions fonctionnent seulement avec des entiers . Op\u00e9rateur Nom == \u00c9galit\u00e9 != Diff\u00e9rence","title":"3.1 Les op\u00e9rateurs de comparaison"},{"location":"tsti2d/linux/05-Scripts_bash/#31-if","text":"La structure if effectue le test donn\u00e9, si il est vrai, elle dirige l'ex\u00e9cution vers le then , dans le cas contraire elle continu la suite des instructions, un script exemple ci-dessous : #!/bin/bash # Capture des 2 nombres saisis par l'utilisateur echo \"Rentrez le premier nombre\" read a # Saisi du nombre a echo \"Rentrez le second nombre\" read b # Saisi du nombre b # Test d'inf\u00e9riorit\u00e9 de a sur b if [ $a -lt $b ] ; then echo \"a est inf\u00e9rieur \u00e0 b\" fi # Test de sup\u00e9riorit\u00e9 de a sur b if [ $a -gt $b ] ; then echo \"a est sup\u00e9rieur \u00e0 b\" fi # Test d'\u00e9galit\u00e9 de a et b if [ $a -eq $b ] ; then echo \"a est \u00e9gal \u00e0 b\" fi Warning Toujours mettre un espace apr\u00e8s le 1er [ et avant le dernier ] de la condition.","title":"3.1 If"},{"location":"tsti2d/linux/05-Scripts_bash/#32-if-else","text":"Nous reprenons le script pr\u00e9c\u00e9dent en utilisant une structure if elif : #!/bin/bash # Capture des 2 nombres saisis par l'utilisateur echo \"Rentrez le premier nombre\" read a # Saisi du nombre a echo \"Rentrez le second nombre\" read b # Saisi du nombre b if [ $a -lt $b ] ; then # Test d'inf\u00e9riorit\u00e9 de a sur b echo \"a est inf\u00e9rieur \u00e0 b\" elif [ $a -gt $b ] ; then # Sinon test de sup\u00e9riorit\u00e9 de a sur b echo \"a est sup\u00e9rieur \u00e0 b\" elif [ $a -eq $b ] ; then # Sinon test d'\u00e9galit\u00e9 de a et b echo \"a est \u00e9gal \u00e0 b\" fi","title":"3.2 If Else"},{"location":"tsti2d/linux/05-Scripts_bash/#33-case","text":"La structure case tr\u00e8s utilis\u00e9e dans les menus, permet d'orienter le programme suivant un choix de l'utilisateur : #!/bin/bash echo \"Rentrez un nombre compris entre 1 et 4\" read nb # Saisi du nombre nb case $nb in # Tests sur la variable nb, contenant le nombre saisi 1 ) echo \"Super ! Vous avez saisi 1\" ;; # Ne pas oublier les 2 ;; sauf sur la derni\u00e8re ligne 2 ) echo \"Formidable ! Vous avez saisi 2\" ;; 3 ) echo \"Fantastique ! Vous avez saisi 3\" ;; 4 ) echo \"Wahoo ! Vous avez saisi 4\" ;; * ) echo \"Vous n'avez rien saisi de valable ! Dommage\" # Cas o\u00f9 nb different de [1;4] esac","title":"3.3 Case"},{"location":"tsti2d/linux/05-Scripts_bash/#4-les-boucles","text":"","title":"4 - Les boucles"},{"location":"tsti2d/linux/05-Scripts_bash/#41-while","text":"La boucle while ou \"tant que\" permet de r\u00e9p\u00e9ter un ensemble d'instructions tant que la condition donn\u00e9e est vraie, exemple ci-dessous : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 while [ $i -lt 5 ] ; do # On tourne tant que i<5 echo \"compteur = \" $i # On affiche le contenu de i i = $(( $i + 1 )) # On incr\u00e9mente i done","title":"4.1 While"},{"location":"tsti2d/linux/05-Scripts_bash/#42-until","text":"La boucle until ou \"jusqu'\u00e0\" contrairement \u00e0 la boucle while va s'ex\u00e9cuter jusqu'\u00e0 ce que la condition soit v\u00e9rifi\u00e9e. Nous reprenons l'exemple pr\u00e9c\u00e9dent et adaptons la condition pour compter de 0 \u00e0 4 : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 until [ $i -gt 5 ] ; do # On tourne jusqu'\u00e0 ce que i>4 echo \"compteur = \" $i # On affiche le contenu de i i = $(( $i + 1 )) # On incr\u00e9mente i done","title":"4.2 Until"},{"location":"tsti2d/linux/05-Scripts_bash/#43-for","text":"La boucle for est tr\u00e8s utilis\u00e9e en shell Bash pour parcourir les \u00e9l\u00e9ments d'une liste, d'un fichier ou encore le contenu d'un r\u00e9pertoire. Dans l'exemple ci-dessous nous listons tous les fichier du r\u00e9pertoire courant soit /home/foo/ : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 # On parcourt le r\u00e9pertoire actuel, le nom du fichier recueilli est mis dans la var nom_fichier \u00e0 chaque it\u00e9ration # '*' D\u00e9signe l'ensemble des fichier du r\u00e9pertoire for nom_fichier in * ; do echo $i \". \" $nom_fichier i = $(( $i + 1 )) # On incr\u00e9mente i done","title":"4.3 For"},{"location":"tsti2d/linux/05-Scripts_bash/#5-les-parametres-positionnels","text":"Les param\u00e8tres positionnels sont les param\u00e8tres pass\u00e9s en entr\u00e9e d'un script quand vous appelez celui-ci dans le terminal. Par exemple lors de l'utilisation de la commande rm on peut passer l'option -r qui est un param\u00e8tre positionnel : rm -r Il est facile d'utiliser ces param\u00e8tres en Bash ils sont r\u00e9f\u00e9renc\u00e9s par un num\u00e9ro : 1 pour le premier param\u00e8tre, 2 pour le second ... $ mon_script param1 param2 param3 Pour utiliser ces param\u00e8tres dans le script : #!/bin/bash $1 # Utilisation du premier param\u00e8tre $2 # Utilisation du second param\u00e8tre $3 # Utilisation du troisi\u00e8me param\u00e8tre Info Le param\u00e8tre positionnel $0 est une cha\u00eene de caract\u00e8res contenant le nom du script","title":"5 - Les param\u00e8tres positionnels"},{"location":"tsti2d/linux/ACT1-Util_term/","text":"Activit\u00e9 : Utiliser le terminal Le but de cette activit\u00e9 est une initiation \u00e0 l'utilisation de la ligne de commande sous Linux. Nous souhaitons pour cette s\u00e9ance nous focaliser sur l'utilisation de Linux \u00e0 l'aide de la console, invent\u00e9e dans les ann\u00e9es 70, quand l'interface graphique n'existait pas encore. Aujourd'hui la console est appr\u00e9ci\u00e9e pour son gain de temps (commandes intuitives courtes et abr\u00e9g\u00e9es), et sa tr\u00e8s faible consommation de ressources graphiques. Savoir utiliser la console nous permet de comprendre comment le syst\u00e8me fonctionne, son utilisation sera par exemple indispensable pour communiquer avec le Raspberry Pi \u00e0 distance. 1 - Lancement de la distribution en live USB Cette activit\u00e9 se d\u00e9roulera sur une distribution GNU/Linux lanc\u00e9e en live usb sur les ordinateurs de la salle. C'est \u00e0 dire que le syst\u00e8me fonctionnera sur la cl\u00e9 usb sans \u00eatre install\u00e9 et sans alt\u00e9rer le contenu du disque Windows. D\u00e9marrez l'ordinateur avec la cl\u00e9 USB connect\u00e9e. Choisissez Essayer Ubuntu Tout d'abord changez la langue du clavier pour le Fran\u00e7ais : Gr\u00e2ce au lanceur d\u00e9marrez un terminal : F\u00e9licitations ! Vous \u00eates devant un invite de commande aussi appel\u00e9 prompt 2 - D\u00e9placement dans l'arborescence a - Commandes ls , ls -a , cd et pwd : Utilisez la commande pwd pour visualiser le chemin de votre emplacement actuel. D\u00e9placez-vous sur la racine du syst\u00e8me soit l'emplacement / \u00e0 l'aide de cd Une fois fait utilisez la commande ls pour afficher l'ensemble des fichiers et dossiers composant le r\u00e9pertoire actuel. Retrouvez l'arborescence \u00e9voqu\u00e9e pr\u00e9c\u00e9demment. Rajoutez \u00e0 ls l'option -a soit ls -a Que remarquez vous ? Que signifie le point devant certains fichiers ? b - Utilisation de nano l'\u00e9diteur de texte : D\u00e9placez vous \u00e0 l'aide de cd dans le r\u00e9pertoire /home/utilisateur/Documents Cr\u00e9ez \u00e0 l'aide de l'\u00e9diteur nano un nouveau document appel\u00e9 : Activit\u00e9_Linux \u00c9crivez dans le document le texte suivant : Linux c'est vraiment g\u00e9nial ! Quittez nano en enregistrant votre fichier quand il vous le demande. Visualisez \u00e0 l'aide de ls si le fichier \u00e0 bien \u00e9t\u00e9 cr\u00e9\u00e9 et r\u00e9-ouvrez le avec nano pour revoir votre cr\u00e9ation. Rajoutez \u00e7a c'est s\u00fbr ! \u00e0 la suite de votre texte. Quittez \u00e0 nouveau nano en enregistrant une derni\u00e8re fois. c - Utilisation de mv , cp , rm et mkdir Vous souhaitez cr\u00e9er un nouveau r\u00e9pertoire o\u00f9 mettre le fichier que vous venez de cr\u00e9er, utilisez la commande mkdir pour cr\u00e9er un r\u00e9pertoire s'appelant \u00ab Cours_Linux \u00bb toujours dans /home/utilisateur/Documents D\u00e9placez le fichier \u00ab Activit\u00e9_Linux \u00bb dans ce nouveau dossier \u00e0 l'aide de la commande mv , v\u00e9rifiez que le d\u00e9- placement a bien \u00e9t\u00e9 effectu\u00e9 Vous vous \u00eates tromp\u00e9s de nom et souhaitez renommez le fichier Activit\u00e9_Linux en Premier_cours_Linux utilisez pour cela \u00e0 nouveau la commande mv , v\u00e9rifiez que le changement a bien \u00e9t\u00e9 effectu\u00e9. Cr\u00e9ez une copie de ce m\u00eame fichier sur le bureau \u00e0 l'aide de la commande cp , v\u00e9rifiez si la copie est pr\u00e9sente sur le bureau. Vous r\u00e9alisez que vous n'avez finalement pas besoin de la copie sur le bureau et souhaitez la supprimer gr\u00e2ce \u00e0 la commande rm Vous souhaitez \u00e9galement supprimer le dossier \u00ab Premier_cours_Linux \u00bb qui finalement ne vous sert pas \u00e0 grand chose. Rajoutez pour cela l'option -r \u00e0 rm .","title":"Activit\u00e9 : Utiliser le terminal"},{"location":"tsti2d/linux/ACT1-Util_term/#activite-utiliser-le-terminal","text":"Le but de cette activit\u00e9 est une initiation \u00e0 l'utilisation de la ligne de commande sous Linux. Nous souhaitons pour cette s\u00e9ance nous focaliser sur l'utilisation de Linux \u00e0 l'aide de la console, invent\u00e9e dans les ann\u00e9es 70, quand l'interface graphique n'existait pas encore. Aujourd'hui la console est appr\u00e9ci\u00e9e pour son gain de temps (commandes intuitives courtes et abr\u00e9g\u00e9es), et sa tr\u00e8s faible consommation de ressources graphiques. Savoir utiliser la console nous permet de comprendre comment le syst\u00e8me fonctionne, son utilisation sera par exemple indispensable pour communiquer avec le Raspberry Pi \u00e0 distance.","title":"Activit\u00e9 : Utiliser le terminal"},{"location":"tsti2d/linux/ACT1-Util_term/#1-lancement-de-la-distribution-en-live-usb","text":"Cette activit\u00e9 se d\u00e9roulera sur une distribution GNU/Linux lanc\u00e9e en live usb sur les ordinateurs de la salle. C'est \u00e0 dire que le syst\u00e8me fonctionnera sur la cl\u00e9 usb sans \u00eatre install\u00e9 et sans alt\u00e9rer le contenu du disque Windows. D\u00e9marrez l'ordinateur avec la cl\u00e9 USB connect\u00e9e. Choisissez Essayer Ubuntu Tout d'abord changez la langue du clavier pour le Fran\u00e7ais : Gr\u00e2ce au lanceur d\u00e9marrez un terminal : F\u00e9licitations ! Vous \u00eates devant un invite de commande aussi appel\u00e9 prompt","title":"1 - Lancement de la distribution en live USB"},{"location":"tsti2d/linux/ACT1-Util_term/#2-deplacement-dans-larborescence","text":"","title":"2 - D\u00e9placement dans l'arborescence"},{"location":"tsti2d/linux/ACT1-Util_term/#a-commandes-ls-ls-a-cd-et-pwd","text":"Utilisez la commande pwd pour visualiser le chemin de votre emplacement actuel. D\u00e9placez-vous sur la racine du syst\u00e8me soit l'emplacement / \u00e0 l'aide de cd Une fois fait utilisez la commande ls pour afficher l'ensemble des fichiers et dossiers composant le r\u00e9pertoire actuel. Retrouvez l'arborescence \u00e9voqu\u00e9e pr\u00e9c\u00e9demment. Rajoutez \u00e0 ls l'option -a soit ls -a Que remarquez vous ? Que signifie le point devant certains fichiers ?","title":"a - Commandes ls, ls -a , cd et pwd:"},{"location":"tsti2d/linux/ACT1-Util_term/#b-utilisation-de-nano-lediteur-de-texte","text":"D\u00e9placez vous \u00e0 l'aide de cd dans le r\u00e9pertoire /home/utilisateur/Documents Cr\u00e9ez \u00e0 l'aide de l'\u00e9diteur nano un nouveau document appel\u00e9 : Activit\u00e9_Linux \u00c9crivez dans le document le texte suivant : Linux c'est vraiment g\u00e9nial ! Quittez nano en enregistrant votre fichier quand il vous le demande. Visualisez \u00e0 l'aide de ls si le fichier \u00e0 bien \u00e9t\u00e9 cr\u00e9\u00e9 et r\u00e9-ouvrez le avec nano pour revoir votre cr\u00e9ation. Rajoutez \u00e7a c'est s\u00fbr ! \u00e0 la suite de votre texte. Quittez \u00e0 nouveau nano en enregistrant une derni\u00e8re fois.","title":"b - Utilisation de nano l'\u00e9diteur de texte :"},{"location":"tsti2d/linux/ACT1-Util_term/#c-utilisation-de-mv-cp-rm-et-mkdir","text":"Vous souhaitez cr\u00e9er un nouveau r\u00e9pertoire o\u00f9 mettre le fichier que vous venez de cr\u00e9er, utilisez la commande mkdir pour cr\u00e9er un r\u00e9pertoire s'appelant \u00ab Cours_Linux \u00bb toujours dans /home/utilisateur/Documents D\u00e9placez le fichier \u00ab Activit\u00e9_Linux \u00bb dans ce nouveau dossier \u00e0 l'aide de la commande mv , v\u00e9rifiez que le d\u00e9- placement a bien \u00e9t\u00e9 effectu\u00e9 Vous vous \u00eates tromp\u00e9s de nom et souhaitez renommez le fichier Activit\u00e9_Linux en Premier_cours_Linux utilisez pour cela \u00e0 nouveau la commande mv , v\u00e9rifiez que le changement a bien \u00e9t\u00e9 effectu\u00e9. Cr\u00e9ez une copie de ce m\u00eame fichier sur le bureau \u00e0 l'aide de la commande cp , v\u00e9rifiez si la copie est pr\u00e9sente sur le bureau. Vous r\u00e9alisez que vous n'avez finalement pas besoin de la copie sur le bureau et souhaitez la supprimer gr\u00e2ce \u00e0 la commande rm Vous souhaitez \u00e9galement supprimer le dossier \u00ab Premier_cours_Linux \u00bb qui finalement ne vous sert pas \u00e0 grand chose. Rajoutez pour cela l'option -r \u00e0 rm .","title":"c - Utilisation de mv, cp, rm et mkdir"},{"location":"tsti2d/linux/ACT2-Linux_reseau/","text":"Activit\u00e9 : Linux et le r\u00e9seau 1 - Cr\u00e9ation d'un nouvel utilisateur La distribution en \"live USB\" cr\u00e9e un utilisateur \"xubuntu\" d'office sans mot de passe, pour une connexion \u00e0 distance sur votre machine vous aurez besoin de cr\u00e9er un nouvel utilisateur avec mot de passe. Pour cela il s'agit d'utiliser la commande : adduser , qui va cr\u00e9er un nouvel utilisateur avec possibilit\u00e9 de lui assigner un mot de passe, nom, pr\u00e9nom, adresse... Le site Ubuntu France, donne une explication compl\u00e8te de l'utilisation de cette commande allez y jeter un coup d'\u0153il : Ubuntu France tutoriel adduser \"Sandwich\" , by XKCD used under CC BY-NC 2.5 L'utilisateur cr\u00e9\u00e9 ne dispose des privil\u00e8ges root (super utilisateur, le sudo ), il faut donc l'ajouter \u00e0 la liste des sudoers , pour se faire suivez l'explication donn\u00e9e par le site : Ubuntu France tutoriel sudoers Question Utilisez la commande adduser pour cr\u00e9er un nouvel utilisateur de votre choix, d\u00e9finissez \u00e9galement un mot de passe. Rajoutez une ligne au fichier /etc/sudoers pour autoriser l'acc\u00e8s au privil\u00e8ges super utilisateur \u00e0 votre nouvel utilisateur : Nom_utilisateur ALL=(ALL:ALL) ALL Identifiez vous avec le nouvel utilisateur cr\u00e9\u00e9 avec su nom_nouvel_utilisateur 2 - Le gestionnaire de paquets Les applications d'un syst\u00e8me GNU/Linux sont g\u00e9r\u00e9es par un gestionnaire de paquet ( apt pour Debian et donc Ubuntu, yum pour Fedora et pacman pour Archlinux) pour installer une application, nous ne proc\u00e9dons pas comme sur Windows o\u00f9 il s'agit la plupart du temps d'aller r\u00e9cup\u00e9rer le fichier d'installation sur le site du fabricant, ou sur un site g\u00e9n\u00e9raliste \u00e0 la merci des virus et programmes publicitaires... Sur GNU Linux les applications sont dans des bases de donn\u00e9es appel\u00e9es repositories , chaque application est ainsi constamment maintenue \u00e0 jour, vous \u00eates donc certains d'installer la derni\u00e8re version et ce de mani\u00e8re fiable. Un gros avantage : la mise en jour de l'ensemble des applications du syst\u00e8me se fait d'un seul coup, gr\u00e2ce au gestionnaire de paquets. Avant d'installer quoi que ce soit sur la distribution il faut toujours mettre \u00e0 jour les repositories et ensuite mettre \u00e0 jour le syst\u00e8me . Pour ce faire nous utilisons la commande apt update puis apt upgrade Question Utilisez la commande apt update en mode super utilisateur pour mettre \u00e0 jour les bases de donn\u00e9es. Utilisez la commande apt upgrade en mode super utilisateur pour mettre \u00e0 jour le syst\u00e8me. 3 - La configuration r\u00e9seau sous Linux La commande ifconfig permet de visualiser la configuration r\u00e9seau de l'ordinateur, gr\u00e2ce \u00e0 elle nous pouvons obtenir des informations sur l'adresse IP, l'adresse MAC ou encore l'interface r\u00e9seau utilis\u00e9e. Question Utilisez la commande ifconfig pour obtenir le nom de l'interface r\u00e9seau utilis\u00e9 Utilisez la m\u00eame commande pour obtenir votre adresse IP A pr\u00e9sent nous souhaitons modifier l'adresse IP de l'interface r\u00e9seau utilis\u00e9, pour ce faire nous utiliserons la commande ifconfig eth0 nouvelle-adresse , la nouvelle adresse \u00e9tant l'adresse de l'ordinateur correspondant \u00e0 la salle et au b\u00e2timent donn\u00e9e par le gestionnaire r\u00e9seau. Au lyc\u00e9e Rascol, les adresses IP des postes informatiques sont configur\u00e9es de cette mani\u00e8re : 10.bbb.ccc.ddd bbb : B\u00e2timent (si b\u00e2timent E : 5) ccc : Salle (si salle 007 : 7) ddd : Num\u00e9ro du PC Question D\u00e9sactivez l'interface r\u00e9seau o\u00f9 vous allez changer la configuration avec ifdown eth0 Utiliser la commande ifconfig pour changer l'adresse IP de l'ordinateur, en la mettant au format Rascol R\u00e9activez l'interface r\u00e9seau avec ifup eth0 Pour faire une configuration r\u00e9seau plus pouss\u00e9e, nous pouvons modifier le fichier /etc/network/interfaces , fichier de configuration pour le r\u00e9seau sur chaque distribution linux. Question Editez le fichier /etc/network/interfaces \u00e0 l'aide de nano pour obtenir la configuration suivante : adresse IP : Celle de Rascol configur\u00e9e pr\u00e9c\u00e9demment passerelle : 10.255.5.204 masque de sous r\u00e9seau : 255.0.0.0 serveur dns : Celui de Google Relancez ensuite la configuration des interfaces r\u00e9seau pour mettre \u00e0 jour vos changements : /etc/init.d/networking restart Pour vous aider nous donnons ci-dessous un fichier type de configuration r\u00e9seau Linux : auto lo eth0 iface lo inet loopback iface eth0 inet static address 192.168.0.42 netmask 255.255.255.0 gateway 192.195.0.1 dns-nameservers 192.0.2.71 4 - Les transferts r\u00e9seaux a - Commande ping Avant de transf\u00e9rer un document ou de se connecter \u00e0 un ordinateur distant, il faut v\u00e9rifier si celui-ci est pr\u00e9sent sur le r\u00e9seau. La commande ping en utilisant une requ\u00eate ICMP , le protocole va envoyer un paquet sur la cible, si la cible est accessible elle va r\u00e9pondre \u00e0 la requ\u00eate en envoyant un paquet \u00e0 l'\u00e9metteur. Question Utiliser la commande ping pour v\u00e9rifier l'accessibilit\u00e9 du site web de votre choix. Relevez le temps aller-retour (round trip time). Utilisez la m\u00eame commande sur l'adresse IP de votre voisin de TP. Relevez le temps aller-retour. b - Prendre la main \u00e0 distance avec ssh Le protocole ssh permet de se connecter de mani\u00e8re s\u00e9curis\u00e9e (transferts crypt\u00e9s) \u00e0 un ordinateur linux distant. Pour vous connecter \u00e0 votre machine \u00e0 distance vous devez installer un serveur ssh, le client install\u00e9 d'office permet juste de se connecter \u00e0 partir de votre machine \u00e0 une autre. Installez le paquet openssh-server La connexion \u00e0 ordinateur distant se fait en utilisant la commande : ssh nom_utilisateur_cible@adresse_ip_cible Question Connectez-vous en ssh \u00e0 l'ordinateur de votre voisin de TP Cr\u00e9ez sur son bureau un fichier robot.bak avec nano du contenu de votre choix. Demandez \u00e0 votre voisin si le fichier est bien sur son bureau.","title":"Activit\u00e9 : Linux et le r\u00e9seau"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#activite-linux-et-le-reseau","text":"","title":"Activit\u00e9 : Linux et le r\u00e9seau"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#1-creation-dun-nouvel-utilisateur","text":"La distribution en \"live USB\" cr\u00e9e un utilisateur \"xubuntu\" d'office sans mot de passe, pour une connexion \u00e0 distance sur votre machine vous aurez besoin de cr\u00e9er un nouvel utilisateur avec mot de passe. Pour cela il s'agit d'utiliser la commande : adduser , qui va cr\u00e9er un nouvel utilisateur avec possibilit\u00e9 de lui assigner un mot de passe, nom, pr\u00e9nom, adresse... Le site Ubuntu France, donne une explication compl\u00e8te de l'utilisation de cette commande allez y jeter un coup d'\u0153il : Ubuntu France tutoriel adduser \"Sandwich\" , by XKCD used under CC BY-NC 2.5 L'utilisateur cr\u00e9\u00e9 ne dispose des privil\u00e8ges root (super utilisateur, le sudo ), il faut donc l'ajouter \u00e0 la liste des sudoers , pour se faire suivez l'explication donn\u00e9e par le site : Ubuntu France tutoriel sudoers Question Utilisez la commande adduser pour cr\u00e9er un nouvel utilisateur de votre choix, d\u00e9finissez \u00e9galement un mot de passe. Rajoutez une ligne au fichier /etc/sudoers pour autoriser l'acc\u00e8s au privil\u00e8ges super utilisateur \u00e0 votre nouvel utilisateur : Nom_utilisateur ALL=(ALL:ALL) ALL Identifiez vous avec le nouvel utilisateur cr\u00e9\u00e9 avec su nom_nouvel_utilisateur","title":"1 - Cr\u00e9ation d'un nouvel utilisateur"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#2-le-gestionnaire-de-paquets","text":"Les applications d'un syst\u00e8me GNU/Linux sont g\u00e9r\u00e9es par un gestionnaire de paquet ( apt pour Debian et donc Ubuntu, yum pour Fedora et pacman pour Archlinux) pour installer une application, nous ne proc\u00e9dons pas comme sur Windows o\u00f9 il s'agit la plupart du temps d'aller r\u00e9cup\u00e9rer le fichier d'installation sur le site du fabricant, ou sur un site g\u00e9n\u00e9raliste \u00e0 la merci des virus et programmes publicitaires... Sur GNU Linux les applications sont dans des bases de donn\u00e9es appel\u00e9es repositories , chaque application est ainsi constamment maintenue \u00e0 jour, vous \u00eates donc certains d'installer la derni\u00e8re version et ce de mani\u00e8re fiable. Un gros avantage : la mise en jour de l'ensemble des applications du syst\u00e8me se fait d'un seul coup, gr\u00e2ce au gestionnaire de paquets. Avant d'installer quoi que ce soit sur la distribution il faut toujours mettre \u00e0 jour les repositories et ensuite mettre \u00e0 jour le syst\u00e8me . Pour ce faire nous utilisons la commande apt update puis apt upgrade Question Utilisez la commande apt update en mode super utilisateur pour mettre \u00e0 jour les bases de donn\u00e9es. Utilisez la commande apt upgrade en mode super utilisateur pour mettre \u00e0 jour le syst\u00e8me.","title":"2 - Le gestionnaire de paquets"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#3-la-configuration-reseau-sous-linux","text":"La commande ifconfig permet de visualiser la configuration r\u00e9seau de l'ordinateur, gr\u00e2ce \u00e0 elle nous pouvons obtenir des informations sur l'adresse IP, l'adresse MAC ou encore l'interface r\u00e9seau utilis\u00e9e. Question Utilisez la commande ifconfig pour obtenir le nom de l'interface r\u00e9seau utilis\u00e9 Utilisez la m\u00eame commande pour obtenir votre adresse IP A pr\u00e9sent nous souhaitons modifier l'adresse IP de l'interface r\u00e9seau utilis\u00e9, pour ce faire nous utiliserons la commande ifconfig eth0 nouvelle-adresse , la nouvelle adresse \u00e9tant l'adresse de l'ordinateur correspondant \u00e0 la salle et au b\u00e2timent donn\u00e9e par le gestionnaire r\u00e9seau. Au lyc\u00e9e Rascol, les adresses IP des postes informatiques sont configur\u00e9es de cette mani\u00e8re : 10.bbb.ccc.ddd bbb : B\u00e2timent (si b\u00e2timent E : 5) ccc : Salle (si salle 007 : 7) ddd : Num\u00e9ro du PC Question D\u00e9sactivez l'interface r\u00e9seau o\u00f9 vous allez changer la configuration avec ifdown eth0 Utiliser la commande ifconfig pour changer l'adresse IP de l'ordinateur, en la mettant au format Rascol R\u00e9activez l'interface r\u00e9seau avec ifup eth0 Pour faire une configuration r\u00e9seau plus pouss\u00e9e, nous pouvons modifier le fichier /etc/network/interfaces , fichier de configuration pour le r\u00e9seau sur chaque distribution linux. Question Editez le fichier /etc/network/interfaces \u00e0 l'aide de nano pour obtenir la configuration suivante : adresse IP : Celle de Rascol configur\u00e9e pr\u00e9c\u00e9demment passerelle : 10.255.5.204 masque de sous r\u00e9seau : 255.0.0.0 serveur dns : Celui de Google Relancez ensuite la configuration des interfaces r\u00e9seau pour mettre \u00e0 jour vos changements : /etc/init.d/networking restart Pour vous aider nous donnons ci-dessous un fichier type de configuration r\u00e9seau Linux : auto lo eth0 iface lo inet loopback iface eth0 inet static address 192.168.0.42 netmask 255.255.255.0 gateway 192.195.0.1 dns-nameservers 192.0.2.71","title":"3 - La configuration r\u00e9seau sous Linux"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#4-les-transferts-reseaux","text":"","title":"4 - Les transferts r\u00e9seaux"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#a-commande-ping","text":"Avant de transf\u00e9rer un document ou de se connecter \u00e0 un ordinateur distant, il faut v\u00e9rifier si celui-ci est pr\u00e9sent sur le r\u00e9seau. La commande ping en utilisant une requ\u00eate ICMP , le protocole va envoyer un paquet sur la cible, si la cible est accessible elle va r\u00e9pondre \u00e0 la requ\u00eate en envoyant un paquet \u00e0 l'\u00e9metteur. Question Utiliser la commande ping pour v\u00e9rifier l'accessibilit\u00e9 du site web de votre choix. Relevez le temps aller-retour (round trip time). Utilisez la m\u00eame commande sur l'adresse IP de votre voisin de TP. Relevez le temps aller-retour.","title":"a - Commande ping"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#b-prendre-la-main-a-distance-avec-ssh","text":"Le protocole ssh permet de se connecter de mani\u00e8re s\u00e9curis\u00e9e (transferts crypt\u00e9s) \u00e0 un ordinateur linux distant. Pour vous connecter \u00e0 votre machine \u00e0 distance vous devez installer un serveur ssh, le client install\u00e9 d'office permet juste de se connecter \u00e0 partir de votre machine \u00e0 une autre. Installez le paquet openssh-server La connexion \u00e0 ordinateur distant se fait en utilisant la commande : ssh nom_utilisateur_cible@adresse_ip_cible Question Connectez-vous en ssh \u00e0 l'ordinateur de votre voisin de TP Cr\u00e9ez sur son bureau un fichier robot.bak avec nano du contenu de votre choix. Demandez \u00e0 votre voisin si le fichier est bien sur son bureau.","title":"b - Prendre la main \u00e0 distance avec ssh"},{"location":"tsti2d/linux/ACT3-gerer_permissions/","text":"Activit\u00e9 : G\u00e9rer les permissions en environnement GNU-Linux Vous \u00eates technicien dans l'entreprise de service r\u00e9seau AlbiTech et un de vos client M.Turing fait appel \u00e0 vous pour la configuration d'un serveur linux, tournant sur une carte Raspberry Pi. Vous \u00e9tablissez ensemble le cahier des charges suivant : Cr\u00e9ation de 4 comptes utilisateurs et de 3 nouveaux groupes: Utilisateur Groupes Pass alan sudoers parents famille enigma grace sudoers parents famille hopper richard enfants famille stallman linus enfants famille torvalds Info Lorsque un utilisateur est cr\u00e9\u00e9 Linux cr\u00e9e automatiquement le groupe du m\u00eame nom. Cr\u00e9ation de r\u00e9pertoires : R\u00e9pertoire Propri\u00e9taire Groupe Droits /media/photos alan famille rwx rwx r-x /partage/cadeaux alan parents rwx rwx --- /partage/administratif alan parents rwx rwx --- /home/alan/TuringTest alan alan rwx rwx --- /home/grace/Cobol grace grace rwx rwx --- Transfert de fichiers dans les r\u00e9pertoires cr\u00e9\u00e9s, depuis un serveur web : Fichiers R\u00e9pertoire de destination administratif/* /partage/administratif photos/* /media/photos cobol/* /home/grace/Cobol turingtest/* /home/alan/TuringTest Pour t\u00e9l\u00e9charger les fichiers \u00e0 classer : wget https://rascolsin.fr/tsti2d/linux/ressources/files.zip Info Pour d\u00e9compresser l'archive .zip t\u00e9l\u00e9charg\u00e9e vous aurez besoin de t\u00e9l\u00e9charger l'utilitaire unzip : sudo apt install unzip #Pour d\u00e9compresser unzip archive.zip Bien v\u00e9rifier que les permissions des dossiers soient r\u00e9percut\u00e9es sur les fichiers. Question Cr\u00e9ez les utilisateurs Cr\u00e9ez les groupes Ajouter les utilisateurs aux groupes Cr\u00e9ez les r\u00e9pertoires T\u00e9l\u00e9chargez les fichiers et mettez les dans les bons r\u00e9pertoires Appliquez les permissions r\u00e9cursivement aux r\u00e9pertoires Appelez l'enseignant pour v\u00e9rifier","title":"Activit\u00e9 : G\u00e9rer les permissions en environnement GNU-Linux"},{"location":"tsti2d/linux/ACT3-gerer_permissions/#activite-gerer-les-permissions-en-environnement-gnu-linux","text":"Vous \u00eates technicien dans l'entreprise de service r\u00e9seau AlbiTech et un de vos client M.Turing fait appel \u00e0 vous pour la configuration d'un serveur linux, tournant sur une carte Raspberry Pi. Vous \u00e9tablissez ensemble le cahier des charges suivant : Cr\u00e9ation de 4 comptes utilisateurs et de 3 nouveaux groupes: Utilisateur Groupes Pass alan sudoers parents famille enigma grace sudoers parents famille hopper richard enfants famille stallman linus enfants famille torvalds Info Lorsque un utilisateur est cr\u00e9\u00e9 Linux cr\u00e9e automatiquement le groupe du m\u00eame nom. Cr\u00e9ation de r\u00e9pertoires : R\u00e9pertoire Propri\u00e9taire Groupe Droits /media/photos alan famille rwx rwx r-x /partage/cadeaux alan parents rwx rwx --- /partage/administratif alan parents rwx rwx --- /home/alan/TuringTest alan alan rwx rwx --- /home/grace/Cobol grace grace rwx rwx --- Transfert de fichiers dans les r\u00e9pertoires cr\u00e9\u00e9s, depuis un serveur web : Fichiers R\u00e9pertoire de destination administratif/* /partage/administratif photos/* /media/photos cobol/* /home/grace/Cobol turingtest/* /home/alan/TuringTest Pour t\u00e9l\u00e9charger les fichiers \u00e0 classer : wget https://rascolsin.fr/tsti2d/linux/ressources/files.zip Info Pour d\u00e9compresser l'archive .zip t\u00e9l\u00e9charg\u00e9e vous aurez besoin de t\u00e9l\u00e9charger l'utilitaire unzip : sudo apt install unzip #Pour d\u00e9compresser unzip archive.zip Bien v\u00e9rifier que les permissions des dossiers soient r\u00e9percut\u00e9es sur les fichiers. Question Cr\u00e9ez les utilisateurs Cr\u00e9ez les groupes Ajouter les utilisateurs aux groupes Cr\u00e9ez les r\u00e9pertoires T\u00e9l\u00e9chargez les fichiers et mettez les dans les bons r\u00e9pertoires Appliquez les permissions r\u00e9cursivement aux r\u00e9pertoires Appelez l'enseignant pour v\u00e9rifier","title":"Activit\u00e9 : G\u00e9rer les permissions en environnement GNU-Linux"},{"location":"tsti2d/linux/ACT4-Scripts_bash/","text":"Activit\u00e9 : \u00c9crire des scripts Bash Exercice 1 : Tables de multiplication Cr\u00e9ez un script Bash affichant la table de multiplication d'un nombre entier rentr\u00e9 par l'utilisateur. Le comportement devra \u00eatre le suivant : Question \u00c9crivez le script Bash en utilisant l'\u00e9diteur de votre choix. V\u00e9rifiez le fonctionnement en lan\u00e7ant le script et en le testant Appelez l'enseignant pour v\u00e9rifier Exercice 2 : Jeu deviner un nombre Cr\u00e9ez un jeu dans lequel l'ordinateur tire un nombre entre 2 valeurs donn\u00e9es en param\u00e8tres d'entr\u00e9e, puis propose \u00e0 l'utilisateur de deviner ce nombre en 5 essais. Si il n'y parvient pas mettez fin au script. Le comportement devra \u00eatre le suivant : Tirer un nombre al\u00e9atoire en Bash Pour cr\u00e9er un nombre al\u00e9atoire en Bash, il faut utiliser la fonction $RANDOM qui donne en retour un entier sign\u00e9, soit un nombre entre 0 et 32767. Pour borner ce nombre al\u00e9atoire entre 2 valeurs : [a;b] il faut utiliser la fonction modulo not\u00e9 % En Bash renvoyant le reste d'une division Euclidienne. En effet, le reste d'une division de x par y est toujours compris entre 0 et y (exclu) Exercice 3 : Script de backup Nous souhaitons r\u00e9aliser un script de backup fonctionnant \u00e0 l'aide de l'utilitaire rsync , la sauvegarde sera incr\u00e9mentale avec m\u00e9morisation des fichiers supprim\u00e9s. Nous donnons les \u00e9tapes suivantes : 1. Sauvegarde locale Dans un premier temps sauvegarder Documents dans Backup localement en utilisant l'arborescence suivante : /home | --Documents | ----Fichier1 | ----Fichier2 | ----Fichier3 | | --Backup | ----Courant | ----Trash Documents est le dossier dont le contenu est \u00e0 sauvegarder Backup est le dossier contenant la sauvegarde Courant est le clone de Documents Trash est une m\u00e9moire de tous les fichiers supprim\u00e9s Les options de l'utilitaire rsync \u00e0 utiliser pour r\u00e9aliser cette partie sont : -a Option d'archivage, active la r\u00e9cursivit\u00e9 et permet de conserver les permissions -u Option update, la synchronisation se produit seulement quand les fichiers de la sauvegarde sont plus anciens que les fichiers sauvegard\u00e9s --delete Option suppression, quand les fichiers sont supprim\u00e9s sur la source, ils sont \u00e9galement supprim\u00e9s sur la sauvegarde --backup Option sauvegarde, les fichiers supprim\u00e9s sont conserv\u00e9s --backup-dir=[chemin dossier trash] Fonctionne avec l'option pr\u00e9c\u00e9dente permet d'indiquer le chemin du dossier de sauvegarde --stats Avec cette option rsync renvoi les statistiques \u00e0 la fin de la r\u00e9alisation de la sauvegarde 2. Envoi de mail Nous souhaitons envoyer \u00e0 l'utilisateur le r\u00e9sultat du d\u00e9roulement de la sauvegarde, pour cela nous pouvons utiliser l'utilitaire ssmtp permettant d'envoyer des mails en ligne de commande. Cet utilitaire permet d'utiliser le service classique d'envoi de mail smtp fourni par votre fournisseur de mail, dans notre cas Gmail. Le site pihomeserver donne une explication tr\u00e8s d\u00e9taill\u00e9e sur l'utilisation de ssmtp pour envoyer un mail. 3. Sauvegarde \u00e0 distance Nous souhaitons \u00e0 pr\u00e9sent r\u00e9aliser les sauvegardes non plus sur site mais \u00e0 distance, pour cela param\u00e9trez votre r\u00e9pertoire de destination pour utiliser rsync avec ssh. Exemple de variable contenant le r\u00e9pertoire de destination param\u00e9tr\u00e9 pour une sauvegarde avec ssh : REPERTOIRE_DESTINATION = \"foo@192.168.1.2:/home/foo/Backup/Courant\"","title":"Activit\u00e9 : \u00c9crire des scripts Bash"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#activite-ecrire-des-scripts-bash","text":"","title":"Activit\u00e9 : \u00c9crire des scripts Bash"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#exercice-1-tables-de-multiplication","text":"Cr\u00e9ez un script Bash affichant la table de multiplication d'un nombre entier rentr\u00e9 par l'utilisateur. Le comportement devra \u00eatre le suivant : Question \u00c9crivez le script Bash en utilisant l'\u00e9diteur de votre choix. V\u00e9rifiez le fonctionnement en lan\u00e7ant le script et en le testant Appelez l'enseignant pour v\u00e9rifier","title":"Exercice 1 : Tables de multiplication"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#exercice-2-jeu-deviner-un-nombre","text":"Cr\u00e9ez un jeu dans lequel l'ordinateur tire un nombre entre 2 valeurs donn\u00e9es en param\u00e8tres d'entr\u00e9e, puis propose \u00e0 l'utilisateur de deviner ce nombre en 5 essais. Si il n'y parvient pas mettez fin au script. Le comportement devra \u00eatre le suivant : Tirer un nombre al\u00e9atoire en Bash Pour cr\u00e9er un nombre al\u00e9atoire en Bash, il faut utiliser la fonction $RANDOM qui donne en retour un entier sign\u00e9, soit un nombre entre 0 et 32767. Pour borner ce nombre al\u00e9atoire entre 2 valeurs : [a;b] il faut utiliser la fonction modulo not\u00e9 % En Bash renvoyant le reste d'une division Euclidienne. En effet, le reste d'une division de x par y est toujours compris entre 0 et y (exclu)","title":"Exercice 2 : Jeu deviner un nombre"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#exercice-3-script-de-backup","text":"Nous souhaitons r\u00e9aliser un script de backup fonctionnant \u00e0 l'aide de l'utilitaire rsync , la sauvegarde sera incr\u00e9mentale avec m\u00e9morisation des fichiers supprim\u00e9s. Nous donnons les \u00e9tapes suivantes :","title":"Exercice 3 : Script de backup"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#1-sauvegarde-locale","text":"Dans un premier temps sauvegarder Documents dans Backup localement en utilisant l'arborescence suivante : /home | --Documents | ----Fichier1 | ----Fichier2 | ----Fichier3 | | --Backup | ----Courant | ----Trash Documents est le dossier dont le contenu est \u00e0 sauvegarder Backup est le dossier contenant la sauvegarde Courant est le clone de Documents Trash est une m\u00e9moire de tous les fichiers supprim\u00e9s Les options de l'utilitaire rsync \u00e0 utiliser pour r\u00e9aliser cette partie sont : -a Option d'archivage, active la r\u00e9cursivit\u00e9 et permet de conserver les permissions -u Option update, la synchronisation se produit seulement quand les fichiers de la sauvegarde sont plus anciens que les fichiers sauvegard\u00e9s --delete Option suppression, quand les fichiers sont supprim\u00e9s sur la source, ils sont \u00e9galement supprim\u00e9s sur la sauvegarde --backup Option sauvegarde, les fichiers supprim\u00e9s sont conserv\u00e9s --backup-dir=[chemin dossier trash] Fonctionne avec l'option pr\u00e9c\u00e9dente permet d'indiquer le chemin du dossier de sauvegarde --stats Avec cette option rsync renvoi les statistiques \u00e0 la fin de la r\u00e9alisation de la sauvegarde","title":"1. Sauvegarde locale"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#2-envoi-de-mail","text":"Nous souhaitons envoyer \u00e0 l'utilisateur le r\u00e9sultat du d\u00e9roulement de la sauvegarde, pour cela nous pouvons utiliser l'utilitaire ssmtp permettant d'envoyer des mails en ligne de commande. Cet utilitaire permet d'utiliser le service classique d'envoi de mail smtp fourni par votre fournisseur de mail, dans notre cas Gmail. Le site pihomeserver donne une explication tr\u00e8s d\u00e9taill\u00e9e sur l'utilisation de ssmtp pour envoyer un mail.","title":"2. Envoi de mail"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#3-sauvegarde-a-distance","text":"Nous souhaitons \u00e0 pr\u00e9sent r\u00e9aliser les sauvegardes non plus sur site mais \u00e0 distance, pour cela param\u00e9trez votre r\u00e9pertoire de destination pour utiliser rsync avec ssh. Exemple de variable contenant le r\u00e9pertoire de destination param\u00e9tr\u00e9 pour une sauvegarde avec ssh : REPERTOIRE_DESTINATION = \"foo@192.168.1.2:/home/foo/Backup/Courant\"","title":"3. Sauvegarde \u00e0 distance"},{"location":"tsti2d/linux/DM-Capitales_game/","text":"DM de No\u00ebl : Jeu devine la capitale 1. \u00c9nonc\u00e9 Nous donnons ci-dessous un fichier contenant la liste des 196 pays reconnus par l'ONU dans le monde, ce fichier en langue Anglaise est organis\u00e9 de la mani\u00e8re suivante : Costa Rica -- San Jose Cote d ' Ivoire -- Yamoussoukro Croatia -- Zagreb Cuba -- Havana Chaque ligne comporte un pays suivi par sa capitale, les deux sont s\u00e9par\u00e9s par -- A t\u00e9l\u00e9charger ici : capitales.txt wget https://rascolsin.fr/tsti2d/linux/ressources/capitales.txt Le script que vous devez r\u00e9aliser, tire de mani\u00e8re al\u00e9atoire une ligne parmi les 196, affiche \u00e0 l'\u00e9cran le nom du pays et demande \u00e0 l'utilisateur de saisir la capitale correspondante. L'utilisateur a le droit \u00e0 5 tentatives, si les 5 tentatives sont infructueuses le programme met fin \u00e0 la partie. 2. Coup de pouce Pour r\u00e9aliser le script nous donnons ci-dessous quelques commandes qui peuvent vous permettre d'arriver \u00e0 une solution : Commande shuf L'utilitaire shuf permet de tirer de mani\u00e8re al\u00e9atoire une ou plusieurs lignes du fichier texte pass\u00e9 en param\u00e8tre : shuf -n 1 capitales.txt Cette commande va renvoyer une ligne (option -n 1 ) tir\u00e9e au sort depuis le fichier capitales.txt Commande awk L'utilitaire awk permet d'extraire une section de texte d'un fichier suivant un crit\u00e8re donn\u00e9, l'option -F permet de choisir un ou plusieurs caract\u00e8res de s\u00e9paration. Exemple d'utilisation pour s\u00e9parer 2 \u00e9l\u00e9ments d'une cha\u00eene de caract\u00e8res : couple = \"Romeo,Juliette\" Homme = \" $( echo $couple | awk -F \",\" '{print $1}' ) \" Femme = \" $( echo $couple | awk -F \",\" '{print $2}' ) \" Ici le caract\u00e8re de s\u00e9paration utilis\u00e9 est , nous param\u00e9trons donc -F\",\" . awk s\u00e9pare ensuite les termes, pour afficher le 1er donc Romeo dans notre exemple, il suffit d'ajouter '{print $1}'","title":"DM de No\u00ebl : Jeu devine la capitale"},{"location":"tsti2d/linux/DM-Capitales_game/#dm-de-noel-jeu-devine-la-capitale","text":"","title":"DM de No\u00ebl : Jeu devine la capitale"},{"location":"tsti2d/linux/DM-Capitales_game/#1-enonce","text":"Nous donnons ci-dessous un fichier contenant la liste des 196 pays reconnus par l'ONU dans le monde, ce fichier en langue Anglaise est organis\u00e9 de la mani\u00e8re suivante : Costa Rica -- San Jose Cote d ' Ivoire -- Yamoussoukro Croatia -- Zagreb Cuba -- Havana Chaque ligne comporte un pays suivi par sa capitale, les deux sont s\u00e9par\u00e9s par -- A t\u00e9l\u00e9charger ici : capitales.txt wget https://rascolsin.fr/tsti2d/linux/ressources/capitales.txt Le script que vous devez r\u00e9aliser, tire de mani\u00e8re al\u00e9atoire une ligne parmi les 196, affiche \u00e0 l'\u00e9cran le nom du pays et demande \u00e0 l'utilisateur de saisir la capitale correspondante. L'utilisateur a le droit \u00e0 5 tentatives, si les 5 tentatives sont infructueuses le programme met fin \u00e0 la partie.","title":"1. \u00c9nonc\u00e9"},{"location":"tsti2d/linux/DM-Capitales_game/#2-coup-de-pouce","text":"Pour r\u00e9aliser le script nous donnons ci-dessous quelques commandes qui peuvent vous permettre d'arriver \u00e0 une solution :","title":"2. Coup de pouce"},{"location":"tsti2d/linux/DM-Capitales_game/#commande-shuf","text":"L'utilitaire shuf permet de tirer de mani\u00e8re al\u00e9atoire une ou plusieurs lignes du fichier texte pass\u00e9 en param\u00e8tre : shuf -n 1 capitales.txt Cette commande va renvoyer une ligne (option -n 1 ) tir\u00e9e au sort depuis le fichier capitales.txt","title":"Commande shuf"},{"location":"tsti2d/linux/DM-Capitales_game/#commande-awk","text":"L'utilitaire awk permet d'extraire une section de texte d'un fichier suivant un crit\u00e8re donn\u00e9, l'option -F permet de choisir un ou plusieurs caract\u00e8res de s\u00e9paration. Exemple d'utilisation pour s\u00e9parer 2 \u00e9l\u00e9ments d'une cha\u00eene de caract\u00e8res : couple = \"Romeo,Juliette\" Homme = \" $( echo $couple | awk -F \",\" '{print $1}' ) \" Femme = \" $( echo $couple | awk -F \",\" '{print $2}' ) \" Ici le caract\u00e8re de s\u00e9paration utilis\u00e9 est , nous param\u00e9trons donc -F\",\" . awk s\u00e9pare ensuite les termes, pour afficher le 1er donc Romeo dans notre exemple, il suffit d'ajouter '{print $1}'","title":"Commande awk"},{"location":"tsti2d/linux/TODO/","text":"ACT4-Scripts_bash Renommage group\u00e9 de fichiers Sauvegarde de fichiers incr\u00e9mentiel avec poubelle et envoi de mail + logs Cr\u00e9ation page web affichage classement top 14 et derniers r\u00e9sultats Script de backup du raspberry pi avec dd Recherche du code postal en fonction du nom de la ville Deviner le nombre al\u00e9atoire choisi par la machine Deviner capitales de pays, inclus ouverture et lecture d'un fichier texte","title":"ACT4-Scripts_bash"},{"location":"tsti2d/linux/TODO/#act4-scripts_bash","text":"Renommage group\u00e9 de fichiers Sauvegarde de fichiers incr\u00e9mentiel avec poubelle et envoi de mail + logs Cr\u00e9ation page web affichage classement top 14 et derniers r\u00e9sultats Script de backup du raspberry pi avec dd Recherche du code postal en fonction du nom de la ville Deviner le nombre al\u00e9atoire choisi par la machine Deviner capitales de pays, inclus ouverture et lecture d'un fichier texte","title":"ACT4-Scripts_bash"},{"location":"tsti2d/orientation/","text":"Orientation apr\u00e8s un bac STI2D SIN I. Je souhaite faire des poursuites d'\u00e9tudes courtes 1. Les Brevets de Technicien Sup\u00e9rieur Forment des Techniciens : BAC+2 Dipl\u00f4mes professionnels : comp\u00e9tences pour travailler imm\u00e9diatement Possibilit\u00e9s de poursuites d'\u00e9tudes vers licence Pro ou pr\u00e9pa ATS Au lyc\u00e9e Rascol : 8 BTS et une classe ATS 2. Les BTS au lyc\u00e9e Rascol BTS SNEC : Syst\u00e8mes Num\u00e9riques \u00c9lectroniques et Communications BTS SNIR : Syst\u00e8mes Num\u00e9riques Informatique et R\u00e9seaux BTS ET : \u00c9lectrotechnique BTS CPI : Conception de Produits Industriels BTS CRSA : Conception et R\u00e9alisation de Syst\u00e8mes Automatiques BTS CPRP : Conception des Processus de R\u00e9alisation de Produits BTS CG : Comptabilit\u00e9 et gestion BTS TC : Technico-Commercial 3. BTS ext\u00e9rieurs au lyc\u00e9e BTS SIO : Services Informatiques aux Organisations, Lyc\u00e9e Ozenne, Toulouse Info Le BTS SIO propose 2 parcours : SISR : Solutions d'Infrastructure, syst\u00e8mes et R\u00e9seaux SLAM : Solutions Logicielles et Applications M\u00e9tiers BTS Audiovisuel : Lyc\u00e9e des Ar\u00e8nes, Toulouse Info Le BTS Audiovisuel propose 4 sp\u00e9cialit\u00e9s : BTS Audiovisuel option Gestion de la Production BTS Audiovisuel option Montage et Post-production BTS Audiovisuel option M\u00e9tiers du Son BTS Audiovisuel option M\u00e9tiers de l'Image Warning Les BTS audiovisuel sont tr\u00e8s demand\u00e9s partout en France, seuls les \u00e9l\u00e8ves disposant d'un excellent dossier en classe de 1ere et de terminale pourront esp\u00e9rer y obtenir une place. Une exp\u00e9rience dans le domaine audiovisuel (fabrication de courts-m\u00e9trages, stages ... ) est aussi appr\u00e9ci\u00e9e. BTS A\u00e9ronautique : Lyc\u00e9e Saint-Exup\u00e9ry, Blagnac BTS Fluides \u00c9nergies Domotique : Lyc\u00e9e Charles de Gaulle, Muret Info Le BTS Fluides \u00c9nergies Domotique propose 3 sp\u00e9cialit\u00e9s : * Option A g\u00e9nie climatique et fluidique< * Option B froid et conditionnement d'air * Option C domotique et b\u00e2timents communicants BTS Assistance technique d'ing\u00e9nieur : Lyc\u00e9e D\u00e9odat de S\u00e9verac, Toulouse 4. Le Dipl\u00f4me Universitaire de Technologie Forment des Techniciens : BAC+2 Dipl\u00f4mes professionnels : comp\u00e9tences pour travailler imm\u00e9diatement, les DUT sont tr\u00e8s recherch\u00e9s Possibilit\u00e9s de poursuites d'\u00e9tudes vers licence Pro ou g\u00e9n\u00e9rale, pr\u00e9pa ATS ou encore \u00e9coles d'ing\u00e9nieurs 5. Les DUT apr\u00e8s un bac STI2D SIN DUT GEII (G\u00e9nie \u00c9lectrique et Informatique Industrielle) : Universit\u00e9 Paul Sabatier, Toulouse Ponsan Universit\u00e9 Paul Sabatier, Tarbes DUT Informatique : Universit\u00e9 Paul Sabatier, Toulouse Rangueil Universit\u00e9 Paul Sabatier, Rodez Universit\u00e9 Jean Jaur\u00e8s, Blagnac DUT R\u00e9seaux et t\u00e9l\u00e9coms : Universit\u00e9 Jean Jaur\u00e8s, Blagnac DUT MMI (M\u00e9tiers du Multim\u00e9dia et de l'Informatique) : Universit\u00e9 Paul Sabatier, Castres Universit\u00e9 Paul Sabatier, Tarbes 6. Quelques statistiques sur les DUT GEII Informatique MMI R\u00e9seaux et T\u00e9l\u00e9coms II. Je souhaite faire des poursuites d'\u00e9tudes longues 1. Les classes pr\u00e9paratoires apr\u00e8s un bac STI2D Au lyc\u00e9e Rascol Pr\u00e9pa TSI (Technologie et Sciences Industrielles) : r\u00e9serv\u00e9e aux STI2D Pr\u00e9pa ATS (Adaptation Technicien Sup\u00e9rieur) : apr\u00e8s DUT ou BTS 2. \u00c9coles d'ing\u00e9nieurs apr\u00e8s un bac STI2D G\u00e9n\u00e9ralistes INSA parcours STI2D : campus de Toulouse Info Acceptation sur dossier et entretien : Classes pr\u00e9paratoires int\u00e9gr\u00e9es durant 2 ans EI CESI : campus de Toulouse Info Classes pr\u00e9paratoires int\u00e9gr\u00e9es durant 2 ans \u00c9cole priv\u00e9e reconnue par la CTI : frais annuels de 5 500 \u20ac Informatique ISIS Informatique et Syst\u00e8mes d'Information pour la Sant\u00e9 : campus de Castres. Info \u00c9cole en partenariat avec l'universit\u00e9 Champollion d'Albi ainsi que le r\u00e9seau INSA, forme des ing\u00e9nieurs sur 5 ans avec classe pr\u00e9paratoire int\u00e9gr\u00e9e. Reconnue par la CTI CESI EXIA : campus de Toulouse Info Classes pr\u00e9paratoires int\u00e9gr\u00e9es durant 2 ans \u00c9cole priv\u00e9e reconnue par la CTI SupInfo : campus de Toulouse Info \u00c9cole priv\u00e9e : 1ere \u00e0 3\u00e8me ann\u00e9e : 900\u20ac/an puis 2900\u20ac/an jusqu'\u00e0 la 5\u00e8me Dipl\u00f4me non reconnu par la CTI Epitech : campus de Toulouse Info \u00c9cole priv\u00e9e : 1ere et 2\u00e8me ann\u00e9e : 6400\u20ac/an puis 8300\u20ac/an jusqu'\u00e0 la 5\u00e8me Dipl\u00f4me non reconnu par la CTI 3. Les Universit\u00e9s Licence informatique : Albi, Universit\u00e9 Champollion : Info Une des meilleures facs Fran\u00e7aises en terme de r\u00e9ussite en licence : Article de \"L'\u00c9tudiant\" Toulouse, Universit\u00e9 Paul Sabatier Licence EEA : Albi, Universit\u00e9 Champollion Toulouse, Universit\u00e9 Paul Sabatier Licence STAPS : Toulouse, Universit\u00e9 Paul Sabatier","title":"Orientation apr\u00e8s un bac STI2D SIN"},{"location":"tsti2d/orientation/#orientation-apres-un-bac-sti2d-sin","text":"","title":"Orientation apr\u00e8s un bac STI2D SIN"},{"location":"tsti2d/orientation/#i-je-souhaite-faire-des-poursuites-detudes-courtes","text":"","title":"I. Je souhaite faire des poursuites d'\u00e9tudes courtes"},{"location":"tsti2d/orientation/#1-les-brevets-de-technicien-superieur","text":"Forment des Techniciens : BAC+2 Dipl\u00f4mes professionnels : comp\u00e9tences pour travailler imm\u00e9diatement Possibilit\u00e9s de poursuites d'\u00e9tudes vers licence Pro ou pr\u00e9pa ATS Au lyc\u00e9e Rascol : 8 BTS et une classe ATS","title":"1. Les Brevets de Technicien Sup\u00e9rieur"},{"location":"tsti2d/orientation/#2-les-bts-au-lycee-rascol","text":"BTS SNEC : Syst\u00e8mes Num\u00e9riques \u00c9lectroniques et Communications BTS SNIR : Syst\u00e8mes Num\u00e9riques Informatique et R\u00e9seaux BTS ET : \u00c9lectrotechnique BTS CPI : Conception de Produits Industriels BTS CRSA : Conception et R\u00e9alisation de Syst\u00e8mes Automatiques BTS CPRP : Conception des Processus de R\u00e9alisation de Produits BTS CG : Comptabilit\u00e9 et gestion BTS TC : Technico-Commercial","title":"2. Les BTS au lyc\u00e9e Rascol"},{"location":"tsti2d/orientation/#3-bts-exterieurs-au-lycee","text":"BTS SIO : Services Informatiques aux Organisations, Lyc\u00e9e Ozenne, Toulouse Info Le BTS SIO propose 2 parcours : SISR : Solutions d'Infrastructure, syst\u00e8mes et R\u00e9seaux SLAM : Solutions Logicielles et Applications M\u00e9tiers BTS Audiovisuel : Lyc\u00e9e des Ar\u00e8nes, Toulouse Info Le BTS Audiovisuel propose 4 sp\u00e9cialit\u00e9s : BTS Audiovisuel option Gestion de la Production BTS Audiovisuel option Montage et Post-production BTS Audiovisuel option M\u00e9tiers du Son BTS Audiovisuel option M\u00e9tiers de l'Image Warning Les BTS audiovisuel sont tr\u00e8s demand\u00e9s partout en France, seuls les \u00e9l\u00e8ves disposant d'un excellent dossier en classe de 1ere et de terminale pourront esp\u00e9rer y obtenir une place. Une exp\u00e9rience dans le domaine audiovisuel (fabrication de courts-m\u00e9trages, stages ... ) est aussi appr\u00e9ci\u00e9e. BTS A\u00e9ronautique : Lyc\u00e9e Saint-Exup\u00e9ry, Blagnac BTS Fluides \u00c9nergies Domotique : Lyc\u00e9e Charles de Gaulle, Muret Info Le BTS Fluides \u00c9nergies Domotique propose 3 sp\u00e9cialit\u00e9s : * Option A g\u00e9nie climatique et fluidique< * Option B froid et conditionnement d'air * Option C domotique et b\u00e2timents communicants BTS Assistance technique d'ing\u00e9nieur : Lyc\u00e9e D\u00e9odat de S\u00e9verac, Toulouse","title":"3. BTS ext\u00e9rieurs au lyc\u00e9e"},{"location":"tsti2d/orientation/#4-le-diplome-universitaire-de-technologie","text":"Forment des Techniciens : BAC+2 Dipl\u00f4mes professionnels : comp\u00e9tences pour travailler imm\u00e9diatement, les DUT sont tr\u00e8s recherch\u00e9s Possibilit\u00e9s de poursuites d'\u00e9tudes vers licence Pro ou g\u00e9n\u00e9rale, pr\u00e9pa ATS ou encore \u00e9coles d'ing\u00e9nieurs","title":"4. Le Dipl\u00f4me Universitaire de Technologie"},{"location":"tsti2d/orientation/#5-les-dut-apres-un-bac-sti2d-sin","text":"DUT GEII (G\u00e9nie \u00c9lectrique et Informatique Industrielle) : Universit\u00e9 Paul Sabatier, Toulouse Ponsan Universit\u00e9 Paul Sabatier, Tarbes DUT Informatique : Universit\u00e9 Paul Sabatier, Toulouse Rangueil Universit\u00e9 Paul Sabatier, Rodez Universit\u00e9 Jean Jaur\u00e8s, Blagnac DUT R\u00e9seaux et t\u00e9l\u00e9coms : Universit\u00e9 Jean Jaur\u00e8s, Blagnac DUT MMI (M\u00e9tiers du Multim\u00e9dia et de l'Informatique) : Universit\u00e9 Paul Sabatier, Castres Universit\u00e9 Paul Sabatier, Tarbes","title":"5. Les DUT apr\u00e8s un bac STI2D SIN"},{"location":"tsti2d/orientation/#6-quelques-statistiques-sur-les-dut","text":"GEII Informatique MMI R\u00e9seaux et T\u00e9l\u00e9coms","title":"6. Quelques statistiques sur les DUT"},{"location":"tsti2d/orientation/#ii-je-souhaite-faire-des-poursuites-detudes-longues","text":"","title":"II. Je souhaite faire des poursuites d'\u00e9tudes longues"},{"location":"tsti2d/orientation/#1-les-classes-preparatoires-apres-un-bac-sti2d","text":"","title":"1. Les classes pr\u00e9paratoires apr\u00e8s un bac STI2D"},{"location":"tsti2d/orientation/#au-lycee-rascol","text":"Pr\u00e9pa TSI (Technologie et Sciences Industrielles) : r\u00e9serv\u00e9e aux STI2D Pr\u00e9pa ATS (Adaptation Technicien Sup\u00e9rieur) : apr\u00e8s DUT ou BTS","title":"Au lyc\u00e9e Rascol"},{"location":"tsti2d/orientation/#2-ecoles-dingenieurs-apres-un-bac-sti2d","text":"","title":"2. \u00c9coles d'ing\u00e9nieurs apr\u00e8s un bac STI2D"},{"location":"tsti2d/orientation/#generalistes","text":"INSA parcours STI2D : campus de Toulouse Info Acceptation sur dossier et entretien : Classes pr\u00e9paratoires int\u00e9gr\u00e9es durant 2 ans EI CESI : campus de Toulouse Info Classes pr\u00e9paratoires int\u00e9gr\u00e9es durant 2 ans \u00c9cole priv\u00e9e reconnue par la CTI : frais annuels de 5 500 \u20ac","title":"G\u00e9n\u00e9ralistes"},{"location":"tsti2d/orientation/#informatique","text":"ISIS Informatique et Syst\u00e8mes d'Information pour la Sant\u00e9 : campus de Castres. Info \u00c9cole en partenariat avec l'universit\u00e9 Champollion d'Albi ainsi que le r\u00e9seau INSA, forme des ing\u00e9nieurs sur 5 ans avec classe pr\u00e9paratoire int\u00e9gr\u00e9e. Reconnue par la CTI CESI EXIA : campus de Toulouse Info Classes pr\u00e9paratoires int\u00e9gr\u00e9es durant 2 ans \u00c9cole priv\u00e9e reconnue par la CTI SupInfo : campus de Toulouse Info \u00c9cole priv\u00e9e : 1ere \u00e0 3\u00e8me ann\u00e9e : 900\u20ac/an puis 2900\u20ac/an jusqu'\u00e0 la 5\u00e8me Dipl\u00f4me non reconnu par la CTI Epitech : campus de Toulouse Info \u00c9cole priv\u00e9e : 1ere et 2\u00e8me ann\u00e9e : 6400\u20ac/an puis 8300\u20ac/an jusqu'\u00e0 la 5\u00e8me Dipl\u00f4me non reconnu par la CTI","title":"Informatique"},{"location":"tsti2d/orientation/#3-les-universites","text":"Licence informatique : Albi, Universit\u00e9 Champollion : Info Une des meilleures facs Fran\u00e7aises en terme de r\u00e9ussite en licence : Article de \"L'\u00c9tudiant\" Toulouse, Universit\u00e9 Paul Sabatier Licence EEA : Albi, Universit\u00e9 Champollion Toulouse, Universit\u00e9 Paul Sabatier Licence STAPS : Toulouse, Universit\u00e9 Paul Sabatier","title":"3. Les Universit\u00e9s"},{"location":"tutos/","text":"Tutoriels Arduino Arduino et les Attiny Nous expliquons dans ce post comment programmer en environnement Arduino la famille de microcontr\u00f4leurs Attiny de chez Atmel. Les Attiny sont de petits microcontr\u00f4leurs (de 6 \u00e0 28 pattes disposant de peu de ressources mais sont tr\u00e8s appr\u00e9ci\u00e9s pour les applications d'\u00e9lectronique embarqu\u00e9e o\u00f9 le gain de place et la faible consommation ont une importance capitale. Utiliser le module NFC de Seeed Grove L'utilisation du module Grove NFC de Seeed Studio avec une carte Arduino demande quelques ajustements, nous en donnons les d\u00e9tails dans ce post. Linux Partager un fichier sur PasteBin en ligne de commande Vous \u00eates connect\u00e9 sur un raspberry pi sans l'interface graphique et vous voulez partager un code ? Une solution simple consiste \u00e0 mettre ce code sur un service de partage de code comme PasteBin ou Gist.","title":"Tutoriels"},{"location":"tutos/#tutoriels","text":"","title":"Tutoriels"},{"location":"tutos/#arduino","text":"","title":"Arduino"},{"location":"tutos/#arduino-et-les-attiny","text":"Nous expliquons dans ce post comment programmer en environnement Arduino la famille de microcontr\u00f4leurs Attiny de chez Atmel. Les Attiny sont de petits microcontr\u00f4leurs (de 6 \u00e0 28 pattes disposant de peu de ressources mais sont tr\u00e8s appr\u00e9ci\u00e9s pour les applications d'\u00e9lectronique embarqu\u00e9e o\u00f9 le gain de place et la faible consommation ont une importance capitale.","title":"Arduino et les Attiny"},{"location":"tutos/#utiliser-le-module-nfc-de-seeed-grove","text":"L'utilisation du module Grove NFC de Seeed Studio avec une carte Arduino demande quelques ajustements, nous en donnons les d\u00e9tails dans ce post.","title":"Utiliser le module NFC de Seeed Grove"},{"location":"tutos/#linux","text":"","title":"Linux"},{"location":"tutos/#partager-un-fichier-sur-pastebin-en-ligne-de-commande","text":"Vous \u00eates connect\u00e9 sur un raspberry pi sans l'interface graphique et vous voulez partager un code ? Une solution simple consiste \u00e0 mettre ce code sur un service de partage de code comme PasteBin ou Gist.","title":"Partager un fichier sur PasteBin en ligne de commande"},{"location":"tutos/term_pastebin/","text":"Partager un fichier sur PasteBin en ligne de commande Vous \u00eates connect\u00e9 sur un raspberry pi sans l'interface graphique et vous voulez partager un code ? Une solution simple consiste \u00e0 mettre ce code sur un service de partage de code comme PasteBin ou Gist. Pour ce faire t\u00e9l\u00e9chargez l'utilitaire pastebinit : sudo apt install pastebinit La commande pastebinit -l affiche tous les services en ligne disponibles pour le partage : $ pastebinit -l Supported pastebins: - cxg.de - fpaste.org - p.defau.lt - paste.debian.net - paste.drizzle.org - paste.kde.org - paste.openstack.org - paste.pocoo.org - paste.pound-python.org - paste.ubuntu.com - paste.ubuntu.org.cn - paste2.org - pastebin.com - pastie.org - pb.daviey.com - slexy.org - sprunge.us Par exemple pour partager un script appel\u00e9 foobar.sh avec le service pastebin.com il suffit de taper : $ pastebinit -i foobar.sh -b pastebin.com La commande vous retourne le lien de partage de votre code !","title":"Partager un fichier sur PasteBin en ligne de commande"},{"location":"tutos/term_pastebin/#partager-un-fichier-sur-pastebin-en-ligne-de-commande","text":"Vous \u00eates connect\u00e9 sur un raspberry pi sans l'interface graphique et vous voulez partager un code ? Une solution simple consiste \u00e0 mettre ce code sur un service de partage de code comme PasteBin ou Gist. Pour ce faire t\u00e9l\u00e9chargez l'utilitaire pastebinit : sudo apt install pastebinit La commande pastebinit -l affiche tous les services en ligne disponibles pour le partage : $ pastebinit -l Supported pastebins: - cxg.de - fpaste.org - p.defau.lt - paste.debian.net - paste.drizzle.org - paste.kde.org - paste.openstack.org - paste.pocoo.org - paste.pound-python.org - paste.ubuntu.com - paste.ubuntu.org.cn - paste2.org - pastebin.com - pastie.org - pb.daviey.com - slexy.org - sprunge.us Par exemple pour partager un script appel\u00e9 foobar.sh avec le service pastebin.com il suffit de taper : $ pastebinit -i foobar.sh -b pastebin.com La commande vous retourne le lien de partage de votre code !","title":"Partager un fichier sur PasteBin en ligne de commande"},{"location":"tutos/arduino_attiny/arduino_attiny/","text":"Utilisation des microcontr\u00f4leurs Attiny avec Arduino Nous expliquons dans ce post comment programmer en environnement Arduino la famille de microcontr\u00f4leurs Attiny de chez Atmel. Les Attiny sont de petits microcontr\u00f4leurs (de 6 \u00e0 28 pattes) disposant de peu de ressources mais sont tr\u00e8s appr\u00e9ci\u00e9s pour les applications d'\u00e9lectronique embarqu\u00e9e o\u00f9 le gain de place et la faible consommation ont une importance capitale. L'Attiny 45 L' Attiny 45 est un microcontr\u00f4leur de 8 pattes disposant d'une m\u00e9moire de 4ko et d'une fmax de 20Mhz . Nous donnons ci-dessous le brochage et le sch\u00e9ma structurel issus de la datasheet du fabricant : Utiliser une carte Arduino comme programmateur Deux possibilit\u00e9s pour programmer les puces Attiny en environnement Arduino : Utiliser un programmateur d\u00e9di\u00e9 type Tiny programmer Utiliser une carte Arduino (UNO ou Mega) comme programmateur Nous traiterons ici que le deuxi\u00e8me cas \u00e0 savoir la programmation d'un Attiny 45 \u00e0 l'aide d'un Arduino UNO : Dans un premier temps il faut t\u00e9l\u00e9verser sur l' Arduino UNO le code ArduinoISP Ensuite, il faut rajouter l'URL d'un repository Github permettant d'acc\u00e9der au t\u00e9l\u00e9versement du code sur les puces Attiny, au gestionnaire de cartes suppl\u00e9mentaires : URL \u00e0 rajouter : https://raw.githubusercontent.com/damellis/attiny/ide-1.6.x-boards-manager/package_damellis_attiny_index.json T\u00e9l\u00e9charger avec le gestionnaire de cartes la biblioth\u00e8que attiny : Vous \u00eates fin pr\u00eats ! Il suffit maintenant de c\u00e2bler l'Arduino UNO servant de programmateur au microcontr\u00f4leur Attiny. Programmer un Attiny 45 avec l'IDE Arduino Une fois les \u00e9tapes pr\u00e9c\u00e9dentes effectu\u00e9es, vous \u00eates en mesure de t\u00e9leverser un code Arduino sur un Attiny 45 gr\u00e2ce \u00e0 l'IDE. Prenons comme un exemple un code simple : nous faisons clignoter une led par intervalle de 500 ms. const int pin_led 0 ; //Constante contenant le num\u00e9ro de la pin o\u00f9 la led est reli\u00e9e : 0 void setup () { pinMode ( pin_led , OUTPUT ); //Mise en sortie de la pin 0 } void loop () { digitalWrite ( pin_led , HIGH ); //Allumage de la led delay ( 500 ); // Attente de 500 ms digitalWrite ( pin_led , LOW ); //Extinction de la led delay ( 500 ); // Attente de 500 ms } Pour t\u00e9l\u00e9verser le code sur l'Attiny 45 : Choisir dans Outils \u2192 Type de carte \u2192 Attiny Choisir dans Outils \u2192 Processeur \u2192 Attiny 45 Chosir le port de l'Arduino UNO dans Outils \u2192 Port Choisir le programmateur Arduino as ISP dans Outils \u2192 Programmateur Appuyez sur T\u00e9l\u00e9verser ! Nous obtenons alors le fonctionnement suivant de l'Attiny 45 : Appuyez sur \"Start Simulation\"","title":"Utilisation des microcontr\u00f4leurs Attiny avec Arduino"},{"location":"tutos/arduino_attiny/arduino_attiny/#utilisation-des-microcontroleurs-attiny-avec-arduino","text":"Nous expliquons dans ce post comment programmer en environnement Arduino la famille de microcontr\u00f4leurs Attiny de chez Atmel. Les Attiny sont de petits microcontr\u00f4leurs (de 6 \u00e0 28 pattes) disposant de peu de ressources mais sont tr\u00e8s appr\u00e9ci\u00e9s pour les applications d'\u00e9lectronique embarqu\u00e9e o\u00f9 le gain de place et la faible consommation ont une importance capitale.","title":"Utilisation des microcontr\u00f4leurs Attiny avec Arduino"},{"location":"tutos/arduino_attiny/arduino_attiny/#lattiny-45","text":"L' Attiny 45 est un microcontr\u00f4leur de 8 pattes disposant d'une m\u00e9moire de 4ko et d'une fmax de 20Mhz . Nous donnons ci-dessous le brochage et le sch\u00e9ma structurel issus de la datasheet du fabricant :","title":"L'Attiny 45"},{"location":"tutos/arduino_attiny/arduino_attiny/#utiliser-une-carte-arduino-comme-programmateur","text":"Deux possibilit\u00e9s pour programmer les puces Attiny en environnement Arduino : Utiliser un programmateur d\u00e9di\u00e9 type Tiny programmer Utiliser une carte Arduino (UNO ou Mega) comme programmateur Nous traiterons ici que le deuxi\u00e8me cas \u00e0 savoir la programmation d'un Attiny 45 \u00e0 l'aide d'un Arduino UNO : Dans un premier temps il faut t\u00e9l\u00e9verser sur l' Arduino UNO le code ArduinoISP Ensuite, il faut rajouter l'URL d'un repository Github permettant d'acc\u00e9der au t\u00e9l\u00e9versement du code sur les puces Attiny, au gestionnaire de cartes suppl\u00e9mentaires : URL \u00e0 rajouter : https://raw.githubusercontent.com/damellis/attiny/ide-1.6.x-boards-manager/package_damellis_attiny_index.json T\u00e9l\u00e9charger avec le gestionnaire de cartes la biblioth\u00e8que attiny : Vous \u00eates fin pr\u00eats ! Il suffit maintenant de c\u00e2bler l'Arduino UNO servant de programmateur au microcontr\u00f4leur Attiny.","title":"Utiliser une carte Arduino comme programmateur"},{"location":"tutos/arduino_attiny/arduino_attiny/#programmer-un-attiny-45-avec-lide-arduino","text":"Une fois les \u00e9tapes pr\u00e9c\u00e9dentes effectu\u00e9es, vous \u00eates en mesure de t\u00e9leverser un code Arduino sur un Attiny 45 gr\u00e2ce \u00e0 l'IDE. Prenons comme un exemple un code simple : nous faisons clignoter une led par intervalle de 500 ms. const int pin_led 0 ; //Constante contenant le num\u00e9ro de la pin o\u00f9 la led est reli\u00e9e : 0 void setup () { pinMode ( pin_led , OUTPUT ); //Mise en sortie de la pin 0 } void loop () { digitalWrite ( pin_led , HIGH ); //Allumage de la led delay ( 500 ); // Attente de 500 ms digitalWrite ( pin_led , LOW ); //Extinction de la led delay ( 500 ); // Attente de 500 ms } Pour t\u00e9l\u00e9verser le code sur l'Attiny 45 : Choisir dans Outils \u2192 Type de carte \u2192 Attiny Choisir dans Outils \u2192 Processeur \u2192 Attiny 45 Chosir le port de l'Arduino UNO dans Outils \u2192 Port Choisir le programmateur Arduino as ISP dans Outils \u2192 Programmateur Appuyez sur T\u00e9l\u00e9verser ! Nous obtenons alors le fonctionnement suivant de l'Attiny 45 : Appuyez sur \"Start Simulation\"","title":"Programmer un Attiny 45 avec l'IDE Arduino"},{"location":"tutos/arduino_nfc/arduino_NFC/","text":"Le module Grove NFC avec Arduino L'utilisation du module Grove NFC de Seeed Studio avec une carte Arduino demande quelques ajustements, nous en donnons les d\u00e9tails dans ce post. Ajout des biblioth\u00e8ques Tout d'abord, nous donnons ci-dessous l'ensemble des biblioth\u00e8ques n\u00e9cessaires au fonctionnement du module. Elles sont identiques avec celles propos\u00e9es par le fabriquant \u00e0 l'exception de NDEF o\u00f9 un changement a \u00e9t\u00e9 effectu\u00e9 , sans cela l'Arduino \u00e9tait incapable de lire n'importe quelle carte. Biblioth\u00e8ques en archive .zip : D\u00e9compressez cette archive dans votre dossier Documents/Arduino/librairies/ , puis red\u00e9marrez l'IDE Arduino. Utilisation du module Le code ci-dessous permet de renvoyer l'UID d'une carte NFC sur le moniteur s\u00e9rie d\u00e8s que celle-ci est pr\u00e9sente. // Utilisation du module Grove NFC avec une carte Arduino MEGA #include \"PN532_HSU.h\" #include \"PN532.h\" #include \"NfcAdapter.h\" PN532_HSU interface ( Serial1 ); //Connexion du module Grove NFC sur le serial 1 NfcAdapter nfc = NfcAdapter ( interface ); String UID_scan ; /**************************************************************************************************/ void setup () { Serial . begin ( 9600 ); Serial . println ( \"NDEF Reader\" ); nfc . begin (); //Initialisation du module } void loop () { if ( nfc . tagPresent ()) { NfcTag tag = nfc . read (); //Lecture de la carte NFC UID_scan = tag . getUidString (); //Acquisition du code UID de la carte Serial . println ( UID_scan ); //Renvoi sur le moniteur du code UID } delay ( 500 ); } Ce nouveau code va faire de la m\u00eame mani\u00e8re, une acquisition du code UID d'une carte NFC, et va ensuite comparer le r\u00e9sultat avec un code rentr\u00e9 en constante, si les deux correspondent, nous renvoyons AUTORISATION sur le moniteur s\u00e9rie, dans le cas contraire nous affichons INTERDIT . // Utilisation du module Grove NFC avec une carte Arduino MEGA #include \"PN532_HSU.h\" #include \"PN532.h\" #include \"NfcAdapter.h\" PN532_HSU interface ( Serial1 ); //Connexion du module Grove NFC sur le serial 1 NfcAdapter nfc = NfcAdapter ( interface ); String const myUID = \"7A F3 96 34\" ; // D\u00e9finition du code UID qui garantie l'autorisation String scannedUID ; /**************************************************************************************************/ void setup () { Serial . begin ( 115200 ); Serial . println ( \"NDEF Reader\" ); nfc . begin (); } /**************************************************************************************************/ void loop () { if ( nfc . tagPresent ()) { NfcTag tag = nfc . read (); //Lecture de la carte NFC scannedUID = tag . getUidString (); //Acquisition du code UID de la carte Serial . println ( scannedUID ); //Renvoi sur le moniteur du code UID if ( myUID . compareTo ( scannedUID ) == 0 ) //Comparaison entre les deux cha\u00eenes de caract\u00e8res Serial . println ( \"AUTORISATION\" ); // Dans le cas o\u00f9 elles sont identiques else Serial . println ( \"INTERDIT\" ); //Dans le cas o\u00f9 elles diff\u00e8rent } delay ( 500 ); }","title":"Le module Grove NFC avec Arduino"},{"location":"tutos/arduino_nfc/arduino_NFC/#le-module-grove-nfc-avec-arduino","text":"L'utilisation du module Grove NFC de Seeed Studio avec une carte Arduino demande quelques ajustements, nous en donnons les d\u00e9tails dans ce post.","title":"Le module Grove NFC avec Arduino"},{"location":"tutos/arduino_nfc/arduino_NFC/#ajout-des-bibliotheques","text":"Tout d'abord, nous donnons ci-dessous l'ensemble des biblioth\u00e8ques n\u00e9cessaires au fonctionnement du module. Elles sont identiques avec celles propos\u00e9es par le fabriquant \u00e0 l'exception de NDEF o\u00f9 un changement a \u00e9t\u00e9 effectu\u00e9 , sans cela l'Arduino \u00e9tait incapable de lire n'importe quelle carte. Biblioth\u00e8ques en archive .zip : D\u00e9compressez cette archive dans votre dossier Documents/Arduino/librairies/ , puis red\u00e9marrez l'IDE Arduino.","title":"Ajout des biblioth\u00e8ques"},{"location":"tutos/arduino_nfc/arduino_NFC/#utilisation-du-module","text":"Le code ci-dessous permet de renvoyer l'UID d'une carte NFC sur le moniteur s\u00e9rie d\u00e8s que celle-ci est pr\u00e9sente. // Utilisation du module Grove NFC avec une carte Arduino MEGA #include \"PN532_HSU.h\" #include \"PN532.h\" #include \"NfcAdapter.h\" PN532_HSU interface ( Serial1 ); //Connexion du module Grove NFC sur le serial 1 NfcAdapter nfc = NfcAdapter ( interface ); String UID_scan ; /**************************************************************************************************/ void setup () { Serial . begin ( 9600 ); Serial . println ( \"NDEF Reader\" ); nfc . begin (); //Initialisation du module } void loop () { if ( nfc . tagPresent ()) { NfcTag tag = nfc . read (); //Lecture de la carte NFC UID_scan = tag . getUidString (); //Acquisition du code UID de la carte Serial . println ( UID_scan ); //Renvoi sur le moniteur du code UID } delay ( 500 ); } Ce nouveau code va faire de la m\u00eame mani\u00e8re, une acquisition du code UID d'une carte NFC, et va ensuite comparer le r\u00e9sultat avec un code rentr\u00e9 en constante, si les deux correspondent, nous renvoyons AUTORISATION sur le moniteur s\u00e9rie, dans le cas contraire nous affichons INTERDIT . // Utilisation du module Grove NFC avec une carte Arduino MEGA #include \"PN532_HSU.h\" #include \"PN532.h\" #include \"NfcAdapter.h\" PN532_HSU interface ( Serial1 ); //Connexion du module Grove NFC sur le serial 1 NfcAdapter nfc = NfcAdapter ( interface ); String const myUID = \"7A F3 96 34\" ; // D\u00e9finition du code UID qui garantie l'autorisation String scannedUID ; /**************************************************************************************************/ void setup () { Serial . begin ( 115200 ); Serial . println ( \"NDEF Reader\" ); nfc . begin (); } /**************************************************************************************************/ void loop () { if ( nfc . tagPresent ()) { NfcTag tag = nfc . read (); //Lecture de la carte NFC scannedUID = tag . getUidString (); //Acquisition du code UID de la carte Serial . println ( scannedUID ); //Renvoi sur le moniteur du code UID if ( myUID . compareTo ( scannedUID ) == 0 ) //Comparaison entre les deux cha\u00eenes de caract\u00e8res Serial . println ( \"AUTORISATION\" ); // Dans le cas o\u00f9 elles sont identiques else Serial . println ( \"INTERDIT\" ); //Dans le cas o\u00f9 elles diff\u00e8rent } delay ( 500 ); }","title":"Utilisation du module"}]}