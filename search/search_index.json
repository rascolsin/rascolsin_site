{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Code, \u00e9lectronique, innovation, \ud83d\ude80 ... Tutoriels vari\u00e9s et diffusion des enseignements en section STI2D SIN au lyc\u00e9e Louis Rascol \u00e0 Albi. Liens vers les groupes Google Classroom Classe PSTI2D2 Classe TSTI2D3 N'oubliez pas de vous identifier \u00e0 l'aide de votre mail Rascol en prenom.nom@e.rascol.net \ud83d\udea7 Ce nouveau site est encore en travaux, l'ancien est toujours disponible : sti2d-docs \ud83d\udea7","title":"Home"},{"location":"#code-electronique-innovation","text":"Tutoriels vari\u00e9s et diffusion des enseignements en section STI2D SIN au lyc\u00e9e Louis Rascol \u00e0 Albi.","title":"Code, \u00e9lectronique, innovation, \ud83d\ude80 ..."},{"location":"#liens-vers-les-groupes-google-classroom","text":"Classe PSTI2D2 Classe TSTI2D3 N'oubliez pas de vous identifier \u00e0 l'aide de votre mail Rascol en prenom.nom@e.rascol.net \ud83d\udea7 Ce nouveau site est encore en travaux, l'ancien est toujours disponible : sti2d-docs \ud83d\udea7","title":"Liens vers les groupes Google Classroom"},{"location":"cit/","text":"Option de 2 nd Cr\u00e9ation et Innovation Technologiques S\u00e9quences","title":"CIT"},{"location":"cit/#option-de-2nd-creation-et-innovation-technologiques","text":"","title":"Option de 2nd Cr\u00e9ation et Innovation Technologiques"},{"location":"cit/#sequences","text":"","title":"S\u00e9quences"},{"location":"icn/","text":"Option de 2 nd Informatique et Cr\u00e9ation Num\u00e9rique S\u00e9quences","title":"ICN"},{"location":"icn/#option-de-2nd-informatique-et-creation-numerique","text":"","title":"Option de 2nd Informatique et Cr\u00e9ation Num\u00e9rique"},{"location":"icn/#sequences","text":"","title":"S\u00e9quences"},{"location":"psti2d/","text":"Premi\u00e8re STI2D SIN S\u00e9quences","title":"PSTI2D"},{"location":"psti2d/#premiere-sti2d-sin","text":"","title":"Premi\u00e8re STI2D SIN"},{"location":"psti2d/#sequences","text":"","title":"S\u00e9quences"},{"location":"tsti2d/","text":"Terminale STI2D SIN S\u00e9quences \u2714 Programmation en environnement GNU-Linux GNU Linux se veut \u00eatre un syst\u00e8me d'exploitation libre et gratuit qui d\u00e9fend et respecte la vie priv\u00e9e de ses utilisateurs, \u00e0 contre courant de ce que propose aujourd'hui les plus grandes multi-nationales du logiciel. Lors de cette s\u00e9quence nous aborderons les principes de base d'un syst\u00e8me GNU-Linux, son histoire, son architecture logicielle, l'utilisation de la ligne de commande, du r\u00e9seau, du web, et l'application de ces principes sur le micro-ordinateur Raspberry Pi.","title":"TSTI2D"},{"location":"tsti2d/#terminale-sti2d-sin","text":"","title":"Terminale STI2D SIN"},{"location":"tsti2d/#sequences","text":"","title":"S\u00e9quences"},{"location":"tsti2d/#programmation-en-environnement-gnu-linux","text":"GNU Linux se veut \u00eatre un syst\u00e8me d'exploitation libre et gratuit qui d\u00e9fend et respecte la vie priv\u00e9e de ses utilisateurs, \u00e0 contre courant de ce que propose aujourd'hui les plus grandes multi-nationales du logiciel. Lors de cette s\u00e9quence nous aborderons les principes de base d'un syst\u00e8me GNU-Linux, son histoire, son architecture logicielle, l'utilisation de la ligne de commande, du r\u00e9seau, du web, et l'application de ces principes sur le micro-ordinateur Raspberry Pi.","title":"\u2714 Programmation en environnement GNU-Linux"},{"location":"tsti2d/linux/","text":"Programmation en environnement GNU-Linux GNU Linux se veut \u00eatre un syst\u00e8me d'exploitation libre et gratuit qui d\u00e9fend et respecte la vie priv\u00e9e de ses utilisateurs, \u00e0 contre courant de ce que propose aujourd'hui les plus grandes multi-nationales du logiciel. Lors de cette s\u00e9quence nous aborderons les principes de base d'un syst\u00e8me GNU-Linux, son histoire, son architecture logicielle, l'utilisation de la ligne de commande, du r\u00e9seau, du web, et l'application de ces principes sur le micro-ordinateur Raspberry Pi. Sommaire Cours Introduction \u00e0 GNU/Linux Le Raspberry Pi Utiliser le terminal G\u00e9rer les permissions en environnement GNU-Linux R\u00e9alisation de scripts Bash Activit\u00e9s L'ensemble des activit\u00e9s sont r\u00e9alis\u00e9es sur une carte Raspberry Pi avec la distribution Raspbian . Utiliser le terminal Linux et le r\u00e9seau G\u00e9rer les permissions \u00c9crire des scripts Bash","title":"Programmation en environnement GNU-Linux"},{"location":"tsti2d/linux/#programmation-en-environnement-gnu-linux","text":"GNU Linux se veut \u00eatre un syst\u00e8me d'exploitation libre et gratuit qui d\u00e9fend et respecte la vie priv\u00e9e de ses utilisateurs, \u00e0 contre courant de ce que propose aujourd'hui les plus grandes multi-nationales du logiciel. Lors de cette s\u00e9quence nous aborderons les principes de base d'un syst\u00e8me GNU-Linux, son histoire, son architecture logicielle, l'utilisation de la ligne de commande, du r\u00e9seau, du web, et l'application de ces principes sur le micro-ordinateur Raspberry Pi.","title":"Programmation en environnement GNU-Linux"},{"location":"tsti2d/linux/#sommaire","text":"","title":"Sommaire"},{"location":"tsti2d/linux/#cours","text":"Introduction \u00e0 GNU/Linux Le Raspberry Pi Utiliser le terminal G\u00e9rer les permissions en environnement GNU-Linux R\u00e9alisation de scripts Bash","title":"Cours"},{"location":"tsti2d/linux/#activites","text":"L'ensemble des activit\u00e9s sont r\u00e9alis\u00e9es sur une carte Raspberry Pi avec la distribution Raspbian . Utiliser le terminal Linux et le r\u00e9seau G\u00e9rer les permissions \u00c9crire des scripts Bash","title":"Activit\u00e9s"},{"location":"tsti2d/linux/01-Intro/","text":"Introduction \u00e0 GNU Linux Tux l\u2019embl\u00e8me de Linux d\u00e9ssin\u00e9 par Larry Ewing en 1996 1- C'est quoi Linux ? GNU Linux est sp\u00e9cial de part sa diff\u00e9rence avec les syst\u00e8mes d\u2019exploitation dits classiques tels que Mac OSX ou Microsoft Windows. Une des principales diff\u00e9rences r\u00e9side dans le c\u00f4t\u00e9 Open-Source et gratuit de cet OS. En effet Linux nous permet de modifier enti\u00e8rement la composition du syst\u00e8me, pour pouvoir le fa\u00e7onner \u00e0 notre guise le code source, c'est \u00e0 dire la recette de fabrication est rendu disponible \u00e0 l\u2019utilisateur, l\u2019utilisation d\u2019un tel syst\u00e8me rend alors plus souple la programmation et l\u2019exp\u00e9rimentation. A savoir Linux est connu pour sa grande portabilit\u00e9, on peut le retrouver dans des t\u00e9l\u00e9phones portables, des machines \u00e0 laver le linge, des serveurs informatiques, des supercalculateurs, des voitures ou encore des t\u00e9l\u00e9visions. Quelques exemples de syst\u00e8mes utilisant Linux : Les serveurs web : le site Wikipedia est h\u00e9berg\u00e9 sur un serveur LAMP (Linux Apache MySQL PHP) L'OS Android pour les smartphones Les boxs internet de Orange, Free, ou SFR Les GPS Tomtom 2- De GNU \u00e0 Linux \"Richard Stallman\" by Leonid Dmitriev (leozub) is licensed under CC BY 3.0 Tout commence avec UNIX dont les origines remontent en 1969, c\u2019est un syst\u00e8me qui fonctionne sans interface graphique, en ligne de code, concurrent direct \u00e0 l\u2019\u00e9poque du syst\u00e8me MS-DOS de Microsoft (sorti en 1984). En 1984 Richard Stallman , chercheur en intelligence artificielle au MIT, cr\u00e9a le projet GNU, soit plus ou moins un syst\u00e8me d\u2019exploitation fonctionnant comme UNIX, la seule diff\u00e9rence \u00e9tant qu\u2019UNIX \u00e9tait propri\u00e9taire et payant et GNU lui sera libre et gratuit. \"Linus Torvalds\" by Krd is licensed under CC BY-SA 4.0 Une autre personne va intervenir dans la cr\u00e9ation de ce nouveau syst\u00e8me, c\u2019est Le Finlandais Linus Torvalds , \u00e9tudiant \u00e0 l\u2019universit\u00e9 de Helsinki, qui entreprend de cr\u00e9er son propre syst\u00e8me d\u2019exploitation, qui a pris son nom (Linus + Unix).Les deux hommes se sont par la suite associ\u00e9s pour cr\u00e9er le syst\u00e8me GNU Linux, Richard Stallman cr\u00e9ant les programmes de base (programme de copie de fichier, de suppression de fichier, \u00e9diteur de texte), Linus Torvalds se lan\u00e7ant dans la cr\u00e9ation du \u00ab c\u0153ur \u00bb du syst\u00e8me d'exploitation : le noyau. Le projet GNU (programmes libres) et Linux (noyau d'OS) ont fusionn\u00e9 pour cr\u00e9er GNU/Linux. 3- Les distributions de Linux Une distribution est en quelque sorte l\u2019emballage de Linux, le coeur du syst\u00e8me GNU Linux, restant le m\u00eame pour toutes. Linux est un syst\u00e8me d\u2019exploitation tr\u00e8s complet, avec de nombreux logiciels disponibles, les distributions ont \u00e9t\u00e9 cr\u00e9\u00e9es pour permette \u00e0 l\u2019utilisateur d\u2019avoir un syst\u00e8me correspondant \u00e0 l\u2019utilisation qu\u2019il fait de sa machine. Toutes les distributions sont compatibles les unes avec les autres, la seule diff\u00e9rence \u00e9tant la prise en main. Parmi les choses variant d\u2019une distribution \u00e0 une autre, on peut citer : L'installation : elle peut \u00eatre tr\u00e8s simplifi\u00e9e comme tr\u00e8s compliqu\u00e9e. La gestion de l'installation des programmes : Si elle est bien faite et centralis\u00e9e, elle peut rendre l'installation de nouveaux logiciels plus simple que sous Windows. Les programmes pr\u00e9-install\u00e9s sur l\u2019ordinateur. Il existe plusieurs centaines de distributions Linux, certaines \u00e9tant des forks (copies adapt\u00e9es) de distributions principales, le site internet DistroWatch.com , les recense pratiquement de mani\u00e8re exhaustive. Nous pouvons trouver sur wikip\u00e9dia une timeline sous forme d'arbre g\u00e9n\u00e9alogique des distributions, r\u00e9guli\u00e8rement mis \u00e0 jour : Le lien de l'image pour la visualiser en grand Nous donnons ci-dessous le descriptif des principales distributions trouv\u00e9es en d\u00e9buts de branches de la timeline pr\u00e9c\u00e9dente : Distributions Ann\u00e9e de cr\u00e9ation Description 1993 C\u2019est une des seules distributions qui soit g\u00e9r\u00e9e par des d\u00e9veloppeurs ind\u00e9pendants plut\u00f4t que par une entreprise. C'est une des distributions les plus populaires. La distribution qui \u00e9quipe le Raspberry Pi, \u00e0 savoir Raspbian est une sous-distribution de Debian. La distribution Ubuntu que nous utiliserons pour les s\u00e9ances de TP l\u2019est de m\u00eame. 1995 Edit\u00e9e par une entreprise am\u00e9ricaine, cette distribution propri\u00e9taire est c\u00e9l\u00e8bre et tr\u00e8s r\u00e9pandue, notamment sur les serveurs. Fedora est une sous distribution de Red Hat, tr\u00e8s utilis\u00e9e dans le milieu universitaire. 1992 Une distribution c\u00e9l\u00e8bre Allemande, soutenue par l\u2019entreprise Novell. 1993 Une des plus anciennes distributions de Linux, qui existe encore aujourd\u2019hui.","title":"Introduction \u00e0 GNU Linux"},{"location":"tsti2d/linux/01-Intro/#introduction-a-gnu-linux","text":"Tux l\u2019embl\u00e8me de Linux d\u00e9ssin\u00e9 par Larry Ewing en 1996","title":"Introduction \u00e0 GNU Linux"},{"location":"tsti2d/linux/01-Intro/#1-cest-quoi-linux","text":"GNU Linux est sp\u00e9cial de part sa diff\u00e9rence avec les syst\u00e8mes d\u2019exploitation dits classiques tels que Mac OSX ou Microsoft Windows. Une des principales diff\u00e9rences r\u00e9side dans le c\u00f4t\u00e9 Open-Source et gratuit de cet OS. En effet Linux nous permet de modifier enti\u00e8rement la composition du syst\u00e8me, pour pouvoir le fa\u00e7onner \u00e0 notre guise le code source, c'est \u00e0 dire la recette de fabrication est rendu disponible \u00e0 l\u2019utilisateur, l\u2019utilisation d\u2019un tel syst\u00e8me rend alors plus souple la programmation et l\u2019exp\u00e9rimentation. A savoir Linux est connu pour sa grande portabilit\u00e9, on peut le retrouver dans des t\u00e9l\u00e9phones portables, des machines \u00e0 laver le linge, des serveurs informatiques, des supercalculateurs, des voitures ou encore des t\u00e9l\u00e9visions. Quelques exemples de syst\u00e8mes utilisant Linux : Les serveurs web : le site Wikipedia est h\u00e9berg\u00e9 sur un serveur LAMP (Linux Apache MySQL PHP) L'OS Android pour les smartphones Les boxs internet de Orange, Free, ou SFR Les GPS Tomtom","title":"1- C'est quoi Linux ?"},{"location":"tsti2d/linux/01-Intro/#2-de-gnu-a-linux","text":"\"Richard Stallman\" by Leonid Dmitriev (leozub) is licensed under CC BY 3.0 Tout commence avec UNIX dont les origines remontent en 1969, c\u2019est un syst\u00e8me qui fonctionne sans interface graphique, en ligne de code, concurrent direct \u00e0 l\u2019\u00e9poque du syst\u00e8me MS-DOS de Microsoft (sorti en 1984). En 1984 Richard Stallman , chercheur en intelligence artificielle au MIT, cr\u00e9a le projet GNU, soit plus ou moins un syst\u00e8me d\u2019exploitation fonctionnant comme UNIX, la seule diff\u00e9rence \u00e9tant qu\u2019UNIX \u00e9tait propri\u00e9taire et payant et GNU lui sera libre et gratuit. \"Linus Torvalds\" by Krd is licensed under CC BY-SA 4.0 Une autre personne va intervenir dans la cr\u00e9ation de ce nouveau syst\u00e8me, c\u2019est Le Finlandais Linus Torvalds , \u00e9tudiant \u00e0 l\u2019universit\u00e9 de Helsinki, qui entreprend de cr\u00e9er son propre syst\u00e8me d\u2019exploitation, qui a pris son nom (Linus + Unix).Les deux hommes se sont par la suite associ\u00e9s pour cr\u00e9er le syst\u00e8me GNU Linux, Richard Stallman cr\u00e9ant les programmes de base (programme de copie de fichier, de suppression de fichier, \u00e9diteur de texte), Linus Torvalds se lan\u00e7ant dans la cr\u00e9ation du \u00ab c\u0153ur \u00bb du syst\u00e8me d'exploitation : le noyau. Le projet GNU (programmes libres) et Linux (noyau d'OS) ont fusionn\u00e9 pour cr\u00e9er GNU/Linux.","title":"2- De GNU \u00e0 Linux"},{"location":"tsti2d/linux/01-Intro/#3-les-distributions-de-linux","text":"Une distribution est en quelque sorte l\u2019emballage de Linux, le coeur du syst\u00e8me GNU Linux, restant le m\u00eame pour toutes. Linux est un syst\u00e8me d\u2019exploitation tr\u00e8s complet, avec de nombreux logiciels disponibles, les distributions ont \u00e9t\u00e9 cr\u00e9\u00e9es pour permette \u00e0 l\u2019utilisateur d\u2019avoir un syst\u00e8me correspondant \u00e0 l\u2019utilisation qu\u2019il fait de sa machine. Toutes les distributions sont compatibles les unes avec les autres, la seule diff\u00e9rence \u00e9tant la prise en main. Parmi les choses variant d\u2019une distribution \u00e0 une autre, on peut citer : L'installation : elle peut \u00eatre tr\u00e8s simplifi\u00e9e comme tr\u00e8s compliqu\u00e9e. La gestion de l'installation des programmes : Si elle est bien faite et centralis\u00e9e, elle peut rendre l'installation de nouveaux logiciels plus simple que sous Windows. Les programmes pr\u00e9-install\u00e9s sur l\u2019ordinateur. Il existe plusieurs centaines de distributions Linux, certaines \u00e9tant des forks (copies adapt\u00e9es) de distributions principales, le site internet DistroWatch.com , les recense pratiquement de mani\u00e8re exhaustive. Nous pouvons trouver sur wikip\u00e9dia une timeline sous forme d'arbre g\u00e9n\u00e9alogique des distributions, r\u00e9guli\u00e8rement mis \u00e0 jour : Le lien de l'image pour la visualiser en grand Nous donnons ci-dessous le descriptif des principales distributions trouv\u00e9es en d\u00e9buts de branches de la timeline pr\u00e9c\u00e9dente : Distributions Ann\u00e9e de cr\u00e9ation Description 1993 C\u2019est une des seules distributions qui soit g\u00e9r\u00e9e par des d\u00e9veloppeurs ind\u00e9pendants plut\u00f4t que par une entreprise. C'est une des distributions les plus populaires. La distribution qui \u00e9quipe le Raspberry Pi, \u00e0 savoir Raspbian est une sous-distribution de Debian. La distribution Ubuntu que nous utiliserons pour les s\u00e9ances de TP l\u2019est de m\u00eame. 1995 Edit\u00e9e par une entreprise am\u00e9ricaine, cette distribution propri\u00e9taire est c\u00e9l\u00e8bre et tr\u00e8s r\u00e9pandue, notamment sur les serveurs. Fedora est une sous distribution de Red Hat, tr\u00e8s utilis\u00e9e dans le milieu universitaire. 1992 Une distribution c\u00e9l\u00e8bre Allemande, soutenue par l\u2019entreprise Novell. 1993 Une des plus anciennes distributions de Linux, qui existe encore aujourd\u2019hui.","title":"3- Les distributions de Linux"},{"location":"tsti2d/linux/02-Raspberry_pi/","text":"Le Raspberry Pi 1. Introduction Le Raspberry Pi est un micro-ordinateur \u00e0 faible co\u00fbt (environ 40\u20ac), fonction-nant sous Linux, et pas plus grand qu\u2019une carte de cr\u00e9dit. Il est entre autre capable d\u2019afficher des vid\u00e9os en HD (1080p), de servir de poste de bureau-tique/internet, de console de jeu et surtout d\u2019outil d\u2019initiation \u00e0 l\u2019informatique. Gr\u00e2ce \u00e0 ses ports d\u2019entr\u00e9es/sorties mat\u00e9riels, il peut recevoir des informations de capteurs externes, piloter des actionneurs, transmettre des signaux... Ses champs d\u2019applications sont infinis. 1 2. Historique du Raspberry Pi 2.1 Gen\u00e8se de l'id\u00e9e Eben Upton, l'un des inventeurs du Raspberry Pi Voici un extrait traduit en Fran\u00e7ais de l\u2019explication donn\u00e9e sur le site officiel de la fondation Raspberry Pi quant \u00e0 la gen\u00e8se de cette id\u00e9e : \u00ab L'id\u00e9e d'un ordinateur petit et bon march\u00e9 pour l'\u00e9ducation est venue en 2006, alors qu'Eben Upton et ses coll\u00e8gues du laboratoire d'informatique de l'universit\u00e9 de Cambridge, parmi lesquels Rob Mullins, Jack Lang et Alan Mycroft, se pr\u00e9occup\u00e8rent de la baisse r\u00e9guli\u00e8re, ann\u00e9e apr\u00e8s ann\u00e9e, du nombre et du niveau de comp\u00e9tence des candidats souhaitant suivre des \u00e9tudes d'informatique. De la situation des ann\u00e9es 1990 o\u00f9 les candidats qui se pr\u00e9sentaient \u00e9taient des programmeurs amateurs, le paysage des ann\u00e9es 2000 diff\u00e8re grandement : un candidat typique pourra n'avoir fait qu'un peu de design web. \u00bb 2 Le constat en 2006 \u00e9tait le suivant : Une baisse de niveau en informatique des candidats \u00e0 l\u2019universit\u00e9 Une formation scolaire inadapt\u00e9e \u00e0 la programmation Des syst\u00e8mes d\u2019exploitation classiques inadapt\u00e9s \u00e0 l\u2019exp\u00e9rimentation Des ordinateurs chers pour faire de la programmation exp\u00e9rimentale La solution retenue fut alors de cr\u00e9er un micro ordinateur open source et abordable : Le Raspberry Pi 2.2 Chronologie rapide Date \u00c9v\u00e9nement Caract\u00e9ristiques Ao\u00fbt 2011 Impression des 1eres cartes Alpha F\u00e9vrier 2012 Cr\u00e9ation de la distribution Raspbian Avril - Juin 2012 Sortie du Raspberry pi 1 mod\u00e8le B ARM 32bits 700Mhz - 256Mo Septembre 2012 D\u00e9but de la fabrication en Angleterre F\u00e9vrier 2013 Le mod\u00e8le A est disponible ARM 32bits 700Mhz - 256Mo Mai 2013 Cr\u00e9ation d'un shield cam\u00e9ra 5MP - 1080p Juillet 2014 Sortie du mod\u00e8le B+ ARM 32bits 700Mhz - 512Mo Mai 2013 Sortie du mod\u00e8le 2B ARM 32bits 900Mhz QuadCore - 1Go F\u00e9vrier 2016 Sortie du mod\u00e8le 3B ARM 64bits 1.2Ghz QuadCore - 1Go F\u00e9vrier 2016 Sortie du mod\u00e8le 0 ARM 32bits 1Ghz - 512Mo F\u00e9vrier 2017 Sortie du mod\u00e8le 0W ARM 32bits 1Ghz - 512Mo Mars 2018 Sortie du mod\u00e8le 3B+ ARM 64bits 1.4Ghz QuadCore - 1Go Novembre 2018 Sortie du mod\u00e8le 3A+ ARM 64bits 1.4Ghz QuadCore - 512Mo Photo de famille, l'originale est \u00e0 consulter sur le site raspi.tv 3. Composition du Raspberry Pi Le Raspberry pi 3B est l'avant dernier mod\u00e8le \u00e0 se jour, et c\u2019est celui-ci que nous allons utiliser en classe. 3.1 Le SOC Le SOC (System On a Chip) est une puce n\u2019int\u00e9grant pas seulement un microprocesseur mais aussi d\u2019autres p\u00e9riph\u00e9riques n\u00e9cessaires au fonctionnement d\u2019un ordinateur, tout cela dans un seul bo\u00eetier : Un microprocesseur Un processeur graphique (GPU) De la RAM Tous les circuits annexes mis en oeuvre dans un syst\u00e8me informatique. 3.2 Les entr\u00e9es sorties Le Raspberry Pi dispose de plusieurs connecteurs sur son bo\u00eetier, pour le mod\u00e8le 3B nous avons : Quatre connecteurs USB 2.0 Une connecteur d\u2019alimentation type micro-USB Un port HDMI Un port Ethernet 100 Mbit/s Une entr\u00e9e/sortie audio Un connecteur bus CSI (pour la connexion de la cam\u00e9ra) Un connecteur bus DSI (pour la connexion d\u2019un \u00e9cran) Un GPIO 3.3 Le GPIO Le GPIO pour General Purpose Input/Output est un interface Entr\u00e9e/Sortie num\u00e9rique enti\u00e8rement programmable. Le Raspberry Pi ne disposant malheureusement pas de CAN ou CNA il faut interfacer une autre carte (Arduino) ou un circuit pour traiter des donn\u00e9es analogiques. Ci-dessous la figure montre le brochage du GPIO pour un Raspberry Pi 3B : Raspberry PI GPIO from pinout.xyz Warning Le Raspberry Pi et ce pour n\u2019importe quel mod\u00e8le, ne supporte pas une tension d\u2019entr\u00e9e sup\u00e9rieure \u00e0 3.3V sur son GPIO , les niveaux logiques sont donc : \u00ab 1 \u00bb = 3.3V \u00ab 0 \u00bb = 0V 4. Utilisation du Raspberry Pi 4.1 OS utilisables sur le raspberry Pi Le Raspberry Pi \u00e0 l'origine ne fonctionnait que sur un syst\u00e8me d\u2019exploitation GNU Linux, appel\u00e9 Raspbian, gr\u00e2ce au succ\u00e8s et \u00e0 l'am\u00e9lioration de la carte d'autres fabricants ont adapt\u00e9 leurs syst\u00e8mes pour qu'il puisse fonctionner sur la framboise : Raspbian : Distribution linux d'origine, bas\u00e9e sur Debian et activement maintenue par la Raspberry Foundation. LibreELEC : Distribution linux sp\u00e9cifique \u00e0 la gestion de contenu multim\u00e9dia (Home-Cin\u00e9ma), utilise le syst\u00e8me Kodi Ubuntu Core : C\u00e9l\u00e8bre distribution Linux, ici adapt\u00e9e pour l'IoT. Windows 10 IoT Core : Le leader mondial a lui succomb\u00e9 \u00e0 la framboise et propose son dernier une version de son dernier OS adapt\u00e9 \u00e0 l'IoT. 4.2 Installation de Raspbian Pour toutes les activit\u00e9s au lyc\u00e9e Rascol nous utiliserons l'os Raspbian, le t\u00e9l\u00e9chargement de la derni\u00e8re version se fera sur le site raspberrypi.org Suivant l'utilisation d\u00e9sir\u00e9e nous choisirons la version lite ou desktop , bien souvent la version lite qui ne comporte pas d'interface graphique ou \"gui\" est suffisante. En effet, le Raspberry Pi partage son processeur et sa m\u00e9moire pour la partie graphique, en d\u00e9sactivant le gui nous gagnons donc en rapidit\u00e9. T\u00e9l\u00e9chargez le .zip d\u00e9sir\u00e9e et ne le d\u00e9compressez pas. T\u00e9l\u00e9chargez le logiciel Etcher qui permet de graver de mani\u00e8re fiable des images .iso sur des supports externes (SD,USB) Ins\u00e9rez une carte micro SD de minimum 8Go, une vitesse de 10 est conseill\u00e9e. Le formatage pr\u00e9alable n'est pas n\u00e9cessaire Etcher s'occupe de tout ! Dans Etcher choisissez votre fichier .zip et votre carte SD et appuyez sur Flash! 4.3 Premier d\u00e9marrage \u26a0\ufe0f La mise sous tension du Raspberry Pi se fait en dernier \u26a0\ufe0f, il faut au pr\u00e9alable connecter tous les p\u00e9riph\u00e9riques : clavier, souris, \u00e9cran, cordon r\u00e9seau, ins\u00e9rer la carte SD et en dernier l'alimentation. Le Raspberry Pi n'ayant pas de bouton ON/OFF c'est la connexion du c\u00e2ble d'alimentation qui le fera automatique d\u00e9marrer. De la m\u00eame mani\u00e8re l'arr\u00eat se fera en cliquant sur Menu > Shutdown avec le gui ou en tapant la commande sudo poweroff en mode console. Warning Surtout ne jamais retirer la carte SD du Raspberry Pi en cours d'ex\u00e9cution, sous peine de l'endommager d\u00e9finitivement Une fois la framboise d\u00e9marr\u00e9e un nom d'utilisateur et un mot de passe vous seront peut-\u00eatre demand\u00e9s : login : pi pwd : raspberry Info Quand vous tapez un mot de passe dans une console Linux rien ne s'affiche \u00e0 l'\u00e9cran. C'est normal ! C'est une s\u00e9curit\u00e9 suppl\u00e9mentaire, le mot de passe que vous tapez sera bien pris en compte. 4.4 Modification de la disposition clavier Lors du premier d\u00e9marrage avec la distribution Raspbian light, la disposition du clavier est par d\u00e9faut en Anglais (qwerty), nous donnons ci-dessous les \u00e9tapes pour la changer : Apr\u00e8s vous \u00eatres logg\u00e9 login : pi passwd : raspberry , ouvrez le menu de configuration avec sudo raspi-config Allez dans 4 Localisation Options \u2192 Change Keyboard Layout \u2192 Generic 105-key \u2192 French D'apr\u00e8s Raspberry Pi de Christian Tavernier, 2013 \u21a9 Texte de la Raspberry Pi foundation, original en Anglais \u21a9","title":"Le Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#le-raspberry-pi","text":"","title":"Le Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#1-introduction","text":"Le Raspberry Pi est un micro-ordinateur \u00e0 faible co\u00fbt (environ 40\u20ac), fonction-nant sous Linux, et pas plus grand qu\u2019une carte de cr\u00e9dit. Il est entre autre capable d\u2019afficher des vid\u00e9os en HD (1080p), de servir de poste de bureau-tique/internet, de console de jeu et surtout d\u2019outil d\u2019initiation \u00e0 l\u2019informatique. Gr\u00e2ce \u00e0 ses ports d\u2019entr\u00e9es/sorties mat\u00e9riels, il peut recevoir des informations de capteurs externes, piloter des actionneurs, transmettre des signaux... Ses champs d\u2019applications sont infinis. 1","title":"1. Introduction"},{"location":"tsti2d/linux/02-Raspberry_pi/#2-historique-du-raspberry-pi","text":"","title":"2. Historique du Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#21-genese-de-lidee","text":"Eben Upton, l'un des inventeurs du Raspberry Pi Voici un extrait traduit en Fran\u00e7ais de l\u2019explication donn\u00e9e sur le site officiel de la fondation Raspberry Pi quant \u00e0 la gen\u00e8se de cette id\u00e9e : \u00ab L'id\u00e9e d'un ordinateur petit et bon march\u00e9 pour l'\u00e9ducation est venue en 2006, alors qu'Eben Upton et ses coll\u00e8gues du laboratoire d'informatique de l'universit\u00e9 de Cambridge, parmi lesquels Rob Mullins, Jack Lang et Alan Mycroft, se pr\u00e9occup\u00e8rent de la baisse r\u00e9guli\u00e8re, ann\u00e9e apr\u00e8s ann\u00e9e, du nombre et du niveau de comp\u00e9tence des candidats souhaitant suivre des \u00e9tudes d'informatique. De la situation des ann\u00e9es 1990 o\u00f9 les candidats qui se pr\u00e9sentaient \u00e9taient des programmeurs amateurs, le paysage des ann\u00e9es 2000 diff\u00e8re grandement : un candidat typique pourra n'avoir fait qu'un peu de design web. \u00bb 2 Le constat en 2006 \u00e9tait le suivant : Une baisse de niveau en informatique des candidats \u00e0 l\u2019universit\u00e9 Une formation scolaire inadapt\u00e9e \u00e0 la programmation Des syst\u00e8mes d\u2019exploitation classiques inadapt\u00e9s \u00e0 l\u2019exp\u00e9rimentation Des ordinateurs chers pour faire de la programmation exp\u00e9rimentale La solution retenue fut alors de cr\u00e9er un micro ordinateur open source et abordable : Le Raspberry Pi","title":"2.1 Gen\u00e8se de l'id\u00e9e"},{"location":"tsti2d/linux/02-Raspberry_pi/#22-chronologie-rapide","text":"Date \u00c9v\u00e9nement Caract\u00e9ristiques Ao\u00fbt 2011 Impression des 1eres cartes Alpha F\u00e9vrier 2012 Cr\u00e9ation de la distribution Raspbian Avril - Juin 2012 Sortie du Raspberry pi 1 mod\u00e8le B ARM 32bits 700Mhz - 256Mo Septembre 2012 D\u00e9but de la fabrication en Angleterre F\u00e9vrier 2013 Le mod\u00e8le A est disponible ARM 32bits 700Mhz - 256Mo Mai 2013 Cr\u00e9ation d'un shield cam\u00e9ra 5MP - 1080p Juillet 2014 Sortie du mod\u00e8le B+ ARM 32bits 700Mhz - 512Mo Mai 2013 Sortie du mod\u00e8le 2B ARM 32bits 900Mhz QuadCore - 1Go F\u00e9vrier 2016 Sortie du mod\u00e8le 3B ARM 64bits 1.2Ghz QuadCore - 1Go F\u00e9vrier 2016 Sortie du mod\u00e8le 0 ARM 32bits 1Ghz - 512Mo F\u00e9vrier 2017 Sortie du mod\u00e8le 0W ARM 32bits 1Ghz - 512Mo Mars 2018 Sortie du mod\u00e8le 3B+ ARM 64bits 1.4Ghz QuadCore - 1Go Novembre 2018 Sortie du mod\u00e8le 3A+ ARM 64bits 1.4Ghz QuadCore - 512Mo Photo de famille, l'originale est \u00e0 consulter sur le site raspi.tv","title":"2.2 Chronologie rapide"},{"location":"tsti2d/linux/02-Raspberry_pi/#3-composition-du-raspberry-pi","text":"Le Raspberry pi 3B est l'avant dernier mod\u00e8le \u00e0 se jour, et c\u2019est celui-ci que nous allons utiliser en classe.","title":"3. Composition du Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#31-le-soc","text":"Le SOC (System On a Chip) est une puce n\u2019int\u00e9grant pas seulement un microprocesseur mais aussi d\u2019autres p\u00e9riph\u00e9riques n\u00e9cessaires au fonctionnement d\u2019un ordinateur, tout cela dans un seul bo\u00eetier : Un microprocesseur Un processeur graphique (GPU) De la RAM Tous les circuits annexes mis en oeuvre dans un syst\u00e8me informatique.","title":"3.1 Le SOC"},{"location":"tsti2d/linux/02-Raspberry_pi/#32-les-entrees-sorties","text":"Le Raspberry Pi dispose de plusieurs connecteurs sur son bo\u00eetier, pour le mod\u00e8le 3B nous avons : Quatre connecteurs USB 2.0 Une connecteur d\u2019alimentation type micro-USB Un port HDMI Un port Ethernet 100 Mbit/s Une entr\u00e9e/sortie audio Un connecteur bus CSI (pour la connexion de la cam\u00e9ra) Un connecteur bus DSI (pour la connexion d\u2019un \u00e9cran) Un GPIO","title":"3.2 Les entr\u00e9es sorties"},{"location":"tsti2d/linux/02-Raspberry_pi/#33-le-gpio","text":"Le GPIO pour General Purpose Input/Output est un interface Entr\u00e9e/Sortie num\u00e9rique enti\u00e8rement programmable. Le Raspberry Pi ne disposant malheureusement pas de CAN ou CNA il faut interfacer une autre carte (Arduino) ou un circuit pour traiter des donn\u00e9es analogiques. Ci-dessous la figure montre le brochage du GPIO pour un Raspberry Pi 3B : Raspberry PI GPIO from pinout.xyz Warning Le Raspberry Pi et ce pour n\u2019importe quel mod\u00e8le, ne supporte pas une tension d\u2019entr\u00e9e sup\u00e9rieure \u00e0 3.3V sur son GPIO , les niveaux logiques sont donc : \u00ab 1 \u00bb = 3.3V \u00ab 0 \u00bb = 0V","title":"3.3 Le GPIO"},{"location":"tsti2d/linux/02-Raspberry_pi/#4-utilisation-du-raspberry-pi","text":"","title":"4. Utilisation du Raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#41-os-utilisables-sur-le-raspberry-pi","text":"Le Raspberry Pi \u00e0 l'origine ne fonctionnait que sur un syst\u00e8me d\u2019exploitation GNU Linux, appel\u00e9 Raspbian, gr\u00e2ce au succ\u00e8s et \u00e0 l'am\u00e9lioration de la carte d'autres fabricants ont adapt\u00e9 leurs syst\u00e8mes pour qu'il puisse fonctionner sur la framboise : Raspbian : Distribution linux d'origine, bas\u00e9e sur Debian et activement maintenue par la Raspberry Foundation. LibreELEC : Distribution linux sp\u00e9cifique \u00e0 la gestion de contenu multim\u00e9dia (Home-Cin\u00e9ma), utilise le syst\u00e8me Kodi Ubuntu Core : C\u00e9l\u00e8bre distribution Linux, ici adapt\u00e9e pour l'IoT. Windows 10 IoT Core : Le leader mondial a lui succomb\u00e9 \u00e0 la framboise et propose son dernier une version de son dernier OS adapt\u00e9 \u00e0 l'IoT.","title":"4.1 OS utilisables sur le raspberry Pi"},{"location":"tsti2d/linux/02-Raspberry_pi/#42-installation-de-raspbian","text":"Pour toutes les activit\u00e9s au lyc\u00e9e Rascol nous utiliserons l'os Raspbian, le t\u00e9l\u00e9chargement de la derni\u00e8re version se fera sur le site raspberrypi.org Suivant l'utilisation d\u00e9sir\u00e9e nous choisirons la version lite ou desktop , bien souvent la version lite qui ne comporte pas d'interface graphique ou \"gui\" est suffisante. En effet, le Raspberry Pi partage son processeur et sa m\u00e9moire pour la partie graphique, en d\u00e9sactivant le gui nous gagnons donc en rapidit\u00e9. T\u00e9l\u00e9chargez le .zip d\u00e9sir\u00e9e et ne le d\u00e9compressez pas. T\u00e9l\u00e9chargez le logiciel Etcher qui permet de graver de mani\u00e8re fiable des images .iso sur des supports externes (SD,USB) Ins\u00e9rez une carte micro SD de minimum 8Go, une vitesse de 10 est conseill\u00e9e. Le formatage pr\u00e9alable n'est pas n\u00e9cessaire Etcher s'occupe de tout ! Dans Etcher choisissez votre fichier .zip et votre carte SD et appuyez sur Flash!","title":"4.2 Installation de Raspbian"},{"location":"tsti2d/linux/02-Raspberry_pi/#43-premier-demarrage","text":"\u26a0\ufe0f La mise sous tension du Raspberry Pi se fait en dernier \u26a0\ufe0f, il faut au pr\u00e9alable connecter tous les p\u00e9riph\u00e9riques : clavier, souris, \u00e9cran, cordon r\u00e9seau, ins\u00e9rer la carte SD et en dernier l'alimentation. Le Raspberry Pi n'ayant pas de bouton ON/OFF c'est la connexion du c\u00e2ble d'alimentation qui le fera automatique d\u00e9marrer. De la m\u00eame mani\u00e8re l'arr\u00eat se fera en cliquant sur Menu > Shutdown avec le gui ou en tapant la commande sudo poweroff en mode console. Warning Surtout ne jamais retirer la carte SD du Raspberry Pi en cours d'ex\u00e9cution, sous peine de l'endommager d\u00e9finitivement Une fois la framboise d\u00e9marr\u00e9e un nom d'utilisateur et un mot de passe vous seront peut-\u00eatre demand\u00e9s : login : pi pwd : raspberry Info Quand vous tapez un mot de passe dans une console Linux rien ne s'affiche \u00e0 l'\u00e9cran. C'est normal ! C'est une s\u00e9curit\u00e9 suppl\u00e9mentaire, le mot de passe que vous tapez sera bien pris en compte.","title":"4.3 Premier d\u00e9marrage"},{"location":"tsti2d/linux/02-Raspberry_pi/#44-modification-de-la-disposition-clavier","text":"Lors du premier d\u00e9marrage avec la distribution Raspbian light, la disposition du clavier est par d\u00e9faut en Anglais (qwerty), nous donnons ci-dessous les \u00e9tapes pour la changer : Apr\u00e8s vous \u00eatres logg\u00e9 login : pi passwd : raspberry , ouvrez le menu de configuration avec sudo raspi-config Allez dans 4 Localisation Options \u2192 Change Keyboard Layout \u2192 Generic 105-key \u2192 French D'apr\u00e8s Raspberry Pi de Christian Tavernier, 2013 \u21a9 Texte de la Raspberry Pi foundation, original en Anglais \u21a9","title":"4.4 Modification de la disposition clavier"},{"location":"tsti2d/linux/03-Commandes_bash/","text":"Utiliser le terminal 1 - Le syst\u00e8me de fichiers UNIX L'agencement d'un syst\u00e8me GNU/Linux n'est pas du tout le m\u00eame que celui que l'on a sur Windows, nous ne trouverons pas par exemple la racine du syst\u00e8me \u00e0 l'emplacement C:\\\\ . Le tableau ci-dessous donne les principaux dossiers de l'arborescence suivis de leur utilisation : Dossier Utilisation / Racine du syst\u00e8me \u00e9quivalent du C:\\\\ chez Windows /bin Applications fournies par le syst\u00e8me tels que ls , cd , pwd /dev Fichiers assurant la liaison avec les p\u00e9riph\u00e9riques (disques, cl\u00e9s usb...) /etc Fichiers de param\u00e9trage du syst\u00e8me /home R\u00e9pertoire personnel /proc Informations sur les processus et le noyau Linux /root R\u00e9pertoire du super-utilisateur /tmp Fichiers temporaires /sbin Fichiers binaires du syst\u00e8me /usr Fichiers binaires et commandes utilisateur /lib Biblioth\u00e8que syst\u00e8me partag\u00e9e /media Point de montage des p\u00e9riph\u00e9riques de stockage connect\u00e9s au syst\u00e8me /mnt Point de montage temporaire des partitions et p\u00e9riph\u00e9riques /var Syst\u00e8mes de fichiers variables, comme le contenu web (dossier www), mais aussi les logs /boot Fichiers de d\u00e9marage du syst\u00e8me 2 - D\u00e9couverte du prompt Le prompt est l'invite de commande qui attend calmement que vous lui demandiez d'effectuer quelque chose en tapant votre commande puis en validant avec la touche entr\u00e9e. Ci-dessous une petite explication : 3 - Utilisation du manuel Tout syst\u00e8me UNIX dispose d'un manuel int\u00e9gr\u00e9 \u00e0 la console, il permet de faire une recherche d\u00e9taill\u00e9e sur l'utilisation d'une commande. Nous pouvons acc\u00e9der \u00e0 ce manuel en tapant : man suivi du nom de la fonction pour laquelle on a besoin d'aide. La sortie se fait en tapant q . Dans la suite du TP, vous devrez vous servir au maximum du manuel avant de demander de l'aide. Ci-dessous un exemple du manuel avec la fonction ls : 4 - Se d\u00e9placer dans l'arborescence Lister le contenu d'un r\u00e9pertoire (fichiers et dossiers) Snippet $ ls Avec un affichage des fichiers cach\u00e9s : Snippet $ ls -a Info En environnement GNU/Linux pour cacher un fichier ou un dossier, il suffit de mettre un point, devant son nom. Dans cet exemple nous montrons la diff\u00e9rence entre les commandes ls et ls -a , les fichiers ou dossiers .config .gnupg ou encore .profile sont cach\u00e9s. Se d\u00e9placer d'un r\u00e9pertoire \u00e0 un autre Snippet $ cd [ chemin_du_r\u00e9pertoire ] Ci-dessous nous nous d\u00e9pla\u00e7ons vers le r\u00e9pertoire /home/osboxes/Desktop : Vous pouvez remarquer dans le prompt le chemin qui change de ~ vers ~/Desktop Info Le symbole ~ dit tilde dans un syst\u00e8me GNU/Linux repr\u00e9sente le home de l'utilisateur, dans le cas de la vid\u00e9o ci-dessus l'utilisateur s'appelant osboxes , le chemin complet de son home est : /home/osboxes/ Visualiser le chemin du r\u00e9pertoire courant Snippet $ pwd Dans l'exemple ci-dessous nous montrons le chemin courant soit ~ 5 - Utiliser un \u00e9diteur de texte en ligne de commande Plusieurs \u00e9diteurs de texte en ligne de commande existent sous environnement GNU/Linux, parmi eux nous pouvons citer les tr\u00e8s connus vim et emacs , la courbe d'apprentissage des ces deux derniers \u00e9tant tr\u00e8s pentue nous pr\u00e9f\u00e9rons d\u00e9buter avec l'\u00e9diteur nano install\u00e9 par d\u00e9faut sur les distributions Ubuntu. Quelques commandes permettant de commencer avec nano : Snippet $ nano Snippet $ nano [ nom_du_fichier ] Warning Les noms de fichiers ne doivent pas comporter d'espaces, ceux-ci sont en g\u00e9n\u00e9ral remplac\u00e9s par l'underscore not\u00e9 _ . L'exemple ci-dessous montre la cr\u00e9ation d'un nouveau fichier avec nano appel\u00e9 : test_nano Info Nano propose une liste de fonctions accessibles par raccourcis clavier (voir barre en bas de l'\u00e9cran de nano), le ^ est \u00e0 remplacer par la touche Ctrl Par exemple Ctrl-g pour avoir une aide sur les fonctions de nano. Ctrl-x pour quitter nano, avant toute chose l'\u00e9diteur vous demande Save modified buffer (ANSWERING 'No' WILL DESTROY CHANGES) ? tapper y enregistrera votre travail, tapper n le supprimera. Puis nano demande File Name to Write: rentrez ici le nom que vous souhaitez donner \u00e0 votre fichier si il n'existe pas d\u00e9j\u00e0. 6 - Cr\u00e9er un dossier ou r\u00e9pertoire Snippet $ mkdir [ nom_du_dossier ] La fonction mkdir suivie d'un nom cr\u00e9e un dossier dans le r\u00e9pertoire o\u00f9 vous vous trouvez. Nous cr\u00e9ons ci-dessous un dossier appel\u00e9 sti2d_sin dans le r\u00e9pertoire ~/Documents . 7 - Supprimer un fichier ou un dossier Dans le cas d'un fichier : Snippet $ rm [ chemin_du_fichier ] Dans le cas d'un dossier : Snippet $ rm -rf [ chemin_du_dossier ] Info Le fait de rajouter l'option r (r\u00e9cursivit\u00e9) \u00e0 la commande rm va supprimer tous les fichiers contenus dans le dossier puis le dossier lui m\u00eame, l'option f va forcer la suppression m\u00eame si le dossier est plein. L'exemple ci-dessous montre la suppression d'un fichier test puis du dossier qui le contenait sti2d_sin . Info La fonction tree permet d'afficher l'arborescence du r\u00e9pertoire actuel, elle n'est pas install\u00e9e d'origine dans la distribution, pour ce faire tappez : sudo apt install tree 8 - Copier des fichiers ou des dossiers Dans le cas d'un fichier : Snippet $ cp [ chemin_du_fichier_\u00e0_copier ] [ r\u00e9pertoire_de_destination ] / Dans le cas d'un dossier : Snippet $ cp -r [ chemin_du_dossier_\u00e0_copier ] [ r\u00e9pertoire_de_destination ] / 9 - D\u00e9placement et renommage Renommer des fichiers ou des dossiers Se d\u00e9placer dans le r\u00e9pertoire o\u00f9 se situe le fichier ou le dossier \u00e0 renommer puis tappez la commande : Snippet $ mv [ nom_actuel ] [ nouveau_nom ] Dans l'exemple suivant nous renommons le dossier sti2d_sin en sti2d_itec D\u00e9placer des fichiers ou des dossiers Snippet $ mv [ chemin_du_dossier_ou_fichier_a_deplacer ] [ destination ] / Ci-dessous nous d\u00e9pla\u00e7ons le dossier ~/Documents/sti2d_itec dans le dossier ~/Desktop :","title":"Utiliser le terminal"},{"location":"tsti2d/linux/03-Commandes_bash/#utiliser-le-terminal","text":"","title":"Utiliser le terminal"},{"location":"tsti2d/linux/03-Commandes_bash/#1-le-systeme-de-fichiers-unix","text":"L'agencement d'un syst\u00e8me GNU/Linux n'est pas du tout le m\u00eame que celui que l'on a sur Windows, nous ne trouverons pas par exemple la racine du syst\u00e8me \u00e0 l'emplacement C:\\\\ . Le tableau ci-dessous donne les principaux dossiers de l'arborescence suivis de leur utilisation : Dossier Utilisation / Racine du syst\u00e8me \u00e9quivalent du C:\\\\ chez Windows /bin Applications fournies par le syst\u00e8me tels que ls , cd , pwd /dev Fichiers assurant la liaison avec les p\u00e9riph\u00e9riques (disques, cl\u00e9s usb...) /etc Fichiers de param\u00e9trage du syst\u00e8me /home R\u00e9pertoire personnel /proc Informations sur les processus et le noyau Linux /root R\u00e9pertoire du super-utilisateur /tmp Fichiers temporaires /sbin Fichiers binaires du syst\u00e8me /usr Fichiers binaires et commandes utilisateur /lib Biblioth\u00e8que syst\u00e8me partag\u00e9e /media Point de montage des p\u00e9riph\u00e9riques de stockage connect\u00e9s au syst\u00e8me /mnt Point de montage temporaire des partitions et p\u00e9riph\u00e9riques /var Syst\u00e8mes de fichiers variables, comme le contenu web (dossier www), mais aussi les logs /boot Fichiers de d\u00e9marage du syst\u00e8me","title":"1 - Le syst\u00e8me de fichiers UNIX"},{"location":"tsti2d/linux/03-Commandes_bash/#2-decouverte-du-prompt","text":"Le prompt est l'invite de commande qui attend calmement que vous lui demandiez d'effectuer quelque chose en tapant votre commande puis en validant avec la touche entr\u00e9e. Ci-dessous une petite explication :","title":"2 - D\u00e9couverte du prompt"},{"location":"tsti2d/linux/03-Commandes_bash/#3-utilisation-du-manuel","text":"Tout syst\u00e8me UNIX dispose d'un manuel int\u00e9gr\u00e9 \u00e0 la console, il permet de faire une recherche d\u00e9taill\u00e9e sur l'utilisation d'une commande. Nous pouvons acc\u00e9der \u00e0 ce manuel en tapant : man suivi du nom de la fonction pour laquelle on a besoin d'aide. La sortie se fait en tapant q . Dans la suite du TP, vous devrez vous servir au maximum du manuel avant de demander de l'aide. Ci-dessous un exemple du manuel avec la fonction ls :","title":"3 - Utilisation du manuel"},{"location":"tsti2d/linux/03-Commandes_bash/#4-se-deplacer-dans-larborescence","text":"","title":"4 - Se d\u00e9placer dans l'arborescence"},{"location":"tsti2d/linux/03-Commandes_bash/#lister-le-contenu-dun-repertoire-fichiers-et-dossiers","text":"Snippet $ ls Avec un affichage des fichiers cach\u00e9s : Snippet $ ls -a Info En environnement GNU/Linux pour cacher un fichier ou un dossier, il suffit de mettre un point, devant son nom. Dans cet exemple nous montrons la diff\u00e9rence entre les commandes ls et ls -a , les fichiers ou dossiers .config .gnupg ou encore .profile sont cach\u00e9s.","title":"Lister le contenu d'un r\u00e9pertoire (fichiers et dossiers)"},{"location":"tsti2d/linux/03-Commandes_bash/#se-deplacer-dun-repertoire-a-un-autre","text":"Snippet $ cd [ chemin_du_r\u00e9pertoire ] Ci-dessous nous nous d\u00e9pla\u00e7ons vers le r\u00e9pertoire /home/osboxes/Desktop : Vous pouvez remarquer dans le prompt le chemin qui change de ~ vers ~/Desktop Info Le symbole ~ dit tilde dans un syst\u00e8me GNU/Linux repr\u00e9sente le home de l'utilisateur, dans le cas de la vid\u00e9o ci-dessus l'utilisateur s'appelant osboxes , le chemin complet de son home est : /home/osboxes/","title":"Se d\u00e9placer d'un r\u00e9pertoire \u00e0 un autre"},{"location":"tsti2d/linux/03-Commandes_bash/#visualiser-le-chemin-du-repertoire-courant","text":"Snippet $ pwd Dans l'exemple ci-dessous nous montrons le chemin courant soit ~","title":"Visualiser le chemin du r\u00e9pertoire courant"},{"location":"tsti2d/linux/03-Commandes_bash/#5-utiliser-un-editeur-de-texte-en-ligne-de-commande","text":"Plusieurs \u00e9diteurs de texte en ligne de commande existent sous environnement GNU/Linux, parmi eux nous pouvons citer les tr\u00e8s connus vim et emacs , la courbe d'apprentissage des ces deux derniers \u00e9tant tr\u00e8s pentue nous pr\u00e9f\u00e9rons d\u00e9buter avec l'\u00e9diteur nano install\u00e9 par d\u00e9faut sur les distributions Ubuntu. Quelques commandes permettant de commencer avec nano : Snippet $ nano Snippet $ nano [ nom_du_fichier ] Warning Les noms de fichiers ne doivent pas comporter d'espaces, ceux-ci sont en g\u00e9n\u00e9ral remplac\u00e9s par l'underscore not\u00e9 _ . L'exemple ci-dessous montre la cr\u00e9ation d'un nouveau fichier avec nano appel\u00e9 : test_nano Info Nano propose une liste de fonctions accessibles par raccourcis clavier (voir barre en bas de l'\u00e9cran de nano), le ^ est \u00e0 remplacer par la touche Ctrl Par exemple Ctrl-g pour avoir une aide sur les fonctions de nano. Ctrl-x pour quitter nano, avant toute chose l'\u00e9diteur vous demande Save modified buffer (ANSWERING 'No' WILL DESTROY CHANGES) ? tapper y enregistrera votre travail, tapper n le supprimera. Puis nano demande File Name to Write: rentrez ici le nom que vous souhaitez donner \u00e0 votre fichier si il n'existe pas d\u00e9j\u00e0.","title":"5 - Utiliser un \u00e9diteur de texte en ligne de commande"},{"location":"tsti2d/linux/03-Commandes_bash/#6-creer-un-dossier-ou-repertoire","text":"Snippet $ mkdir [ nom_du_dossier ] La fonction mkdir suivie d'un nom cr\u00e9e un dossier dans le r\u00e9pertoire o\u00f9 vous vous trouvez. Nous cr\u00e9ons ci-dessous un dossier appel\u00e9 sti2d_sin dans le r\u00e9pertoire ~/Documents .","title":"6 - Cr\u00e9er un dossier ou r\u00e9pertoire"},{"location":"tsti2d/linux/03-Commandes_bash/#7-supprimer-un-fichier-ou-un-dossier","text":"Dans le cas d'un fichier : Snippet $ rm [ chemin_du_fichier ] Dans le cas d'un dossier : Snippet $ rm -rf [ chemin_du_dossier ] Info Le fait de rajouter l'option r (r\u00e9cursivit\u00e9) \u00e0 la commande rm va supprimer tous les fichiers contenus dans le dossier puis le dossier lui m\u00eame, l'option f va forcer la suppression m\u00eame si le dossier est plein. L'exemple ci-dessous montre la suppression d'un fichier test puis du dossier qui le contenait sti2d_sin . Info La fonction tree permet d'afficher l'arborescence du r\u00e9pertoire actuel, elle n'est pas install\u00e9e d'origine dans la distribution, pour ce faire tappez : sudo apt install tree","title":"7 - Supprimer un fichier ou un dossier"},{"location":"tsti2d/linux/03-Commandes_bash/#8-copier-des-fichiers-ou-des-dossiers","text":"Dans le cas d'un fichier : Snippet $ cp [ chemin_du_fichier_\u00e0_copier ] [ r\u00e9pertoire_de_destination ] / Dans le cas d'un dossier : Snippet $ cp -r [ chemin_du_dossier_\u00e0_copier ] [ r\u00e9pertoire_de_destination ] /","title":"8 - Copier des fichiers ou des dossiers"},{"location":"tsti2d/linux/03-Commandes_bash/#9-deplacement-et-renommage","text":"","title":"9 - D\u00e9placement et renommage"},{"location":"tsti2d/linux/03-Commandes_bash/#renommer-des-fichiers-ou-des-dossiers","text":"Se d\u00e9placer dans le r\u00e9pertoire o\u00f9 se situe le fichier ou le dossier \u00e0 renommer puis tappez la commande : Snippet $ mv [ nom_actuel ] [ nouveau_nom ] Dans l'exemple suivant nous renommons le dossier sti2d_sin en sti2d_itec","title":"Renommer des fichiers ou des dossiers"},{"location":"tsti2d/linux/03-Commandes_bash/#deplacer-des-fichiers-ou-des-dossiers","text":"Snippet $ mv [ chemin_du_dossier_ou_fichier_a_deplacer ] [ destination ] / Ci-dessous nous d\u00e9pla\u00e7ons le dossier ~/Documents/sti2d_itec dans le dossier ~/Desktop :","title":"D\u00e9placer des fichiers ou des dossiers"},{"location":"tsti2d/linux/04-Permissions/","text":"G\u00e9rer les permissions en environnement GNU-Linux Linux se veut \u00eatre un syst\u00e8me robuste aux virus et aux intrusions, en partie gr\u00e2ce aux permissions applicables sur chaque fichier ou dossier. Un utilisateur classique connect\u00e9 au syst\u00e8me ne peut avoir avoir un acc\u00e8s en modification qu'aux fichiers pr\u00e9sents dans son home , pour le reste il doit s'identifier en tant que super-utilisateur. En effet avec Linux, chaque fichier appartient \u00e0 un utilisateur et un groupe, les permissions en lecture, \u00e9criture et ex\u00e9cutions peuvent \u00eatre param\u00e9tr\u00e9es pour chacun. 1. G\u00e9rer les utilisateurs et les groupes 1.1 Ajouter/Supprimer un utilisateur Cr\u00e9er un nouvel utilisateur Snippet sudo adduser [nom] Lors de la cr\u00e9ation d'un nouvel utilisateur le syst\u00e8me demande un mot de passe, ainsi que plein d'autres renseignements tels que room phone number ... Il n'est pas n\u00e9cessaire de remplir ces informations appuyez sur entrer pour passer dessus. Info Lors de la cr\u00e9ation d'un nouvel utilisateur, linux cr\u00e9e automatiquement un groupe du m\u00eame nom. Se logger avec le nouvel utilisateur cr\u00e9\u00e9 Snippet su [nom_utilisateur] Supprimer un utilisateur Snippet sudo deluser [nom] 1.2 Ajouter/Supprimer un groupe Ajouter un groupe Snippet sudo addgroup [nom] Supprimer un groupe Snippet sudo delgroup [nom] 1.3 Ajouter/Retirer un utilisateur d'un groupe Ajout d'un utilisateur \u00e0 un groupe Snippet sudo adduser [utilisateur] [groupe] Retrait d'un utilisateur d'un groupe Snippet sudo deluser [utilisateur] [groupe] 1.4 Visualiser les groupes d'appartenance d'un utilisateur Snippet sudo groups [utilisateur] 2. Voir les permissions attribu\u00e9es Pour lister les permissions des fichier ou dossiers contenus dans un r\u00e9pertoire, il suffit de taper la commande suivante dans votre terminal : Snippet ls -l Et pour afficher \u00e9galement les permissions sur les fichiers et dossiers cach\u00e9s : Snippet ls -al Un exemple d'affichage des permissions du contenu du r\u00e9pertoire /home/marcel/ dans une distribution ubuntu : Nous d\u00e9taillons ci-dessous le contenu de la ligne du dossier Musique : Une distribution Linux est organis\u00e9e avec un ou plusieurs utilisateurs r\u00e9parties dans des groupes . D\u00e8s qu'un nouvel utilisateur est cr\u00e9\u00e9 il est automatiquement plac\u00e9 dans un groupe du m\u00eame nom . A chaque fichiers et dossiers sont attribu\u00e9s des permissions en lecture , \u00e9criture et ex\u00e9cution . Lors de l'affichage avec ls -l elles sont affich\u00e9es de la mani\u00e8re suivante : rwx # Droits en R-Lecture W-\u00c9criture X-Ex\u00e9cution r-x # Droits en R-Lecture et en X-Ex\u00e9cution --x # Juste le droit en X-Ex\u00e9cution 3. Modifier les permissions Pour modifier les permissions attribu\u00e9es \u00e0 un fichier ou un dossier il faut utiliser la commande : Snippet sudo chmod [options] [file or folder] La modification se fait en d\u00e9signant l'utilisateur u propri\u00e9taire pour user , le groupe g propri\u00e9taire pour group , et le restant a pour all . Ci dessous quelques exemples de modifications effectu\u00e9es sur le fichier foo : sudo chmod a+x foo #Ajout au fichier foo du droit en execution pour tous les utilisateurs. sudo chmod g-r foo #Retrait au fichier foo du droit en lecture pour le groupe. sudo chmod u-x foo #Retrait au fichier foo du droit d'ex\u00e9cution pour l'utilisateur. Nous montrons ci-dessous l'exemple du param\u00e9trage des permissions effectu\u00e9 sur le fichier foo : Remarquez qu'il nous faut dans cet exemple, trois lignes pour modifier les permissions du fichier foo , une autre technique nous permet de le faire d'un seul coup : sudo chmod 637 foo #Attribution des permissions rw--wxrwx Cette m\u00e9thode est issue de la conversion binaire-d\u00e9cimal : rw-|-wx|rwx ---> 110|011|111 --d\u00e9cimal--> 6|3|7 4. Modifier le propri\u00e9taire La commande suivante permet de modifier le propri\u00e9taire d'un fichier ou un dossier : Snippet sudo chown [user] [file or folder] Ci-dessous nous donnons un exemple de modification du propri\u00e9taire du fichier foobar : sudo chowm alice foobar #Changement de propri\u00e9taire du fichier foobar pour l'utilisateur alice. Ci-dessous nous donnons un exemple de modification du propri\u00e9taire du dossier Photos : sudo chown -R alice Photos #Changement de propri\u00e9taire du dossier Photos pour l'utilisateur alice. Info L'option -R ajout\u00e9e \u00e0 la commande chown est la r\u00e9cursivit\u00e9 elle permet de modifier le propri\u00e9taire sur le dossier et l'ensemble de son contenu. Exemple de modification de propri\u00e9taire du dossier Documents : 5. Modifier le groupe Pour modifier le groupe d'appartenance d'un fichier ou dossier, 2 options s'offrent \u00e0 nous : Utiliser la commande pr\u00e9c\u00e9dente de cette mani\u00e8re : Snippet sudo chown [user]:[group] [file or folder] Utiliser la commande chgrp : Snippet sudo chgrp [group] [file or folder] Ci-dessous un exemple de changement de groupe avec les deux commandes pr\u00e9c\u00e9dentes :","title":"G\u00e9rer les permissions en environnement GNU-Linux"},{"location":"tsti2d/linux/04-Permissions/#gerer-les-permissions-en-environnement-gnu-linux","text":"Linux se veut \u00eatre un syst\u00e8me robuste aux virus et aux intrusions, en partie gr\u00e2ce aux permissions applicables sur chaque fichier ou dossier. Un utilisateur classique connect\u00e9 au syst\u00e8me ne peut avoir avoir un acc\u00e8s en modification qu'aux fichiers pr\u00e9sents dans son home , pour le reste il doit s'identifier en tant que super-utilisateur. En effet avec Linux, chaque fichier appartient \u00e0 un utilisateur et un groupe, les permissions en lecture, \u00e9criture et ex\u00e9cutions peuvent \u00eatre param\u00e9tr\u00e9es pour chacun.","title":"G\u00e9rer les permissions en environnement GNU-Linux"},{"location":"tsti2d/linux/04-Permissions/#1-gerer-les-utilisateurs-et-les-groupes","text":"","title":"1. G\u00e9rer les utilisateurs et les groupes"},{"location":"tsti2d/linux/04-Permissions/#11-ajoutersupprimer-un-utilisateur","text":"Cr\u00e9er un nouvel utilisateur Snippet sudo adduser [nom] Lors de la cr\u00e9ation d'un nouvel utilisateur le syst\u00e8me demande un mot de passe, ainsi que plein d'autres renseignements tels que room phone number ... Il n'est pas n\u00e9cessaire de remplir ces informations appuyez sur entrer pour passer dessus. Info Lors de la cr\u00e9ation d'un nouvel utilisateur, linux cr\u00e9e automatiquement un groupe du m\u00eame nom. Se logger avec le nouvel utilisateur cr\u00e9\u00e9 Snippet su [nom_utilisateur] Supprimer un utilisateur Snippet sudo deluser [nom]","title":"1.1 Ajouter/Supprimer un utilisateur"},{"location":"tsti2d/linux/04-Permissions/#12-ajoutersupprimer-un-groupe","text":"Ajouter un groupe Snippet sudo addgroup [nom] Supprimer un groupe Snippet sudo delgroup [nom]","title":"1.2 Ajouter/Supprimer un groupe"},{"location":"tsti2d/linux/04-Permissions/#13-ajouterretirer-un-utilisateur-dun-groupe","text":"Ajout d'un utilisateur \u00e0 un groupe Snippet sudo adduser [utilisateur] [groupe] Retrait d'un utilisateur d'un groupe Snippet sudo deluser [utilisateur] [groupe]","title":"1.3 Ajouter/Retirer un utilisateur d'un groupe"},{"location":"tsti2d/linux/04-Permissions/#14-visualiser-les-groupes-dappartenance-dun-utilisateur","text":"Snippet sudo groups [utilisateur]","title":"1.4 Visualiser les groupes d'appartenance d'un utilisateur"},{"location":"tsti2d/linux/04-Permissions/#2-voir-les-permissions-attribuees","text":"Pour lister les permissions des fichier ou dossiers contenus dans un r\u00e9pertoire, il suffit de taper la commande suivante dans votre terminal : Snippet ls -l Et pour afficher \u00e9galement les permissions sur les fichiers et dossiers cach\u00e9s : Snippet ls -al Un exemple d'affichage des permissions du contenu du r\u00e9pertoire /home/marcel/ dans une distribution ubuntu : Nous d\u00e9taillons ci-dessous le contenu de la ligne du dossier Musique : Une distribution Linux est organis\u00e9e avec un ou plusieurs utilisateurs r\u00e9parties dans des groupes . D\u00e8s qu'un nouvel utilisateur est cr\u00e9\u00e9 il est automatiquement plac\u00e9 dans un groupe du m\u00eame nom . A chaque fichiers et dossiers sont attribu\u00e9s des permissions en lecture , \u00e9criture et ex\u00e9cution . Lors de l'affichage avec ls -l elles sont affich\u00e9es de la mani\u00e8re suivante : rwx # Droits en R-Lecture W-\u00c9criture X-Ex\u00e9cution r-x # Droits en R-Lecture et en X-Ex\u00e9cution --x # Juste le droit en X-Ex\u00e9cution","title":"2. Voir les permissions attribu\u00e9es"},{"location":"tsti2d/linux/04-Permissions/#3-modifier-les-permissions","text":"Pour modifier les permissions attribu\u00e9es \u00e0 un fichier ou un dossier il faut utiliser la commande : Snippet sudo chmod [options] [file or folder] La modification se fait en d\u00e9signant l'utilisateur u propri\u00e9taire pour user , le groupe g propri\u00e9taire pour group , et le restant a pour all . Ci dessous quelques exemples de modifications effectu\u00e9es sur le fichier foo : sudo chmod a+x foo #Ajout au fichier foo du droit en execution pour tous les utilisateurs. sudo chmod g-r foo #Retrait au fichier foo du droit en lecture pour le groupe. sudo chmod u-x foo #Retrait au fichier foo du droit d'ex\u00e9cution pour l'utilisateur. Nous montrons ci-dessous l'exemple du param\u00e9trage des permissions effectu\u00e9 sur le fichier foo : Remarquez qu'il nous faut dans cet exemple, trois lignes pour modifier les permissions du fichier foo , une autre technique nous permet de le faire d'un seul coup : sudo chmod 637 foo #Attribution des permissions rw--wxrwx Cette m\u00e9thode est issue de la conversion binaire-d\u00e9cimal : rw-|-wx|rwx ---> 110|011|111 --d\u00e9cimal--> 6|3|7","title":"3. Modifier les permissions"},{"location":"tsti2d/linux/04-Permissions/#4-modifier-le-proprietaire","text":"La commande suivante permet de modifier le propri\u00e9taire d'un fichier ou un dossier : Snippet sudo chown [user] [file or folder] Ci-dessous nous donnons un exemple de modification du propri\u00e9taire du fichier foobar : sudo chowm alice foobar #Changement de propri\u00e9taire du fichier foobar pour l'utilisateur alice. Ci-dessous nous donnons un exemple de modification du propri\u00e9taire du dossier Photos : sudo chown -R alice Photos #Changement de propri\u00e9taire du dossier Photos pour l'utilisateur alice. Info L'option -R ajout\u00e9e \u00e0 la commande chown est la r\u00e9cursivit\u00e9 elle permet de modifier le propri\u00e9taire sur le dossier et l'ensemble de son contenu. Exemple de modification de propri\u00e9taire du dossier Documents :","title":"4. Modifier le propri\u00e9taire"},{"location":"tsti2d/linux/04-Permissions/#5-modifier-le-groupe","text":"Pour modifier le groupe d'appartenance d'un fichier ou dossier, 2 options s'offrent \u00e0 nous : Utiliser la commande pr\u00e9c\u00e9dente de cette mani\u00e8re : Snippet sudo chown [user]:[group] [file or folder] Utiliser la commande chgrp : Snippet sudo chgrp [group] [file or folder] Ci-dessous un exemple de changement de groupe avec les deux commandes pr\u00e9c\u00e9dentes :","title":"5. Modifier le groupe"},{"location":"tsti2d/linux/05-Scripts_bash/","text":"R\u00e9alisation de scripts Bash 1 - \u00c9diter et lancer un script Pour \u00e9diter votre script Bash dans l'environnement GNU/Linux deux options s'offrent \u00e0 vous : Utiliser un \u00e9diteur de texte en ligne de commande tel que nano ou vim . Utiliser un \u00e9diteur de texte graphique comme gedit Une fois votre \u00e9diteur ouvert, la premi\u00e8re chose \u00e0 \u00e9crire est : #!/bin/bash Cette ligne de code indique au terminal quel type de Shell il doit utiliser, dans notre cas nous utiliserons le Shell Bash. Si vous souhaitez avoir des informations sur les diff\u00e9rents types de Shell, je ne peux que vous conseiller d'aller voir la page Wikip\u00e9dia suivante : lien Ensuite il faut avant tout enregistrer votre nouveau fichier de script, pour cela donnez lui l'extension .sh , extension utilis\u00e9e pour les scripts Bash. Pour lancer un script et observer son fonctionnement, positionnez vous avec le terminal \u00e0 l'endroit o\u00f9 il est situ\u00e9 (voir commandes cd et ls ), puis entrez les commandes suivantes : $ chmod a+x nom_du_script.sh Cette ligne donne le droit d'ex\u00e9cution de votre script \u00e0 tout le monde. $ ./nom_du_script.sh Cette ligne lance votre script. 2 - Utilisation de variables 2.1 - D\u00e9claration Pour d\u00e9clarer une variable en shell Bash il suffit rentrer son nom puis sa valeur initiale : foo = \"je suis le contenu de foo\" bar = 22 test = 22 .69 Ci-dessus nous avons d\u00e9clar\u00e9 et initialis\u00e9 3 variables : Une cha\u00eene de caract\u00e8re foo , un entier bar et un flottant test . Remarquez qu'il n'est pas n\u00e9cessaire de d\u00e9clarer le type de la variable, Bash va automatiquement le faire suivant valeur initiale choisie. Warning Lors de la d\u00e9claration d'une variable attention \u00e0 ne pas mettre d'espace entre la fin du nom et le = 2.2 - Utilisation Pour utiliser le contenu d'une variable il faut mettre le symbole $ devant le nom de celle-ci, on fait alors r\u00e9f\u00e9rence \u00e0 sa case m\u00e9moire, son contenu. Faire des calculs avec les variables : Une syntaxe particuli\u00e8re est utilis\u00e9e pour faire faire un calcul entre 2 ou plusieurs variables, exemple de script ci-dessous : #!/bin/bash a = 10 b = 12 c = $(( a+b )) # Afficher le r\u00e9sultat \u00e0 l'\u00e9cran echo $c D\u00e9claration de 2 variables a et b initialis\u00e9es respectivement \u00e0 10 et 12 Addition dans c Affichage du contenu de c \u00e0 l'\u00e9cran gr\u00e2ce \u00e0 la commande echo Warning Bash ne permet pas directement de faire des additions avec des nombres d\u00e9cimaux. Ci n\u00e9cessaire installer l'application appel\u00e9e bc permettant de g\u00e9rer le calcul en nombres flottants. Concat\u00e9ner des cha\u00eenes de caract\u00e8res Bash permet de concat\u00e9ner rapidement le contenu de 2 variables de type cha\u00eene de caract\u00e8res, un exemple ci-dessous : #!/bin/bash a = \"J'aime \" b = \"coder avec le shell Bash !\" c = $a$b # Afficher le r\u00e9sultat \u00e0 l'\u00e9cran echo $c 1. D\u00e9claration de 2 variables a et b initialis\u00e9es respectivement \u00e0 J'aime et coder avec le shell Bash 2. Concat\u00e9nation dans c 3. Affichage du contenu de c \u00e0 l'\u00e9cran gr\u00e2ce \u00e0 la commande echo 3 - Les structures conditionnelles 3.1 Les op\u00e9rateurs de comparaison Op\u00e9rateur Nom -lt lower than (inf\u00e9rieur \u00e0) -gt greater than (sup\u00e9rieur \u00e0) -eq equal (\u00e9gal \u00e0) -ne not equal (diff\u00e9rent de) -ge greater or equal (sup\u00e9rieur ou egal \u00e0) -le lower or equal (inf\u00e9rieur ou \u00e9gal \u00e0) Info Ces op\u00e9rateurs sont uniquement utilisables avec des nombres, pour les chaines de caract\u00e8res voir ci-dessous. De plus Bash ne permet pas directement de comparer des nombres d\u00e9cimaux, ces expressions fonctionnent seulement avec des entiers . Op\u00e9rateur Nom == \u00c9galit\u00e9 != Diff\u00e9rence 3.1 If La structure if effectue le test donn\u00e9, si il est vrai, elle dirige l'ex\u00e9cution vers le then , dans le cas contraire elle continu la suite des instructions, un script exemple ci-dessous : #!/bin/bash # Capture des 2 nombres saisis par l'utilisateur echo \"Rentrez le premier nombre\" read a # Saisi du nombre a echo \"Rentrez le second nombre\" read b # Saisi du nombre b # Test d'inf\u00e9riorit\u00e9 de a sur b if [ $a -lt $b ] ; then echo \"a est inf\u00e9rieur \u00e0 b\" fi # Test de sup\u00e9riorit\u00e9 de a sur b if [ $a -gt $b ] ; then echo \"a est sup\u00e9rieur \u00e0 b\" fi # Test d'\u00e9galit\u00e9 de a et b if [ $a -eq $b ] ; then echo \"a est \u00e9gal \u00e0 b\" fi Warning Toujours mettre un espace apr\u00e8s le 1er [ et avant le dernier ] de la condition. 3.2 If Else Nous reprenons le script pr\u00e9c\u00e9dent en utilisant une structure if elif : #!/bin/bash # Capture des 2 nombres saisis par l'utilisateur echo \"Rentrez le premier nombre\" read a # Saisi du nombre a echo \"Rentrez le second nombre\" read b # Saisi du nombre b if [ $a -lt $b ] ; then # Test d'inf\u00e9riorit\u00e9 de a sur b echo \"a est inf\u00e9rieur \u00e0 b\" elif [ $a -gt $b ] ; then # Sinon test de sup\u00e9riorit\u00e9 de a sur b echo \"a est sup\u00e9rieur \u00e0 b\" elif [ $a -eq $b ] ; then # Sinon test d'\u00e9galit\u00e9 de a et b echo \"a est \u00e9gal \u00e0 b\" fi 3.3 Case La structure case tr\u00e8s utilis\u00e9e dans les menus, permet d'orienter le programme suivant un choix de l'utilisateur : #!/bin/bash echo \"Rentrez un nombre compris entre 1 et 4\" read nb # Saisi du nombre nb case $nb in # Tests sur la variable nb, contenant le nombre saisi 1 ) echo \"Super ! Vous avez saisi 1\" ;; # Ne pas oublier les 2 ;; sauf sur la derni\u00e8re ligne 2 ) echo \"Formidable ! Vous avez saisi 2\" ;; 3 ) echo \"Fantastique ! Vous avez saisi 3\" ;; 4 ) echo \"Wahoo ! Vous avez saisi 4\" ;; * ) echo \"Vous n'avez rien saisi de valable ! Dommage\" # Cas o\u00f9 nb different de [1;4] esac 4 - Les boucles 4.1 While La boucle while ou \"tant que\" permet de r\u00e9p\u00e9ter un ensemble d'instructions tant que la condition donn\u00e9e est vraie, exemple ci-dessous : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 while [ $i -lt 5 ] ; do # On tourne tant que i<5 echo \"compteur = \" $i # On affiche le contenu de i i = $(( $i + 1 )) # On incr\u00e9mente i done 4.2 Until La boucle until ou \"jusqu'\u00e0\" contrairement \u00e0 la boucle while va s'ex\u00e9cuter jusqu'\u00e0 ce que la condition soit v\u00e9rifi\u00e9e. Nous reprenons l'exemple pr\u00e9c\u00e9dent et adaptons la condition pour compter de 0 \u00e0 4 : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 until [ $i -gt 5 ] ; do # On tourne jusqu'\u00e0 ce que i>4 echo \"compteur = \" $i # On affiche le contenu de i i = $(( $i + 1 )) # On incr\u00e9mente i done 4.3 For La boucle for est tr\u00e8s utilis\u00e9e en shell Bash pour parcourir les \u00e9l\u00e9ments d'une liste, d'un fichier ou encore le contenu d'un r\u00e9pertoire. Dans l'exemple ci-dessous nous listons tous les fichier du r\u00e9pertoire courant soit /home/foo/ : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 # On parcourt le r\u00e9pertoire actuel, le nom du fichier recueilli est mis dans la var nom_fichier \u00e0 chaque it\u00e9ration # '*' D\u00e9signe l'ensemble des fichier du r\u00e9pertoire for nom_fichier in * ; do echo $i \". \" $nom_fichier i = $(( $i + 1 )) # On incr\u00e9mente i done 5 - Les param\u00e8tres positionnels Les param\u00e8tres positionnels sont les param\u00e8tres pass\u00e9s en entr\u00e9e d'un script quand vous appelez celui-ci dans le terminal. Par exemple lors de l'utilisation de la commande rm on peut passer l'option -r qui est un param\u00e8tre positionnel : rm -r Il est facile d'utiliser ces param\u00e8tres en Bash ils sont r\u00e9f\u00e9renc\u00e9s par un num\u00e9ro : 1 pour le premier param\u00e8tre, 2 pour le second ... $ mon_script param1 param2 param3 Pour utiliser ces param\u00e8tres dans le script : #!/bin/bash $1 # Utilisation du premier param\u00e8tre $2 # Utilisation du second param\u00e8tre $3 # Utilisation du troisi\u00e8me param\u00e8tre Info Le param\u00e8tre positionnel $0 est une cha\u00eene de caract\u00e8res contenant le nom du script","title":"R\u00e9alisation de scripts Bash"},{"location":"tsti2d/linux/05-Scripts_bash/#realisation-de-scripts-bash","text":"","title":"R\u00e9alisation de scripts Bash"},{"location":"tsti2d/linux/05-Scripts_bash/#1-editer-et-lancer-un-script","text":"Pour \u00e9diter votre script Bash dans l'environnement GNU/Linux deux options s'offrent \u00e0 vous : Utiliser un \u00e9diteur de texte en ligne de commande tel que nano ou vim . Utiliser un \u00e9diteur de texte graphique comme gedit Une fois votre \u00e9diteur ouvert, la premi\u00e8re chose \u00e0 \u00e9crire est : #!/bin/bash Cette ligne de code indique au terminal quel type de Shell il doit utiliser, dans notre cas nous utiliserons le Shell Bash. Si vous souhaitez avoir des informations sur les diff\u00e9rents types de Shell, je ne peux que vous conseiller d'aller voir la page Wikip\u00e9dia suivante : lien Ensuite il faut avant tout enregistrer votre nouveau fichier de script, pour cela donnez lui l'extension .sh , extension utilis\u00e9e pour les scripts Bash. Pour lancer un script et observer son fonctionnement, positionnez vous avec le terminal \u00e0 l'endroit o\u00f9 il est situ\u00e9 (voir commandes cd et ls ), puis entrez les commandes suivantes : $ chmod a+x nom_du_script.sh Cette ligne donne le droit d'ex\u00e9cution de votre script \u00e0 tout le monde. $ ./nom_du_script.sh Cette ligne lance votre script.","title":"1 - \u00c9diter et lancer un script"},{"location":"tsti2d/linux/05-Scripts_bash/#2-utilisation-de-variables","text":"","title":"2 - Utilisation de variables"},{"location":"tsti2d/linux/05-Scripts_bash/#21-declaration","text":"Pour d\u00e9clarer une variable en shell Bash il suffit rentrer son nom puis sa valeur initiale : foo = \"je suis le contenu de foo\" bar = 22 test = 22 .69 Ci-dessus nous avons d\u00e9clar\u00e9 et initialis\u00e9 3 variables : Une cha\u00eene de caract\u00e8re foo , un entier bar et un flottant test . Remarquez qu'il n'est pas n\u00e9cessaire de d\u00e9clarer le type de la variable, Bash va automatiquement le faire suivant valeur initiale choisie. Warning Lors de la d\u00e9claration d'une variable attention \u00e0 ne pas mettre d'espace entre la fin du nom et le =","title":"2.1 - D\u00e9claration"},{"location":"tsti2d/linux/05-Scripts_bash/#22-utilisation","text":"Pour utiliser le contenu d'une variable il faut mettre le symbole $ devant le nom de celle-ci, on fait alors r\u00e9f\u00e9rence \u00e0 sa case m\u00e9moire, son contenu. Faire des calculs avec les variables : Une syntaxe particuli\u00e8re est utilis\u00e9e pour faire faire un calcul entre 2 ou plusieurs variables, exemple de script ci-dessous : #!/bin/bash a = 10 b = 12 c = $(( a+b )) # Afficher le r\u00e9sultat \u00e0 l'\u00e9cran echo $c D\u00e9claration de 2 variables a et b initialis\u00e9es respectivement \u00e0 10 et 12 Addition dans c Affichage du contenu de c \u00e0 l'\u00e9cran gr\u00e2ce \u00e0 la commande echo Warning Bash ne permet pas directement de faire des additions avec des nombres d\u00e9cimaux. Ci n\u00e9cessaire installer l'application appel\u00e9e bc permettant de g\u00e9rer le calcul en nombres flottants. Concat\u00e9ner des cha\u00eenes de caract\u00e8res Bash permet de concat\u00e9ner rapidement le contenu de 2 variables de type cha\u00eene de caract\u00e8res, un exemple ci-dessous : #!/bin/bash a = \"J'aime \" b = \"coder avec le shell Bash !\" c = $a$b # Afficher le r\u00e9sultat \u00e0 l'\u00e9cran echo $c 1. D\u00e9claration de 2 variables a et b initialis\u00e9es respectivement \u00e0 J'aime et coder avec le shell Bash 2. Concat\u00e9nation dans c 3. Affichage du contenu de c \u00e0 l'\u00e9cran gr\u00e2ce \u00e0 la commande echo","title":"2.2 - Utilisation"},{"location":"tsti2d/linux/05-Scripts_bash/#3-les-structures-conditionnelles","text":"","title":"3 - Les structures conditionnelles"},{"location":"tsti2d/linux/05-Scripts_bash/#31-les-operateurs-de-comparaison","text":"Op\u00e9rateur Nom -lt lower than (inf\u00e9rieur \u00e0) -gt greater than (sup\u00e9rieur \u00e0) -eq equal (\u00e9gal \u00e0) -ne not equal (diff\u00e9rent de) -ge greater or equal (sup\u00e9rieur ou egal \u00e0) -le lower or equal (inf\u00e9rieur ou \u00e9gal \u00e0) Info Ces op\u00e9rateurs sont uniquement utilisables avec des nombres, pour les chaines de caract\u00e8res voir ci-dessous. De plus Bash ne permet pas directement de comparer des nombres d\u00e9cimaux, ces expressions fonctionnent seulement avec des entiers . Op\u00e9rateur Nom == \u00c9galit\u00e9 != Diff\u00e9rence","title":"3.1 Les op\u00e9rateurs de comparaison"},{"location":"tsti2d/linux/05-Scripts_bash/#31-if","text":"La structure if effectue le test donn\u00e9, si il est vrai, elle dirige l'ex\u00e9cution vers le then , dans le cas contraire elle continu la suite des instructions, un script exemple ci-dessous : #!/bin/bash # Capture des 2 nombres saisis par l'utilisateur echo \"Rentrez le premier nombre\" read a # Saisi du nombre a echo \"Rentrez le second nombre\" read b # Saisi du nombre b # Test d'inf\u00e9riorit\u00e9 de a sur b if [ $a -lt $b ] ; then echo \"a est inf\u00e9rieur \u00e0 b\" fi # Test de sup\u00e9riorit\u00e9 de a sur b if [ $a -gt $b ] ; then echo \"a est sup\u00e9rieur \u00e0 b\" fi # Test d'\u00e9galit\u00e9 de a et b if [ $a -eq $b ] ; then echo \"a est \u00e9gal \u00e0 b\" fi Warning Toujours mettre un espace apr\u00e8s le 1er [ et avant le dernier ] de la condition.","title":"3.1 If"},{"location":"tsti2d/linux/05-Scripts_bash/#32-if-else","text":"Nous reprenons le script pr\u00e9c\u00e9dent en utilisant une structure if elif : #!/bin/bash # Capture des 2 nombres saisis par l'utilisateur echo \"Rentrez le premier nombre\" read a # Saisi du nombre a echo \"Rentrez le second nombre\" read b # Saisi du nombre b if [ $a -lt $b ] ; then # Test d'inf\u00e9riorit\u00e9 de a sur b echo \"a est inf\u00e9rieur \u00e0 b\" elif [ $a -gt $b ] ; then # Sinon test de sup\u00e9riorit\u00e9 de a sur b echo \"a est sup\u00e9rieur \u00e0 b\" elif [ $a -eq $b ] ; then # Sinon test d'\u00e9galit\u00e9 de a et b echo \"a est \u00e9gal \u00e0 b\" fi","title":"3.2 If Else"},{"location":"tsti2d/linux/05-Scripts_bash/#33-case","text":"La structure case tr\u00e8s utilis\u00e9e dans les menus, permet d'orienter le programme suivant un choix de l'utilisateur : #!/bin/bash echo \"Rentrez un nombre compris entre 1 et 4\" read nb # Saisi du nombre nb case $nb in # Tests sur la variable nb, contenant le nombre saisi 1 ) echo \"Super ! Vous avez saisi 1\" ;; # Ne pas oublier les 2 ;; sauf sur la derni\u00e8re ligne 2 ) echo \"Formidable ! Vous avez saisi 2\" ;; 3 ) echo \"Fantastique ! Vous avez saisi 3\" ;; 4 ) echo \"Wahoo ! Vous avez saisi 4\" ;; * ) echo \"Vous n'avez rien saisi de valable ! Dommage\" # Cas o\u00f9 nb different de [1;4] esac","title":"3.3 Case"},{"location":"tsti2d/linux/05-Scripts_bash/#4-les-boucles","text":"","title":"4 - Les boucles"},{"location":"tsti2d/linux/05-Scripts_bash/#41-while","text":"La boucle while ou \"tant que\" permet de r\u00e9p\u00e9ter un ensemble d'instructions tant que la condition donn\u00e9e est vraie, exemple ci-dessous : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 while [ $i -lt 5 ] ; do # On tourne tant que i<5 echo \"compteur = \" $i # On affiche le contenu de i i = $(( $i + 1 )) # On incr\u00e9mente i done","title":"4.1 While"},{"location":"tsti2d/linux/05-Scripts_bash/#42-until","text":"La boucle until ou \"jusqu'\u00e0\" contrairement \u00e0 la boucle while va s'ex\u00e9cuter jusqu'\u00e0 ce que la condition soit v\u00e9rifi\u00e9e. Nous reprenons l'exemple pr\u00e9c\u00e9dent et adaptons la condition pour compter de 0 \u00e0 4 : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 until [ $i -gt 5 ] ; do # On tourne jusqu'\u00e0 ce que i>4 echo \"compteur = \" $i # On affiche le contenu de i i = $(( $i + 1 )) # On incr\u00e9mente i done","title":"4.2 Until"},{"location":"tsti2d/linux/05-Scripts_bash/#43-for","text":"La boucle for est tr\u00e8s utilis\u00e9e en shell Bash pour parcourir les \u00e9l\u00e9ments d'une liste, d'un fichier ou encore le contenu d'un r\u00e9pertoire. Dans l'exemple ci-dessous nous listons tous les fichier du r\u00e9pertoire courant soit /home/foo/ : #!/bin/bash i = 0 # Initialisation de la variable de comptage \u00e0 0 # On parcourt le r\u00e9pertoire actuel, le nom du fichier recueilli est mis dans la var nom_fichier \u00e0 chaque it\u00e9ration # '*' D\u00e9signe l'ensemble des fichier du r\u00e9pertoire for nom_fichier in * ; do echo $i \". \" $nom_fichier i = $(( $i + 1 )) # On incr\u00e9mente i done","title":"4.3 For"},{"location":"tsti2d/linux/05-Scripts_bash/#5-les-parametres-positionnels","text":"Les param\u00e8tres positionnels sont les param\u00e8tres pass\u00e9s en entr\u00e9e d'un script quand vous appelez celui-ci dans le terminal. Par exemple lors de l'utilisation de la commande rm on peut passer l'option -r qui est un param\u00e8tre positionnel : rm -r Il est facile d'utiliser ces param\u00e8tres en Bash ils sont r\u00e9f\u00e9renc\u00e9s par un num\u00e9ro : 1 pour le premier param\u00e8tre, 2 pour le second ... $ mon_script param1 param2 param3 Pour utiliser ces param\u00e8tres dans le script : #!/bin/bash $1 # Utilisation du premier param\u00e8tre $2 # Utilisation du second param\u00e8tre $3 # Utilisation du troisi\u00e8me param\u00e8tre Info Le param\u00e8tre positionnel $0 est une cha\u00eene de caract\u00e8res contenant le nom du script","title":"5 - Les param\u00e8tres positionnels"},{"location":"tsti2d/linux/ACT1-Util_term/","text":"Activit\u00e9 : Utiliser le terminal Le but de cette activit\u00e9 est une initiation \u00e0 l'utilisation de la ligne de commande sous Linux. Nous souhaitons pour cette s\u00e9ance nous focaliser sur l'utilisation de Linux \u00e0 l'aide de la console, invent\u00e9e dans les ann\u00e9es 70, quand l'interface graphique n'existait pas encore. Aujourd'hui la console est appr\u00e9ci\u00e9e pour son gain de temps (commandes intuitives courtes et abr\u00e9g\u00e9es), et sa tr\u00e8s faible consommation de ressources graphiques. Savoir utiliser la console nous permet de comprendre comment le syst\u00e8me fonctionne, son utilisation sera par exemple indispensable pour communiquer avec le Raspberry Pi \u00e0 distance. 1 - Lancement de la distribution en live USB Cette activit\u00e9 se d\u00e9roulera sur une distribution GNU/Linux lanc\u00e9e en live usb sur les ordinateurs de la salle. C'est \u00e0 dire que le syst\u00e8me fonctionnera sur la cl\u00e9 usb sans \u00eatre install\u00e9 et sans alt\u00e9rer le contenu du disque Windows. D\u00e9marrez l'ordinateur avec la cl\u00e9 USB connect\u00e9e. Choisissez Essayer Ubuntu Tout d'abord changez la langue du clavier pour le Fran\u00e7ais : Gr\u00e2ce au lanceur d\u00e9marrez un terminal : F\u00e9licitations ! Vous \u00eates devant un invite de commande aussi appel\u00e9 prompt 2 - D\u00e9placement dans l'arborescence a - Commandes ls , ls -a , cd et pwd : Utilisez la commande pwd pour visualiser le chemin de votre emplacement actuel. D\u00e9placez-vous sur la racine du syst\u00e8me soit l'emplacement / \u00e0 l'aide de cd Une fois fait utilisez la commande ls pour afficher l'ensemble des fichiers et dossiers composant le r\u00e9pertoire actuel. Retrouvez l'arborescence \u00e9voqu\u00e9e pr\u00e9c\u00e9demment. Rajoutez \u00e0 ls l'option -a soit ls -a Que remarquez vous ? Que signifie le point devant certains fichiers ? b - Utilisation de nano l'\u00e9diteur de texte : D\u00e9placez vous \u00e0 l'aide de cd dans le r\u00e9pertoire /home/utilisateur/Documents Cr\u00e9ez \u00e0 l'aide de l'\u00e9diteur nano un nouveau document appel\u00e9 : Activit\u00e9_Linux \u00c9crivez dans le document le texte suivant : Linux c'est vraiment g\u00e9nial ! Quittez nano en enregistrant votre fichier quand il vous le demande. Visualisez \u00e0 l'aide de ls si le fichier \u00e0 bien \u00e9t\u00e9 cr\u00e9\u00e9 et r\u00e9-ouvrez le avec nano pour revoir votre cr\u00e9ation. Rajoutez \u00e7a c'est s\u00fbr ! \u00e0 la suite de votre texte. Quittez \u00e0 nouveau nano en enregistrant une derni\u00e8re fois. c - Utilisation de mv , cp , rm et mkdir Vous souhaitez cr\u00e9er un nouveau r\u00e9pertoire o\u00f9 mettre le fichier que vous venez de cr\u00e9er, utilisez la commande mkdir pour cr\u00e9er un r\u00e9pertoire s'appelant \u00ab Cours_Linux \u00bb toujours dans /home/utilisateur/Documents D\u00e9placez le fichier \u00ab Activit\u00e9_Linux \u00bb dans ce nouveau dossier \u00e0 l'aide de la commande mv , v\u00e9rifiez que le d\u00e9- placement a bien \u00e9t\u00e9 effectu\u00e9 Vous vous \u00eates tromp\u00e9s de nom et souhaitez renommez le fichier Activit\u00e9_Linux en Premier_cours_Linux utilisez pour cela \u00e0 nouveau la commande mv , v\u00e9rifiez que le changement a bien \u00e9t\u00e9 effectu\u00e9. Cr\u00e9ez une copie de ce m\u00eame fichier sur le bureau \u00e0 l'aide de la commande cp , v\u00e9rifiez si la copie est pr\u00e9sente sur le bureau. Vous r\u00e9alisez que vous n'avez finalement pas besoin de la copie sur le bureau et souhaitez la supprimer gr\u00e2ce \u00e0 la commande rm Vous souhaitez \u00e9galement supprimer le dossier \u00ab Premier_cours_Linux \u00bb qui finalement ne vous sert pas \u00e0 grand chose. Rajoutez pour cela l'option -r \u00e0 rm .","title":"Activit\u00e9 : Utiliser le terminal"},{"location":"tsti2d/linux/ACT1-Util_term/#activite-utiliser-le-terminal","text":"Le but de cette activit\u00e9 est une initiation \u00e0 l'utilisation de la ligne de commande sous Linux. Nous souhaitons pour cette s\u00e9ance nous focaliser sur l'utilisation de Linux \u00e0 l'aide de la console, invent\u00e9e dans les ann\u00e9es 70, quand l'interface graphique n'existait pas encore. Aujourd'hui la console est appr\u00e9ci\u00e9e pour son gain de temps (commandes intuitives courtes et abr\u00e9g\u00e9es), et sa tr\u00e8s faible consommation de ressources graphiques. Savoir utiliser la console nous permet de comprendre comment le syst\u00e8me fonctionne, son utilisation sera par exemple indispensable pour communiquer avec le Raspberry Pi \u00e0 distance.","title":"Activit\u00e9 : Utiliser le terminal"},{"location":"tsti2d/linux/ACT1-Util_term/#1-lancement-de-la-distribution-en-live-usb","text":"Cette activit\u00e9 se d\u00e9roulera sur une distribution GNU/Linux lanc\u00e9e en live usb sur les ordinateurs de la salle. C'est \u00e0 dire que le syst\u00e8me fonctionnera sur la cl\u00e9 usb sans \u00eatre install\u00e9 et sans alt\u00e9rer le contenu du disque Windows. D\u00e9marrez l'ordinateur avec la cl\u00e9 USB connect\u00e9e. Choisissez Essayer Ubuntu Tout d'abord changez la langue du clavier pour le Fran\u00e7ais : Gr\u00e2ce au lanceur d\u00e9marrez un terminal : F\u00e9licitations ! Vous \u00eates devant un invite de commande aussi appel\u00e9 prompt","title":"1 - Lancement de la distribution en live USB"},{"location":"tsti2d/linux/ACT1-Util_term/#2-deplacement-dans-larborescence","text":"","title":"2 - D\u00e9placement dans l'arborescence"},{"location":"tsti2d/linux/ACT1-Util_term/#a-commandes-ls-ls-a-cd-et-pwd","text":"Utilisez la commande pwd pour visualiser le chemin de votre emplacement actuel. D\u00e9placez-vous sur la racine du syst\u00e8me soit l'emplacement / \u00e0 l'aide de cd Une fois fait utilisez la commande ls pour afficher l'ensemble des fichiers et dossiers composant le r\u00e9pertoire actuel. Retrouvez l'arborescence \u00e9voqu\u00e9e pr\u00e9c\u00e9demment. Rajoutez \u00e0 ls l'option -a soit ls -a Que remarquez vous ? Que signifie le point devant certains fichiers ?","title":"a - Commandes ls, ls -a , cd et pwd:"},{"location":"tsti2d/linux/ACT1-Util_term/#b-utilisation-de-nano-lediteur-de-texte","text":"D\u00e9placez vous \u00e0 l'aide de cd dans le r\u00e9pertoire /home/utilisateur/Documents Cr\u00e9ez \u00e0 l'aide de l'\u00e9diteur nano un nouveau document appel\u00e9 : Activit\u00e9_Linux \u00c9crivez dans le document le texte suivant : Linux c'est vraiment g\u00e9nial ! Quittez nano en enregistrant votre fichier quand il vous le demande. Visualisez \u00e0 l'aide de ls si le fichier \u00e0 bien \u00e9t\u00e9 cr\u00e9\u00e9 et r\u00e9-ouvrez le avec nano pour revoir votre cr\u00e9ation. Rajoutez \u00e7a c'est s\u00fbr ! \u00e0 la suite de votre texte. Quittez \u00e0 nouveau nano en enregistrant une derni\u00e8re fois.","title":"b - Utilisation de nano l'\u00e9diteur de texte :"},{"location":"tsti2d/linux/ACT1-Util_term/#c-utilisation-de-mv-cp-rm-et-mkdir","text":"Vous souhaitez cr\u00e9er un nouveau r\u00e9pertoire o\u00f9 mettre le fichier que vous venez de cr\u00e9er, utilisez la commande mkdir pour cr\u00e9er un r\u00e9pertoire s'appelant \u00ab Cours_Linux \u00bb toujours dans /home/utilisateur/Documents D\u00e9placez le fichier \u00ab Activit\u00e9_Linux \u00bb dans ce nouveau dossier \u00e0 l'aide de la commande mv , v\u00e9rifiez que le d\u00e9- placement a bien \u00e9t\u00e9 effectu\u00e9 Vous vous \u00eates tromp\u00e9s de nom et souhaitez renommez le fichier Activit\u00e9_Linux en Premier_cours_Linux utilisez pour cela \u00e0 nouveau la commande mv , v\u00e9rifiez que le changement a bien \u00e9t\u00e9 effectu\u00e9. Cr\u00e9ez une copie de ce m\u00eame fichier sur le bureau \u00e0 l'aide de la commande cp , v\u00e9rifiez si la copie est pr\u00e9sente sur le bureau. Vous r\u00e9alisez que vous n'avez finalement pas besoin de la copie sur le bureau et souhaitez la supprimer gr\u00e2ce \u00e0 la commande rm Vous souhaitez \u00e9galement supprimer le dossier \u00ab Premier_cours_Linux \u00bb qui finalement ne vous sert pas \u00e0 grand chose. Rajoutez pour cela l'option -r \u00e0 rm .","title":"c - Utilisation de mv, cp, rm et mkdir"},{"location":"tsti2d/linux/ACT2-Linux_reseau/","text":"Activit\u00e9 : Linux et le r\u00e9seau 1 - Cr\u00e9ation d'un nouvel utilisateur La distribution en \"live USB\" cr\u00e9e un utilisateur \"xubuntu\" d'office sans mot de passe, pour une connexion \u00e0 distance sur votre machine vous aurez besoin de cr\u00e9er un nouvel utilisateur avec mot de passe. Pour cela il s'agit d'utiliser la commande : adduser , qui va cr\u00e9er un nouvel utilisateur avec possibilit\u00e9 de lui assigner un mot de passe, nom, pr\u00e9nom, adresse... Le site Ubuntu France, donne une explication compl\u00e8te de l'utilisation de cette commande allez y jeter un coup d'\u0153il : Ubuntu France tutoriel adduser \"Sandwich\" , by XKCD used under CC BY-NC 2.5 L'utilisateur cr\u00e9\u00e9 ne dispose des privil\u00e8ges root (super utilisateur, le sudo ), il faut donc l'ajouter \u00e0 la liste des sudoers , pour se faire suivez l'explication donn\u00e9e par le site : Ubuntu France tutoriel sudoers Question Utilisez la commande adduser pour cr\u00e9er un nouvel utilisateur de votre choix, d\u00e9finissez \u00e9galement un mot de passe. Rajoutez une ligne au fichier /etc/sudoers pour autoriser l'acc\u00e8s au privil\u00e8ges super utilisateur \u00e0 votre nouvel utilisateur : Nom_utilisateur ALL=(ALL:ALL) ALL Identifiez vous avec le nouvel utilisateur cr\u00e9\u00e9 avec su nom_nouvel_utilisateur 2 - Le gestionnaire de paquets Les applications d'un syst\u00e8me GNU/Linux sont g\u00e9r\u00e9es par un gestionnaire de paquet ( apt pour Debian et donc Ubuntu, yum pour Fedora et pacman pour Archlinux) pour installer une application, nous ne proc\u00e9dons pas comme sur Windows o\u00f9 il s'agit la plupart du temps d'aller r\u00e9cup\u00e9rer le fichier d'installation sur le site du fabricant, ou sur un site g\u00e9n\u00e9raliste \u00e0 la merci des virus et programmes publicitaires... Sur GNU Linux les applications sont dans des bases de donn\u00e9es appel\u00e9es repositories , chaque application est ainsi constamment maintenue \u00e0 jour, vous \u00eates donc certains d'installer la derni\u00e8re version et ce de mani\u00e8re fiable. Un gros avantage : la mise en jour de l'ensemble des applications du syst\u00e8me se fait d'un seul coup, gr\u00e2ce au gestionnaire de paquets. Avant d'installer quoi que ce soit sur la distribution il faut toujours mettre \u00e0 jour les repositories et ensuite mettre \u00e0 jour le syst\u00e8me . Pour ce faire nous utilisons la commande apt update puis apt upgrade Question Utilisez la commande apt update en mode super utilisateur pour mettre \u00e0 jour les bases de donn\u00e9es. Utilisez la commande apt upgrade en mode super utilisateur pour mettre \u00e0 jour le syst\u00e8me. 3 - La configuration r\u00e9seau sous Linux La commande ifconfig permet de visualiser la configuration r\u00e9seau de l'ordinateur, gr\u00e2ce \u00e0 elle nous pouvons obtenir des informations sur l'adresse IP, l'adresse MAC ou encore l'interface r\u00e9seau utilis\u00e9e. Question Utilisez la commande ifconfig pour obtenir le nom de l'interface r\u00e9seau utilis\u00e9 Utilisez la m\u00eame commande pour obtenir votre adresse IP A pr\u00e9sent nous souhaitons modifier l'adresse IP de l'interface r\u00e9seau utilis\u00e9, pour ce faire nous utiliserons la commande ifconfig eth0 nouvelle-adresse , la nouvelle adresse \u00e9tant l'adresse de l'ordinateur correspondant \u00e0 la salle et au b\u00e2timent donn\u00e9e par le gestionnaire r\u00e9seau. Au lyc\u00e9e Rascol, les adresses IP des postes informatiques sont configur\u00e9es de cette mani\u00e8re : 10.bbb.ccc.ddd bbb : B\u00e2timent (si b\u00e2timent E : 5) ccc : Salle (si salle 007 : 7) ddd : Num\u00e9ro du PC Question D\u00e9sactivez l'interface r\u00e9seau o\u00f9 vous allez changer la configuration avec ifdown eth0 Utiliser la commande ifconfig pour changer l'adresse IP de l'ordinateur, en la mettant au format Rascol R\u00e9activez l'interface r\u00e9seau avec ifup eth0 Pour faire une configuration r\u00e9seau plus pouss\u00e9e, nous pouvons modifier le fichier /etc/network/interfaces , fichier de configuration pour le r\u00e9seau sur chaque distribution linux. Question Editez le fichier /etc/network/interfaces \u00e0 l'aide de nano pour obtenir la configuration suivante : adresse IP : Celle de Rascol configur\u00e9e pr\u00e9c\u00e9demment passerelle : 10.255.5.204 masque de sous r\u00e9seau : 255.0.0.0 serveur dns : Celui de Google Relancez ensuite la configuration des interfaces r\u00e9seau pour mettre \u00e0 jour vos changements : /etc/init.d/networking restart Pour vous aider nous donnons ci-dessous un fichier type de configuration r\u00e9seau Linux : auto lo eth0 iface lo inet loopback iface eth0 inet static address 192.168.0.42 netmask 255.255.255.0 gateway 192.195.0.1 dns-nameservers 192.0.2.71 4 - Les transferts r\u00e9seaux a - Commande ping Avant de transf\u00e9rer un document ou de se connecter \u00e0 un ordinateur distant, il faut v\u00e9rifier si celui-ci est pr\u00e9sent sur le r\u00e9seau. La commande ping en utilisant une requ\u00eate ICMP , le protocole va envoyer un paquet sur la cible, si la cible est accessible elle va r\u00e9pondre \u00e0 la requ\u00eate en envoyant un paquet \u00e0 l'\u00e9metteur. Question Utiliser la commande ping pour v\u00e9rifier l'accessibilit\u00e9 du site web de votre choix. Relevez le temps aller-retour (round trip time). Utilisez la m\u00eame commande sur l'adresse IP de votre voisin de TP. Relevez le temps aller-retour. b - Prendre la main \u00e0 distance avec ssh Le protocole ssh permet de se connecter de mani\u00e8re s\u00e9curis\u00e9e (transferts crypt\u00e9s) \u00e0 un ordinateur linux distant. Pour vous connecter \u00e0 votre machine \u00e0 distance vous devez installer un serveur ssh, le client install\u00e9 d'office permet juste de se connecter \u00e0 partir de votre machine \u00e0 une autre. Installez le paquet openssh-server La connexion \u00e0 ordinateur distant se fait en utilisant la commande : ssh nom_utilisateur_cible@adresse_ip_cible Question Connectez-vous en ssh \u00e0 l'ordinateur de votre voisin de TP Cr\u00e9ez sur son bureau un fichier robot.bak avec nano du contenu de votre choix. Demandez \u00e0 votre voisin si le fichier est bien sur son bureau.","title":"Activit\u00e9 : Linux et le r\u00e9seau"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#activite-linux-et-le-reseau","text":"","title":"Activit\u00e9 : Linux et le r\u00e9seau"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#1-creation-dun-nouvel-utilisateur","text":"La distribution en \"live USB\" cr\u00e9e un utilisateur \"xubuntu\" d'office sans mot de passe, pour une connexion \u00e0 distance sur votre machine vous aurez besoin de cr\u00e9er un nouvel utilisateur avec mot de passe. Pour cela il s'agit d'utiliser la commande : adduser , qui va cr\u00e9er un nouvel utilisateur avec possibilit\u00e9 de lui assigner un mot de passe, nom, pr\u00e9nom, adresse... Le site Ubuntu France, donne une explication compl\u00e8te de l'utilisation de cette commande allez y jeter un coup d'\u0153il : Ubuntu France tutoriel adduser \"Sandwich\" , by XKCD used under CC BY-NC 2.5 L'utilisateur cr\u00e9\u00e9 ne dispose des privil\u00e8ges root (super utilisateur, le sudo ), il faut donc l'ajouter \u00e0 la liste des sudoers , pour se faire suivez l'explication donn\u00e9e par le site : Ubuntu France tutoriel sudoers Question Utilisez la commande adduser pour cr\u00e9er un nouvel utilisateur de votre choix, d\u00e9finissez \u00e9galement un mot de passe. Rajoutez une ligne au fichier /etc/sudoers pour autoriser l'acc\u00e8s au privil\u00e8ges super utilisateur \u00e0 votre nouvel utilisateur : Nom_utilisateur ALL=(ALL:ALL) ALL Identifiez vous avec le nouvel utilisateur cr\u00e9\u00e9 avec su nom_nouvel_utilisateur","title":"1 - Cr\u00e9ation d'un nouvel utilisateur"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#2-le-gestionnaire-de-paquets","text":"Les applications d'un syst\u00e8me GNU/Linux sont g\u00e9r\u00e9es par un gestionnaire de paquet ( apt pour Debian et donc Ubuntu, yum pour Fedora et pacman pour Archlinux) pour installer une application, nous ne proc\u00e9dons pas comme sur Windows o\u00f9 il s'agit la plupart du temps d'aller r\u00e9cup\u00e9rer le fichier d'installation sur le site du fabricant, ou sur un site g\u00e9n\u00e9raliste \u00e0 la merci des virus et programmes publicitaires... Sur GNU Linux les applications sont dans des bases de donn\u00e9es appel\u00e9es repositories , chaque application est ainsi constamment maintenue \u00e0 jour, vous \u00eates donc certains d'installer la derni\u00e8re version et ce de mani\u00e8re fiable. Un gros avantage : la mise en jour de l'ensemble des applications du syst\u00e8me se fait d'un seul coup, gr\u00e2ce au gestionnaire de paquets. Avant d'installer quoi que ce soit sur la distribution il faut toujours mettre \u00e0 jour les repositories et ensuite mettre \u00e0 jour le syst\u00e8me . Pour ce faire nous utilisons la commande apt update puis apt upgrade Question Utilisez la commande apt update en mode super utilisateur pour mettre \u00e0 jour les bases de donn\u00e9es. Utilisez la commande apt upgrade en mode super utilisateur pour mettre \u00e0 jour le syst\u00e8me.","title":"2 - Le gestionnaire de paquets"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#3-la-configuration-reseau-sous-linux","text":"La commande ifconfig permet de visualiser la configuration r\u00e9seau de l'ordinateur, gr\u00e2ce \u00e0 elle nous pouvons obtenir des informations sur l'adresse IP, l'adresse MAC ou encore l'interface r\u00e9seau utilis\u00e9e. Question Utilisez la commande ifconfig pour obtenir le nom de l'interface r\u00e9seau utilis\u00e9 Utilisez la m\u00eame commande pour obtenir votre adresse IP A pr\u00e9sent nous souhaitons modifier l'adresse IP de l'interface r\u00e9seau utilis\u00e9, pour ce faire nous utiliserons la commande ifconfig eth0 nouvelle-adresse , la nouvelle adresse \u00e9tant l'adresse de l'ordinateur correspondant \u00e0 la salle et au b\u00e2timent donn\u00e9e par le gestionnaire r\u00e9seau. Au lyc\u00e9e Rascol, les adresses IP des postes informatiques sont configur\u00e9es de cette mani\u00e8re : 10.bbb.ccc.ddd bbb : B\u00e2timent (si b\u00e2timent E : 5) ccc : Salle (si salle 007 : 7) ddd : Num\u00e9ro du PC Question D\u00e9sactivez l'interface r\u00e9seau o\u00f9 vous allez changer la configuration avec ifdown eth0 Utiliser la commande ifconfig pour changer l'adresse IP de l'ordinateur, en la mettant au format Rascol R\u00e9activez l'interface r\u00e9seau avec ifup eth0 Pour faire une configuration r\u00e9seau plus pouss\u00e9e, nous pouvons modifier le fichier /etc/network/interfaces , fichier de configuration pour le r\u00e9seau sur chaque distribution linux. Question Editez le fichier /etc/network/interfaces \u00e0 l'aide de nano pour obtenir la configuration suivante : adresse IP : Celle de Rascol configur\u00e9e pr\u00e9c\u00e9demment passerelle : 10.255.5.204 masque de sous r\u00e9seau : 255.0.0.0 serveur dns : Celui de Google Relancez ensuite la configuration des interfaces r\u00e9seau pour mettre \u00e0 jour vos changements : /etc/init.d/networking restart Pour vous aider nous donnons ci-dessous un fichier type de configuration r\u00e9seau Linux : auto lo eth0 iface lo inet loopback iface eth0 inet static address 192.168.0.42 netmask 255.255.255.0 gateway 192.195.0.1 dns-nameservers 192.0.2.71","title":"3 - La configuration r\u00e9seau sous Linux"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#4-les-transferts-reseaux","text":"","title":"4 - Les transferts r\u00e9seaux"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#a-commande-ping","text":"Avant de transf\u00e9rer un document ou de se connecter \u00e0 un ordinateur distant, il faut v\u00e9rifier si celui-ci est pr\u00e9sent sur le r\u00e9seau. La commande ping en utilisant une requ\u00eate ICMP , le protocole va envoyer un paquet sur la cible, si la cible est accessible elle va r\u00e9pondre \u00e0 la requ\u00eate en envoyant un paquet \u00e0 l'\u00e9metteur. Question Utiliser la commande ping pour v\u00e9rifier l'accessibilit\u00e9 du site web de votre choix. Relevez le temps aller-retour (round trip time). Utilisez la m\u00eame commande sur l'adresse IP de votre voisin de TP. Relevez le temps aller-retour.","title":"a - Commande ping"},{"location":"tsti2d/linux/ACT2-Linux_reseau/#b-prendre-la-main-a-distance-avec-ssh","text":"Le protocole ssh permet de se connecter de mani\u00e8re s\u00e9curis\u00e9e (transferts crypt\u00e9s) \u00e0 un ordinateur linux distant. Pour vous connecter \u00e0 votre machine \u00e0 distance vous devez installer un serveur ssh, le client install\u00e9 d'office permet juste de se connecter \u00e0 partir de votre machine \u00e0 une autre. Installez le paquet openssh-server La connexion \u00e0 ordinateur distant se fait en utilisant la commande : ssh nom_utilisateur_cible@adresse_ip_cible Question Connectez-vous en ssh \u00e0 l'ordinateur de votre voisin de TP Cr\u00e9ez sur son bureau un fichier robot.bak avec nano du contenu de votre choix. Demandez \u00e0 votre voisin si le fichier est bien sur son bureau.","title":"b - Prendre la main \u00e0 distance avec ssh"},{"location":"tsti2d/linux/ACT3-gerer_permissions/","text":"Activit\u00e9 : G\u00e9rer les permissions en environnement GNU-Linux Vous \u00eates technicien dans l'entreprise de service r\u00e9seau AlbiTech et un de vos client M.Turing fait appel \u00e0 vous pour la configuration d'un serveur linux, tournant sur une carte Raspberry Pi. Vous \u00e9tablissez ensemble le cahier des charges suivant : Cr\u00e9ation de 4 comptes utilisateurs et de 3 nouveaux groupes: Utilisateur Groupes Pass alan sudoers parents famille enigma grace sudoers parents famille hopper richard enfants famille stallman linus enfants famille torvalds Info Lorsque un utilisateur est cr\u00e9\u00e9 Linux cr\u00e9e automatiquement le groupe du m\u00eame nom. Cr\u00e9ation de r\u00e9pertoires : R\u00e9pertoire Propri\u00e9taire Groupe Droits /media/photos alan famille rwx rwx r-x /partage/cadeaux alan parents rwx rwx --- /partage/administratif alan parents rwx rwx --- /home/alan/TuringTest alan alan rwx rwx --- /home/grace/Cobol grace grace rwx rwx --- Transfert de fichiers dans les r\u00e9pertoires cr\u00e9\u00e9s, depuis un serveur web : Fichiers R\u00e9pertoire de destination administratif/* /partage/administratif photos/* /media/photos cobol/* /home/grace/Cobol turingtest/* /home/alan/TuringTest Pour t\u00e9l\u00e9charger les fichiers \u00e0 classer : wget https://rascolsin.fr/tsti2d/linux/ressources/files.zip Info Pour d\u00e9compresser l'archive .zip t\u00e9l\u00e9charg\u00e9e vous aurez besoin de t\u00e9l\u00e9charger l'utilitaire unzip : sudo apt install unzip #Pour d\u00e9compresser unzip archive.zip Bien v\u00e9rifier que les permissions des dossiers soient r\u00e9percut\u00e9es sur les fichiers. Question Cr\u00e9ez les utilisateurs Cr\u00e9ez les groupes Ajouter les utilisateurs aux groupes Cr\u00e9ez les r\u00e9pertoires T\u00e9l\u00e9chargez les fichiers et mettez les dans les bons r\u00e9pertoires Appliquez les permissions r\u00e9cursivement aux r\u00e9pertoires Appelez l'enseignant pour v\u00e9rifier","title":"Activit\u00e9 : G\u00e9rer les permissions en environnement GNU-Linux"},{"location":"tsti2d/linux/ACT3-gerer_permissions/#activite-gerer-les-permissions-en-environnement-gnu-linux","text":"Vous \u00eates technicien dans l'entreprise de service r\u00e9seau AlbiTech et un de vos client M.Turing fait appel \u00e0 vous pour la configuration d'un serveur linux, tournant sur une carte Raspberry Pi. Vous \u00e9tablissez ensemble le cahier des charges suivant : Cr\u00e9ation de 4 comptes utilisateurs et de 3 nouveaux groupes: Utilisateur Groupes Pass alan sudoers parents famille enigma grace sudoers parents famille hopper richard enfants famille stallman linus enfants famille torvalds Info Lorsque un utilisateur est cr\u00e9\u00e9 Linux cr\u00e9e automatiquement le groupe du m\u00eame nom. Cr\u00e9ation de r\u00e9pertoires : R\u00e9pertoire Propri\u00e9taire Groupe Droits /media/photos alan famille rwx rwx r-x /partage/cadeaux alan parents rwx rwx --- /partage/administratif alan parents rwx rwx --- /home/alan/TuringTest alan alan rwx rwx --- /home/grace/Cobol grace grace rwx rwx --- Transfert de fichiers dans les r\u00e9pertoires cr\u00e9\u00e9s, depuis un serveur web : Fichiers R\u00e9pertoire de destination administratif/* /partage/administratif photos/* /media/photos cobol/* /home/grace/Cobol turingtest/* /home/alan/TuringTest Pour t\u00e9l\u00e9charger les fichiers \u00e0 classer : wget https://rascolsin.fr/tsti2d/linux/ressources/files.zip Info Pour d\u00e9compresser l'archive .zip t\u00e9l\u00e9charg\u00e9e vous aurez besoin de t\u00e9l\u00e9charger l'utilitaire unzip : sudo apt install unzip #Pour d\u00e9compresser unzip archive.zip Bien v\u00e9rifier que les permissions des dossiers soient r\u00e9percut\u00e9es sur les fichiers. Question Cr\u00e9ez les utilisateurs Cr\u00e9ez les groupes Ajouter les utilisateurs aux groupes Cr\u00e9ez les r\u00e9pertoires T\u00e9l\u00e9chargez les fichiers et mettez les dans les bons r\u00e9pertoires Appliquez les permissions r\u00e9cursivement aux r\u00e9pertoires Appelez l'enseignant pour v\u00e9rifier","title":"Activit\u00e9 : G\u00e9rer les permissions en environnement GNU-Linux"},{"location":"tsti2d/linux/ACT4-Scripts_bash/","text":"Activit\u00e9 : \u00c9crire des scripts Bash Exercice 1 : Tables de multiplication Cr\u00e9ez un script Bash affichant la table de multiplication d'un nombre entier rentr\u00e9 par l'utilisateur. Le comportement devra \u00eatre le suivant : Question \u00c9crivez le script Bash en utilisant l'\u00e9diteur de votre choix. V\u00e9rifiez le fonctionnement en lan\u00e7ant le script et en le testant Appelez l'enseignant pour v\u00e9rifier Exercice 2 : Jeu deviner un nombre Cr\u00e9ez un jeu dans lequel l'ordinateur tire un nombre entre 2 valeurs donn\u00e9es en param\u00e8tres d'entr\u00e9e, puis propose \u00e0 l'utilisateur de deviner ce nombre en 5 essais. Si il n'y parvient pas mettez fin au script. Le comportement devra \u00eatre le suivant : Tirer un nombre al\u00e9atoire en Bash Pour cr\u00e9er un nombre al\u00e9atoire en Bash, il faut utiliser la fonction $RANDOM qui donne en retour un entier sign\u00e9, soit un nombre entre 0 et 32767. Pour borner ce nombre al\u00e9atoire entre 2 valeurs : [a;b] il faut utiliser la fonction modulo not\u00e9 % En Bash renvoyant le reste d'une division Euclidienne. En effet, le reste d'une division de x par y est toujours compris entre 0 et y (exclu)","title":"Activit\u00e9 : \u00c9crire des scripts Bash"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#activite-ecrire-des-scripts-bash","text":"","title":"Activit\u00e9 : \u00c9crire des scripts Bash"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#exercice-1-tables-de-multiplication","text":"Cr\u00e9ez un script Bash affichant la table de multiplication d'un nombre entier rentr\u00e9 par l'utilisateur. Le comportement devra \u00eatre le suivant : Question \u00c9crivez le script Bash en utilisant l'\u00e9diteur de votre choix. V\u00e9rifiez le fonctionnement en lan\u00e7ant le script et en le testant Appelez l'enseignant pour v\u00e9rifier","title":"Exercice 1 : Tables de multiplication"},{"location":"tsti2d/linux/ACT4-Scripts_bash/#exercice-2-jeu-deviner-un-nombre","text":"Cr\u00e9ez un jeu dans lequel l'ordinateur tire un nombre entre 2 valeurs donn\u00e9es en param\u00e8tres d'entr\u00e9e, puis propose \u00e0 l'utilisateur de deviner ce nombre en 5 essais. Si il n'y parvient pas mettez fin au script. Le comportement devra \u00eatre le suivant : Tirer un nombre al\u00e9atoire en Bash Pour cr\u00e9er un nombre al\u00e9atoire en Bash, il faut utiliser la fonction $RANDOM qui donne en retour un entier sign\u00e9, soit un nombre entre 0 et 32767. Pour borner ce nombre al\u00e9atoire entre 2 valeurs : [a;b] il faut utiliser la fonction modulo not\u00e9 % En Bash renvoyant le reste d'une division Euclidienne. En effet, le reste d'une division de x par y est toujours compris entre 0 et y (exclu)","title":"Exercice 2 : Jeu deviner un nombre"},{"location":"tsti2d/linux/TODO/","text":"ACT4-Scripts_bash Renommage group\u00e9 de fichiers Sauvegarde de fichiers incr\u00e9mentiel avec poubelle et envoi de mail + logs Cr\u00e9ation page web affichage classement top 14 et derniers r\u00e9sultats Script de backup du raspberry pi avec dd Recherche du code postal en fonction du nom de la ville Deviner le nombre al\u00e9atoire choisi par la machine Deviner capitales de pays, inclus ouverture et lecture d'un fichier texte","title":"ACT4-Scripts_bash"},{"location":"tsti2d/linux/TODO/#act4-scripts_bash","text":"Renommage group\u00e9 de fichiers Sauvegarde de fichiers incr\u00e9mentiel avec poubelle et envoi de mail + logs Cr\u00e9ation page web affichage classement top 14 et derniers r\u00e9sultats Script de backup du raspberry pi avec dd Recherche du code postal en fonction du nom de la ville Deviner le nombre al\u00e9atoire choisi par la machine Deviner capitales de pays, inclus ouverture et lecture d'un fichier texte","title":"ACT4-Scripts_bash"},{"location":"tutos/","text":"Tutoriels Arduino Arduino et les Attiny Nous expliquons dans ce post comment programmer en environnement Arduino la famille de microcontr\u00f4leurs Attiny de chez Atmel. Les Attiny sont de petits microcontr\u00f4leurs (de 6 \u00e0 28 pattes disposant de peu de ressources mais sont tr\u00e8s appr\u00e9ci\u00e9s pour les applications d'\u00e9lectronique embarqu\u00e9e o\u00f9 le gain de place et la faible consommation ont une importance capitale. Utiliser le module NFC de Seeed Grove L'utilisation du module Grove NFC de Seeed Studio avec une carte Arduino demande quelques ajustements, nous en donnons les d\u00e9tails dans ce post. Param\u00e9trer une interruption sur \u00e9v\u00e9nement du Serial Pour certains projets Arduino nous avons parfois besoin de pouvoir r\u00e9agir \u00e0 n'importe quel moment sur \u00e9v\u00e9nement du Serial. Le fonctionnement classique dans le void loop() avec if (Serial.available()) permet de r\u00e9agir sur un \u00e9v\u00e9nement du Serial, seulement si celui-l\u00e0 appara\u00eet quand le programme est sur la condition if() , or si la programme est d\u00e9j\u00e0 occup\u00e9 \u00e0 faire autre chose, jamais il ne d\u00e9tectera l'envoi. La seule solution est donc l'utilisation d'une interruption.","title":"Tutoriels"},{"location":"tutos/#tutoriels","text":"","title":"Tutoriels"},{"location":"tutos/#arduino","text":"","title":"Arduino"},{"location":"tutos/#arduino-et-les-attiny","text":"Nous expliquons dans ce post comment programmer en environnement Arduino la famille de microcontr\u00f4leurs Attiny de chez Atmel. Les Attiny sont de petits microcontr\u00f4leurs (de 6 \u00e0 28 pattes disposant de peu de ressources mais sont tr\u00e8s appr\u00e9ci\u00e9s pour les applications d'\u00e9lectronique embarqu\u00e9e o\u00f9 le gain de place et la faible consommation ont une importance capitale.","title":"Arduino et les Attiny"},{"location":"tutos/#utiliser-le-module-nfc-de-seeed-grove","text":"L'utilisation du module Grove NFC de Seeed Studio avec une carte Arduino demande quelques ajustements, nous en donnons les d\u00e9tails dans ce post.","title":"Utiliser le module NFC de Seeed Grove"},{"location":"tutos/#parametrer-une-interruption-sur-evenement-du-serial","text":"Pour certains projets Arduino nous avons parfois besoin de pouvoir r\u00e9agir \u00e0 n'importe quel moment sur \u00e9v\u00e9nement du Serial. Le fonctionnement classique dans le void loop() avec if (Serial.available()) permet de r\u00e9agir sur un \u00e9v\u00e9nement du Serial, seulement si celui-l\u00e0 appara\u00eet quand le programme est sur la condition if() , or si la programme est d\u00e9j\u00e0 occup\u00e9 \u00e0 faire autre chose, jamais il ne d\u00e9tectera l'envoi. La seule solution est donc l'utilisation d'une interruption.","title":"Param\u00e9trer une interruption sur \u00e9v\u00e9nement du Serial"},{"location":"tutos/arduino_attiny/arduino_attiny/","text":"Utilisation des microcontr\u00f4leurs Attiny avec Arduino Nous expliquons dans ce post comment programmer en environnement Arduino la famille de microcontr\u00f4leurs Attiny de chez Atmel. Les Attiny sont de petits microcontr\u00f4leurs (de 6 \u00e0 28 pattes) disposant de peu de ressources mais sont tr\u00e8s appr\u00e9ci\u00e9s pour les applications d'\u00e9lectronique embarqu\u00e9e o\u00f9 le gain de place et la faible consommation ont une importance capitale. L'Attiny 45 L' Attiny 45 est un microcontr\u00f4leur de 8 pattes disposant d'une m\u00e9moire de 4ko et d'une fmax de 20Mhz . Nous donnons ci-dessous le brochage et le sch\u00e9ma structurel issus de la datasheet du fabricant : Utiliser une carte Arduino comme programmateur Deux possibilit\u00e9s pour programmer les puces Attiny en environnement Arduino : Utiliser un programmateur d\u00e9di\u00e9 type Tiny programmer Utiliser une carte Arduino (UNO ou Mega) comme programmateur Nous traiterons ici que le deuxi\u00e8me cas \u00e0 savoir la programmation d'un Attiny 45 \u00e0 l'aide d'un Arduino UNO : Dans un premier temps il faut t\u00e9l\u00e9verser sur l' Arduino UNO le code ArduinoISP Ensuite, il faut rajouter l'URL d'un repository Github permettant d'acc\u00e9der au t\u00e9l\u00e9versement du code sur les puces Attiny, au gestionnaire de cartes suppl\u00e9mentaires : URL \u00e0 rajouter : https://raw.githubusercontent.com/damellis/attiny/ide-1.6.x-boards-manager/package_damellis_attiny_index.json T\u00e9l\u00e9charger avec le gestionnaire de cartes la biblioth\u00e8que attiny : Vous \u00eates fin pr\u00eats ! Il suffit maintenant de c\u00e2bler l'Arduino UNO servant de programmateur au microcontr\u00f4leur Attiny. Programmer un Attiny 45 avec l'IDE Arduino Une fois les \u00e9tapes pr\u00e9c\u00e9dentes effectu\u00e9es, vous \u00eates en mesure de t\u00e9leverser un code Arduino sur un Attiny 45 gr\u00e2ce \u00e0 l'IDE. Prenons comme un exemple un code simple : nous faisons clignoter une led par intervalle de 500 ms. const int pin_led 0 ; //Constante contenant le num\u00e9ro de la pin o\u00f9 la led est reli\u00e9e : 0 void setup () { pinMode ( pin_led , OUTPUT ); //Mise en sortie de la pin 0 } void loop () { digitalWrite ( pin_led , HIGH ); //Allumage de la led delay ( 500 ); // Attente de 500 ms digitalWrite ( pin_led , LOW ); //Extinction de la led delay ( 500 ); // Attente de 500 ms } Pour t\u00e9l\u00e9verser le code sur l'Attiny 45 : Choisir dans Outils \u2192 Type de carte \u2192 Attiny Choisir dans Outils \u2192 Processeur \u2192 Attiny 45 Chosir le port de l'Arduino UNO dans Outils \u2192 Port Choisir le programmateur Arduino as ISP dans Outils \u2192 Programmateur Appuyez sur T\u00e9l\u00e9verser ! Nous obtenons alors le fonctionnement suivant de l'Attiny 45 : Appuyez sur \"Start Simulation\"","title":"Utilisation des microcontr\u00f4leurs Attiny avec Arduino"},{"location":"tutos/arduino_attiny/arduino_attiny/#utilisation-des-microcontroleurs-attiny-avec-arduino","text":"Nous expliquons dans ce post comment programmer en environnement Arduino la famille de microcontr\u00f4leurs Attiny de chez Atmel. Les Attiny sont de petits microcontr\u00f4leurs (de 6 \u00e0 28 pattes) disposant de peu de ressources mais sont tr\u00e8s appr\u00e9ci\u00e9s pour les applications d'\u00e9lectronique embarqu\u00e9e o\u00f9 le gain de place et la faible consommation ont une importance capitale.","title":"Utilisation des microcontr\u00f4leurs Attiny avec Arduino"},{"location":"tutos/arduino_attiny/arduino_attiny/#lattiny-45","text":"L' Attiny 45 est un microcontr\u00f4leur de 8 pattes disposant d'une m\u00e9moire de 4ko et d'une fmax de 20Mhz . Nous donnons ci-dessous le brochage et le sch\u00e9ma structurel issus de la datasheet du fabricant :","title":"L'Attiny 45"},{"location":"tutos/arduino_attiny/arduino_attiny/#utiliser-une-carte-arduino-comme-programmateur","text":"Deux possibilit\u00e9s pour programmer les puces Attiny en environnement Arduino : Utiliser un programmateur d\u00e9di\u00e9 type Tiny programmer Utiliser une carte Arduino (UNO ou Mega) comme programmateur Nous traiterons ici que le deuxi\u00e8me cas \u00e0 savoir la programmation d'un Attiny 45 \u00e0 l'aide d'un Arduino UNO : Dans un premier temps il faut t\u00e9l\u00e9verser sur l' Arduino UNO le code ArduinoISP Ensuite, il faut rajouter l'URL d'un repository Github permettant d'acc\u00e9der au t\u00e9l\u00e9versement du code sur les puces Attiny, au gestionnaire de cartes suppl\u00e9mentaires : URL \u00e0 rajouter : https://raw.githubusercontent.com/damellis/attiny/ide-1.6.x-boards-manager/package_damellis_attiny_index.json T\u00e9l\u00e9charger avec le gestionnaire de cartes la biblioth\u00e8que attiny : Vous \u00eates fin pr\u00eats ! Il suffit maintenant de c\u00e2bler l'Arduino UNO servant de programmateur au microcontr\u00f4leur Attiny.","title":"Utiliser une carte Arduino comme programmateur"},{"location":"tutos/arduino_attiny/arduino_attiny/#programmer-un-attiny-45-avec-lide-arduino","text":"Une fois les \u00e9tapes pr\u00e9c\u00e9dentes effectu\u00e9es, vous \u00eates en mesure de t\u00e9leverser un code Arduino sur un Attiny 45 gr\u00e2ce \u00e0 l'IDE. Prenons comme un exemple un code simple : nous faisons clignoter une led par intervalle de 500 ms. const int pin_led 0 ; //Constante contenant le num\u00e9ro de la pin o\u00f9 la led est reli\u00e9e : 0 void setup () { pinMode ( pin_led , OUTPUT ); //Mise en sortie de la pin 0 } void loop () { digitalWrite ( pin_led , HIGH ); //Allumage de la led delay ( 500 ); // Attente de 500 ms digitalWrite ( pin_led , LOW ); //Extinction de la led delay ( 500 ); // Attente de 500 ms } Pour t\u00e9l\u00e9verser le code sur l'Attiny 45 : Choisir dans Outils \u2192 Type de carte \u2192 Attiny Choisir dans Outils \u2192 Processeur \u2192 Attiny 45 Chosir le port de l'Arduino UNO dans Outils \u2192 Port Choisir le programmateur Arduino as ISP dans Outils \u2192 Programmateur Appuyez sur T\u00e9l\u00e9verser ! Nous obtenons alors le fonctionnement suivant de l'Attiny 45 : Appuyez sur \"Start Simulation\"","title":"Programmer un Attiny 45 avec l'IDE Arduino"},{"location":"tutos/arduino_nfc/arduino_NFC/","text":"Le module Grove NFC avec Arduino L'utilisation du module Grove NFC de Seeed Studio avec une carte Arduino demande quelques ajustements, nous en donnons les d\u00e9tails dans ce post. Ajout des biblioth\u00e8ques Tout d'abord, nous donnons ci-dessous l'ensemble des biblioth\u00e8ques n\u00e9cessaires au fonctionnement du module. Elles sont identiques avec celles propos\u00e9es par le fabriquant \u00e0 l'exception de NDEF o\u00f9 un changement a \u00e9t\u00e9 effectu\u00e9 , sans cela l'Arduino \u00e9tait incapable de lire n'importe quelle carte. Biblioth\u00e8ques en archive .zip : D\u00e9compressez cette archive dans votre dossier Documents/Arduino/librairies/ , puis red\u00e9marrez l'IDE Arduino. Utilisation du module Le code ci-dessous permet de renvoyer l'UID d'une carte NFC sur le moniteur s\u00e9rie d\u00e8s que celle-ci est pr\u00e9sente. // Utilisation du module Grove NFC avec une carte Arduino MEGA #include \"PN532_HSU.h\" #include \"PN532.h\" #include \"NfcAdapter.h\" PN532_HSU interface ( Serial1 ); //Connexion du module Grove NFC sur le serial 1 NfcAdapter nfc = NfcAdapter ( interface ); String UID_scan ; /**************************************************************************************************/ void setup () { Serial . begin ( 9600 ); Serial . println ( \"NDEF Reader\" ); nfc . begin (); //Initialisation du module } void loop () { if ( nfc . tagPresent ()) { NfcTag tag = nfc . read (); //Lecture de la carte NFC UID_scan = tag . getUidString (); //Acquisition du code UID de la carte Serial . println ( UID_scan ); //Renvoi sur le moniteur du code UID } delay ( 500 ); } Ce nouveau code va faire de la m\u00eame mani\u00e8re, une acquisition du code UID d'une carte NFC, et va ensuite comparer le r\u00e9sultat avec un code rentr\u00e9 en constante, si les deux correspondent, nous renvoyons AUTORISATION sur le moniteur s\u00e9rie, dans le cas contraire nous affichons INTERDIT . // Utilisation du module Grove NFC avec une carte Arduino MEGA #include \"PN532_HSU.h\" #include \"PN532.h\" #include \"NfcAdapter.h\" PN532_HSU interface ( Serial1 ); //Connexion du module Grove NFC sur le serial 1 NfcAdapter nfc = NfcAdapter ( interface ); String const myUID = \"7A F3 96 34\" ; // D\u00e9finition du code UID qui garantie l'autorisation String scannedUID ; /**************************************************************************************************/ void setup () { Serial . begin ( 115200 ); Serial . println ( \"NDEF Reader\" ); nfc . begin (); } /**************************************************************************************************/ void loop () { if ( nfc . tagPresent ()) { NfcTag tag = nfc . read (); //Lecture de la carte NFC scannedUID = tag . getUidString (); //Acquisition du code UID de la carte Serial . println ( scannedUID ); //Renvoi sur le moniteur du code UID if ( myUID . compareTo ( scannedUID ) == 0 ) //Comparaison entre les deux cha\u00eenes de caract\u00e8res Serial . println ( \"AUTORISATION\" ); // Dans le cas o\u00f9 elles sont identiques else Serial . println ( \"INTERDIT\" ); //Dans le cas o\u00f9 elles diff\u00e8rent } delay ( 500 ); }","title":"Le module Grove NFC avec Arduino"},{"location":"tutos/arduino_nfc/arduino_NFC/#le-module-grove-nfc-avec-arduino","text":"L'utilisation du module Grove NFC de Seeed Studio avec une carte Arduino demande quelques ajustements, nous en donnons les d\u00e9tails dans ce post.","title":"Le module Grove NFC avec Arduino"},{"location":"tutos/arduino_nfc/arduino_NFC/#ajout-des-bibliotheques","text":"Tout d'abord, nous donnons ci-dessous l'ensemble des biblioth\u00e8ques n\u00e9cessaires au fonctionnement du module. Elles sont identiques avec celles propos\u00e9es par le fabriquant \u00e0 l'exception de NDEF o\u00f9 un changement a \u00e9t\u00e9 effectu\u00e9 , sans cela l'Arduino \u00e9tait incapable de lire n'importe quelle carte. Biblioth\u00e8ques en archive .zip : D\u00e9compressez cette archive dans votre dossier Documents/Arduino/librairies/ , puis red\u00e9marrez l'IDE Arduino.","title":"Ajout des biblioth\u00e8ques"},{"location":"tutos/arduino_nfc/arduino_NFC/#utilisation-du-module","text":"Le code ci-dessous permet de renvoyer l'UID d'une carte NFC sur le moniteur s\u00e9rie d\u00e8s que celle-ci est pr\u00e9sente. // Utilisation du module Grove NFC avec une carte Arduino MEGA #include \"PN532_HSU.h\" #include \"PN532.h\" #include \"NfcAdapter.h\" PN532_HSU interface ( Serial1 ); //Connexion du module Grove NFC sur le serial 1 NfcAdapter nfc = NfcAdapter ( interface ); String UID_scan ; /**************************************************************************************************/ void setup () { Serial . begin ( 9600 ); Serial . println ( \"NDEF Reader\" ); nfc . begin (); //Initialisation du module } void loop () { if ( nfc . tagPresent ()) { NfcTag tag = nfc . read (); //Lecture de la carte NFC UID_scan = tag . getUidString (); //Acquisition du code UID de la carte Serial . println ( UID_scan ); //Renvoi sur le moniteur du code UID } delay ( 500 ); } Ce nouveau code va faire de la m\u00eame mani\u00e8re, une acquisition du code UID d'une carte NFC, et va ensuite comparer le r\u00e9sultat avec un code rentr\u00e9 en constante, si les deux correspondent, nous renvoyons AUTORISATION sur le moniteur s\u00e9rie, dans le cas contraire nous affichons INTERDIT . // Utilisation du module Grove NFC avec une carte Arduino MEGA #include \"PN532_HSU.h\" #include \"PN532.h\" #include \"NfcAdapter.h\" PN532_HSU interface ( Serial1 ); //Connexion du module Grove NFC sur le serial 1 NfcAdapter nfc = NfcAdapter ( interface ); String const myUID = \"7A F3 96 34\" ; // D\u00e9finition du code UID qui garantie l'autorisation String scannedUID ; /**************************************************************************************************/ void setup () { Serial . begin ( 115200 ); Serial . println ( \"NDEF Reader\" ); nfc . begin (); } /**************************************************************************************************/ void loop () { if ( nfc . tagPresent ()) { NfcTag tag = nfc . read (); //Lecture de la carte NFC scannedUID = tag . getUidString (); //Acquisition du code UID de la carte Serial . println ( scannedUID ); //Renvoi sur le moniteur du code UID if ( myUID . compareTo ( scannedUID ) == 0 ) //Comparaison entre les deux cha\u00eenes de caract\u00e8res Serial . println ( \"AUTORISATION\" ); // Dans le cas o\u00f9 elles sont identiques else Serial . println ( \"INTERDIT\" ); //Dans le cas o\u00f9 elles diff\u00e8rent } delay ( 500 ); }","title":"Utilisation du module"},{"location":"tutos/arduino_serial_interrupt/arduino_serial_interrupt/","text":"Pour certains projets Arduino nous avons parfois besoin de pouvoir r\u00e9agir \u00e0 n'importe quel moment sur \u00e9v\u00e9nement du Serial. Le fonctionnement classique dans le void loop() avec if (Serial.available()) permet de r\u00e9agir sur un \u00e9v\u00e9nement du Serial, seulement si celui-l\u00e0 appara\u00eet quand le programme est sur la condition if() , or si la programme est d\u00e9j\u00e0 occup\u00e9 \u00e0 faire autre chose, jamais il ne d\u00e9tectera l'envoi. La seule solution est donc l'utilisation d'une interruption. Dans la suite de ce post nous donnons une adaptation du code Arduino serial_interrupt.ino , produit par Ricardo Mena Cort\u00e9s , que vous pouvez trouver ici .","title":"D\u00e9clencher une interruption sur un \u00e9v\u00e9nement du Serial avec Arduino"}]}