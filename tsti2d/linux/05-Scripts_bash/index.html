



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="fr">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>Réalisation de scripts Bash - Rascol Sin</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.11e41852.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="blue-grey">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#realisation-de-scripts-bash" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="Rascol Sin" class="md-header-nav__button md-logo">
          
            <i class="md-icon">code</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Rascol Sin
              </span>
              <span class="md-header-nav__topic">
                Réalisation de scripts Bash
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/rascolsin/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      rascolsin
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." title="Home" class="md-tabs__link md-tabs__link--active">
        Home
      </a>
    
  </li>

      
        
  <li class="md-tabs__item">
    
      <a href="../../../snt/" title="SNT" class="md-tabs__link md-tabs__link--active">
        SNT
      </a>
    
  </li>

      
        
  <li class="md-tabs__item">
    
      <a href="../../../si-cit/" title="SI-CIT" class="md-tabs__link md-tabs__link--active">
        SI-CIT
      </a>
    
  </li>

      
        
  <li class="md-tabs__item">
    
      <a href="../../../psti2d/" title="PSTI2D" class="md-tabs__link md-tabs__link--active">
        PSTI2D
      </a>
    
  </li>

      
        
  <li class="md-tabs__item">
    
      <a href="../../" title="TSTI2D" class="md-tabs__link md-tabs__link--active">
        TSTI2D
      </a>
    
  </li>

      
        
  <li class="md-tabs__item">
    
      <a href="../../../tutos/" title="Tutoriels" class="md-tabs__link md-tabs__link--active">
        Tutoriels
      </a>
    
  </li>

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="Rascol Sin" class="md-nav__button md-logo">
      
        <i class="md-icon">code</i>
      
    </a>
    Rascol Sin
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/rascolsin/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      rascolsin
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../snt/" title="SNT" class="md-nav__link">
      SNT
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../si-cit/" title="SI-CIT" class="md-nav__link">
      SI-CIT
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../psti2d/" title="PSTI2D" class="md-nav__link">
      PSTI2D
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../" title="TSTI2D" class="md-nav__link">
      TSTI2D
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../tutos/" title="Tutoriels" class="md-nav__link">
      Tutoriels
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-editer-et-lancer-un-script" title="1 - Éditer et lancer un script" class="md-nav__link">
    1 - Éditer et lancer un script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-utilisation-de-variables" title="2 - Utilisation de variables" class="md-nav__link">
    2 - Utilisation de variables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-declaration" title="2.1 - Déclaration" class="md-nav__link">
    2.1 - Déclaration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-utilisation" title="2.2 - Utilisation" class="md-nav__link">
    2.2 - Utilisation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-les-structures-conditionnelles" title="3 - Les structures conditionnelles" class="md-nav__link">
    3 - Les structures conditionnelles
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-les-operateurs-de-comparaison" title="3.1 Les opérateurs de comparaison" class="md-nav__link">
    3.1 Les opérateurs de comparaison
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#31-if" title="3.1 If" class="md-nav__link">
    3.1 If
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-if-else" title="3.2 If Else" class="md-nav__link">
    3.2 If Else
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-case" title="3.3 Case" class="md-nav__link">
    3.3 Case
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-les-boucles" title="4 - Les boucles" class="md-nav__link">
    4 - Les boucles
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-while" title="4.1 While" class="md-nav__link">
    4.1 While
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-until" title="4.2 Until" class="md-nav__link">
    4.2 Until
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-for" title="4.3 For" class="md-nav__link">
    4.3 For
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-les-parametres-positionnels" title="5 - Les paramètres positionnels" class="md-nav__link">
    5 - Les paramètres positionnels
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/rascolsin/edit/master/docs/tsti2d/linux/05-Scripts_bash.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="realisation-de-scripts-bash">Réalisation de scripts Bash</h1>
<h2 id="1-editer-et-lancer-un-script">1 - Éditer et lancer un script</h2>
<p>Pour éditer votre script Bash dans l'environnement GNU/Linux deux options s'offrent à vous :</p>
<ul>
<li>Utiliser un éditeur de texte en ligne de commande tel que <strong>nano</strong> ou <strong>vim</strong>.</li>
<li>Utiliser un éditeur de texte graphique comme <strong>gedit</strong></li>
</ul>
<p>Une fois votre éditeur ouvert, la première chose à écrire est :</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>
</pre></div>

<p>Cette ligne de code indique au terminal quel type de Shell il doit utiliser, dans notre cas nous utiliserons le Shell Bash. Si vous souhaitez avoir des informations sur les différents types de Shell, je ne peux que vous conseiller d'aller voir la page Wikipédia suivante :
<a href="https://fr.wikipedia.org/wiki/Shell_Unix">lien</a></p>
<p>Ensuite il faut avant tout enregistrer votre nouveau fichier de script, pour cela donnez lui l'extension <code class="codehilite"><span class="na">.sh</span></code>, extension utilisée pour les scripts Bash.</p>
<p>Pour lancer un script et observer son fonctionnement, positionnez vous avec le terminal à l'endroit où il est situé (voir commandes <code class="codehilite">cd</code> et <code class="codehilite">ls</code>), puis entrez les commandes suivantes :</p>
<div class="codehilite"><pre><span></span>$ chmod a+x nom_du_script.sh
</pre></div>

<p>Cette ligne donne le droit d'exécution de votre script à tout le monde.</p>
<p><div class="codehilite"><pre><span></span>$ ./nom_du_script.sh
</pre></div>
Cette ligne lance votre script.</p>
<h2 id="2-utilisation-de-variables">2 - Utilisation de variables</h2>
<h3 id="21-declaration">2.1 - Déclaration</h3>
<p>Pour déclarer une variable en shell Bash il suffit rentrer son nom puis sa valeur initiale :</p>
<p><div class="codehilite"><pre><span></span><span class="nv">foo</span><span class="o">=</span><span class="s2">&quot;je suis le contenu de foo&quot;</span>
<span class="nv">bar</span><span class="o">=</span><span class="m">22</span>
<span class="nv">test</span><span class="o">=</span><span class="m">22</span>.69
</pre></div>
Ci-dessus nous avons déclaré et initialisé 3 variables : Une chaîne de caractère <code class="codehilite">foo</code>, un entier <code class="codehilite">bar</code> et un flottant <code class="codehilite">test</code>. Remarquez qu'il n'est pas nécessaire de déclarer le type de la variable, Bash va automatiquement le faire suivant valeur initiale choisie.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Lors de la déclaration d'une variable attention à ne pas mettre d'espace entre la fin du nom et le <code class="codehilite">=</code></p>
</div>
<h3 id="22-utilisation">2.2 - Utilisation</h3>
<p>Pour utiliser le contenu d'une variable il faut mettre le symbole <code class="codehilite">$</code> devant le nom de celle-ci, on fait alors référence à sa case mémoire, son contenu.</p>
<ul>
<li>Faire des calculs avec les variables :</li>
</ul>
<p>Une syntaxe particulière est utilisée pour faire faire un calcul entre 2 ou plusieurs variables, exemple de script ci-dessous :
  <div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nv">a</span><span class="o">=</span><span class="m">10</span>
<span class="nv">b</span><span class="o">=</span><span class="m">12</span>
<span class="nv">c</span><span class="o">=</span><span class="k">$((</span>a+b<span class="k">))</span>

<span class="c1"># Afficher le résultat à l&#39;écran</span>
<span class="nb">echo</span> <span class="nv">$c</span>
</pre></div></p>
<ol>
<li>Déclaration de 2 variables <code class="codehilite">a</code> et <code class="codehilite">b</code> initialisées respectivement à <code class="codehilite">10</code> et <code class="codehilite">12</code></li>
<li>Addition dans <code class="codehilite">c</code></li>
<li>Affichage du contenu de <code class="codehilite">c</code> à l'écran grâce à la commande <code class="codehilite">echo</code></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Bash ne permet pas directement de faire des additions avec des nombres décimaux. Ci nécessaire installer l'application appelée <code class="codehilite">bc</code> permettant de gérer le calcul en nombres flottants.</p>
</div>
<script id="asciicast-sT9oX27Ovl7qk58jKjWEN1EEe" src="https://asciinema.org/a/sT9oX27Ovl7qk58jKjWEN1EEe.js" async></script>

<ul>
<li>Concaténer des chaînes de caractères</li>
</ul>
<p>Bash permet de concaténer rapidement le contenu de 2 variables de type chaîne de caractères, un exemple ci-dessous :</p>
<p><div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nv">a</span><span class="o">=</span><span class="s2">&quot;J&#39;aime &quot;</span>
<span class="nv">b</span><span class="o">=</span><span class="s2">&quot;coder avec le shell Bash !&quot;</span> 
<span class="nv">c</span><span class="o">=</span><span class="nv">$a$b</span>

<span class="c1"># Afficher le résultat à l&#39;écran</span>
<span class="nb">echo</span> <span class="nv">$c</span>
</pre></div>
  1. Déclaration de 2 variables <code class="codehilite">a</code> et <code class="codehilite">b</code> initialisées respectivement à <code class="codehilite">J&#39;aime</code> et <code class="codehilite">coder avec le shell Bash</code>
  2. Concaténation dans <code class="codehilite">c</code>
  3. Affichage du contenu de <code class="codehilite">c</code> à l'écran grâce à la commande <code class="codehilite">echo</code> </p>
<script id="asciicast-3FRKfaaTT8AZEbgQVKZTGOL2D" src="https://asciinema.org/a/3FRKfaaTT8AZEbgQVKZTGOL2D.js" async></script>

<h2 id="3-les-structures-conditionnelles">3 - Les structures conditionnelles</h2>
<h3 id="31-les-operateurs-de-comparaison">3.1 Les opérateurs de comparaison</h3>
<table>
<thead>
<tr>
<th>Opérateur</th>
<th>Nom</th>
</tr>
</thead>
<tbody>
<tr>
<td>-lt</td>
<td>lower than (inférieur à)</td>
</tr>
<tr>
<td>-gt</td>
<td>greater than (supérieur à)</td>
</tr>
<tr>
<td>-eq</td>
<td>equal (égal à)</td>
</tr>
<tr>
<td>-ne</td>
<td>not equal (différent de)</td>
</tr>
<tr>
<td>-ge</td>
<td>greater or equal (supérieur ou egal à)</td>
</tr>
<tr>
<td>-le</td>
<td>lower or equal (inférieur ou égal à)</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Ces opérateurs sont uniquement utilisables avec des nombres, pour les chaines de caractères voir ci-dessous. De plus Bash ne permet pas directement de comparer des nombres décimaux, <strong>ces expressions fonctionnent seulement avec des entiers</strong>.</p>
</div>
<table>
<thead>
<tr>
<th>Opérateur</th>
<th>Nom</th>
</tr>
</thead>
<tbody>
<tr>
<td>==</td>
<td>Égalité</td>
</tr>
<tr>
<td>!=</td>
<td>Différence</td>
</tr>
</tbody>
</table>
<h3 id="31-if">3.1 If</h3>
<p>La structure <code class="codehilite">if</code> effectue le test donné, si il est vrai, elle dirige l'exécution vers le <code class="codehilite">then</code>, dans le cas contraire elle continu la suite des instructions, un script exemple ci-dessous :</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Capture des 2 nombres saisis par l&#39;utilisateur</span>
<span class="nb">echo</span> <span class="s2">&quot;Rentrez le premier nombre&quot;</span>
<span class="nb">read</span> a <span class="c1"># Saisi du nombre a</span>
<span class="nb">echo</span> <span class="s2">&quot;Rentrez le second nombre&quot;</span>
<span class="nb">read</span> b <span class="c1"># Saisi du nombre b</span>

<span class="c1"># Test d&#39;infériorité de a sur b</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$a</span> -lt <span class="nv">$b</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;a est inférieur à b&quot;</span>
<span class="k">fi</span>

<span class="c1"># Test de supériorité de a sur b</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$a</span> -gt <span class="nv">$b</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;a est supérieur à b&quot;</span>
<span class="k">fi</span>

<span class="c1"># Test d&#39;égalité de a et b</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$a</span> -eq <span class="nv">$b</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;a est égal à b&quot;</span>
<span class="k">fi</span>
</pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Toujours mettre un espace après le 1er <code class="codehilite">[</code> et avant le dernier <code class="codehilite">]</code> de la condition.</p>
</div>
<script id="asciicast-3r6hSzznZj48YWfIZPOALfT3R" src="https://asciinema.org/a/3r6hSzznZj48YWfIZPOALfT3R.js" async></script>

<h3 id="32-if-else">3.2 If Else</h3>
<p>Nous reprenons le script précédent en utilisant une structure <code class="codehilite">if elif</code> :</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Capture des 2 nombres saisis par l&#39;utilisateur</span>
<span class="nb">echo</span> <span class="s2">&quot;Rentrez le premier nombre&quot;</span>
<span class="nb">read</span> a <span class="c1"># Saisi du nombre a</span>
<span class="nb">echo</span> <span class="s2">&quot;Rentrez le second nombre&quot;</span>
<span class="nb">read</span> b <span class="c1"># Saisi du nombre b</span>


<span class="k">if</span> <span class="o">[</span> <span class="nv">$a</span> -lt <span class="nv">$b</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c1"># Test d&#39;infériorité de a sur b</span>
    <span class="nb">echo</span> <span class="s2">&quot;a est inférieur à b&quot;</span>
<span class="k">elif</span> <span class="o">[</span> <span class="nv">$a</span> -gt <span class="nv">$b</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>  <span class="c1"># Sinon test de supériorité de a sur b</span>
    <span class="nb">echo</span> <span class="s2">&quot;a est supérieur à b&quot;</span>
<span class="k">elif</span> <span class="o">[</span> <span class="nv">$a</span> -eq <span class="nv">$b</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c1"># Sinon test d&#39;égalité de a et b</span>
    <span class="nb">echo</span> <span class="s2">&quot;a est égal à b&quot;</span>
<span class="k">fi</span>
</pre></div>

<h3 id="33-case">3.3 Case</h3>
<p>La structure <code class="codehilite">case</code> très utilisée dans les menus, permet d'orienter le programme suivant un choix de l'utilisateur :</p>
<p><div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">&quot;Rentrez un nombre compris entre 1 et 4&quot;</span>
<span class="nb">read</span> nb <span class="c1"># Saisi du nombre nb</span>

<span class="k">case</span> <span class="nv">$nb</span> in <span class="c1"># Tests sur la variable nb, contenant le nombre saisi</span>
    <span class="m">1</span><span class="o">)</span> <span class="nb">echo</span> <span class="s2">&quot;Super ! Vous avez saisi 1&quot;</span><span class="p">;;</span> <span class="c1"># Ne pas oublier les 2 ;; sauf sur la dernière ligne</span>
    <span class="m">2</span><span class="o">)</span> <span class="nb">echo</span> <span class="s2">&quot;Formidable ! Vous avez saisi 2&quot;</span><span class="p">;;</span>
    <span class="m">3</span><span class="o">)</span> <span class="nb">echo</span> <span class="s2">&quot;Fantastique ! Vous avez saisi 3&quot;</span><span class="p">;;</span>
    <span class="m">4</span><span class="o">)</span> <span class="nb">echo</span> <span class="s2">&quot;Wahoo ! Vous avez saisi 4&quot;</span><span class="p">;;</span>
    *<span class="o">)</span> <span class="nb">echo</span> <span class="s2">&quot;Vous n&#39;avez rien saisi de valable ! Dommage&quot;</span> <span class="c1"># Cas où nb different de [1;4]</span>
<span class="k">esac</span>
</pre></div>
<script id="asciicast-fAMGFUlSxYNNvZ7cfALcaO49r" src="https://asciinema.org/a/fAMGFUlSxYNNvZ7cfALcaO49r.js" async></script></p>
<h2 id="4-les-boucles">4 - Les boucles</h2>
<h3 id="41-while">4.1 While</h3>
<p>La boucle <code class="codehilite">while</code> ou "tant que" permet de répéter un ensemble d'instructions tant que la condition donnée est vraie, exemple ci-dessous :</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nv">i</span><span class="o">=</span><span class="m">0</span> <span class="c1"># Initialisation de la variable de comptage à 0</span>
<span class="k">while</span> <span class="o">[</span> <span class="nv">$i</span> -lt <span class="m">5</span> <span class="o">]</span><span class="p">;</span> <span class="k">do</span> <span class="c1"># On tourne tant que i&lt;5</span>
    <span class="nb">echo</span> <span class="s2">&quot;compteur = &quot;</span><span class="nv">$i</span> <span class="c1"># On affiche le contenu de i</span>
    <span class="nv">i</span><span class="o">=</span><span class="k">$((</span><span class="nv">$i</span><span class="o">+</span><span class="m">1</span><span class="k">))</span> <span class="c1"># On incrémente i</span>
<span class="k">done</span> 
</pre></div>

<script id="asciicast-uo8m9lOLooHmdt1bQKdsnB31K" src="https://asciinema.org/a/uo8m9lOLooHmdt1bQKdsnB31K.js" async></script>

<h3 id="42-until">4.2 Until</h3>
<p>La boucle <code class="codehilite">until</code> ou "jusqu'à" contrairement à la boucle <code class="codehilite">while</code> va s'exécuter jusqu'à ce que la condition soit vérifiée. Nous reprenons l'exemple précédent et adaptons la condition pour compter de 0 à 4 :</p>
<p><div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nv">i</span><span class="o">=</span><span class="m">0</span> <span class="c1"># Initialisation de la variable de comptage à 0</span>
<span class="k">until</span> <span class="o">[</span> <span class="nv">$i</span> -gt <span class="m">5</span> <span class="o">]</span><span class="p">;</span> <span class="k">do</span> <span class="c1"># On tourne jusqu&#39;à ce que i&gt;4</span>
    <span class="nb">echo</span> <span class="s2">&quot;compteur = &quot;</span><span class="nv">$i</span> <span class="c1"># On affiche le contenu de i</span>
    <span class="nv">i</span><span class="o">=</span><span class="k">$((</span><span class="nv">$i</span><span class="o">+</span><span class="m">1</span><span class="k">))</span> <span class="c1"># On incrémente i</span>
<span class="k">done</span> 
</pre></div>
<script id="asciicast-yvWruoqljzLb5wqysKE4U6hAY" src="https://asciinema.org/a/yvWruoqljzLb5wqysKE4U6hAY.js" async></script></p>
<h3 id="43-for">4.3 For</h3>
<p>La boucle <code class="codehilite">for</code> est très utilisée en shell Bash pour parcourir les éléments d'une liste, d'un fichier ou encore le contenu d'un répertoire. Dans l'exemple ci-dessous nous listons tous les fichier du répertoire courant soit /home/foo/ :</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nv">i</span><span class="o">=</span><span class="m">0</span> <span class="c1"># Initialisation de la variable de comptage à 0</span>
<span class="c1"># On parcourt le répertoire actuel, le nom du fichier recueilli est mis dans la var nom_fichier à chaque itération </span>
<span class="c1"># &#39;*&#39; Désigne l&#39;ensemble des fichier du répertoire</span>
<span class="k">for</span> nom_fichier in *<span class="p">;</span> <span class="k">do</span> 
    <span class="nb">echo</span> <span class="nv">$i</span><span class="s2">&quot;. &quot;</span><span class="nv">$nom_fichier</span>
    <span class="nv">i</span><span class="o">=</span><span class="k">$((</span><span class="nv">$i</span><span class="o">+</span><span class="m">1</span><span class="k">))</span> <span class="c1"># On incrémente i</span>
<span class="k">done</span>
</pre></div>

<script id="asciicast-hoBrPRCznnxjkYIG9k4oRR8J5" src="https://asciinema.org/a/hoBrPRCznnxjkYIG9k4oRR8J5.js" async></script>

<h2 id="5-les-parametres-positionnels">5 - Les paramètres positionnels</h2>
<p>Les paramètres positionnels sont les paramètres passés en entrée d'un script quand vous appelez celui-ci dans le terminal. Par exemple lors de l'utilisation de la commande <code class="codehilite">rm</code> on peut passer l'option <code class="codehilite">-r</code> qui est un paramètre positionnel : <code class="codehilite">rm -r</code></p>
<p>Il est facile d'utiliser ces paramètres en Bash ils sont référencés par un numéro : 1 pour le premier paramètre, 2 pour le second ...</p>
<p><div class="codehilite"><pre><span></span>$ mon_script param1 param2 param3
</pre></div>
Pour utiliser ces paramètres dans le script :</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nv">$1</span> <span class="c1"># Utilisation du premier paramètre</span>
<span class="nv">$2</span> <span class="c1"># Utilisation du second paramètre</span>
<span class="nv">$3</span> <span class="c1"># Utilisation du troisième paramètre</span>
</pre></div>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Le paramètre positionnel <code class="codehilite">$0</code> est une chaîne de caractères contenant le nom du script</p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">L'ensemble du contenu du site rascolsin.fr</span> de <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Joris Serrand</span> est mis à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">licence Creative Commons Attribution <br />  Partage dans les Mêmes Conditions 4.0 International</a>.  <br />Made with ❤ in <a href="https://en.wikipedia.org/wiki/Albi">Albi</a>
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.9e1f3b71.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../../assets/javascripts/lunr/lunr.fr.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>